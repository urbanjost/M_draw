<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   
   <meta name="description" content="M_draw module">
    
    <meta name="author" content="John S. Urban" >
    <link rel="icon" href="../favicon.png">

    <title>M_draw &ndash; M_draw</title>

    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/pygments.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/local.css" rel="stylesheet">
    
    <link  href="../tipuesearch/tipuesearch.css" rel="stylesheet">
    
    

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="../js/jquery-2.1.3.min.js"></script>
    <script src="../js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html">M_draw </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
        
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
              data-toggle="dropdown" role="button"
              aria-haspopup="true"
     aria-expanded="false">Contents <span class="caret"></span></a>
        <ul class="dropdown-menu">
          
              
            <li><a href="../sourcefile/m_draw.f90.html">Source File</a></li>
        
        
        
            <li><a href="../lists/modules.html">Modules</a></li>
        
            
                                
            <li><a href="../lists/procedures.html">Procedures</a></li>
        
               
            <li><a href="../lists/types.html">Derived Types</a></li>
        
        
            </ul>
            </li>


<li class="visible-xs hidden-sm visible-lg"><a href="../sourcefile/m_draw.f90.html">Source File</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="../lists/modules.html">Modules</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="../lists/procedures.html">Procedures</a></li>

                             
<li class="visible-xs hidden-sm visible-lg"><a href="../lists/types.html">Derived Types</a></li>


          </ul>
        
        <form action="../search.html" class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
        </div>
<!--
        <button type="submit" class="btn btn-default">Submit</button>
-->
        </form>
        
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
    
  
  <div class="row">
    <h1>M_draw 
    <small>Module</small>
    
    </h1>
    
<div class="row">
  <div class="col-lg-12">
<div class="well well-sm">
  <ul class="list-inline" style="margin-bottom:0px;display:inline">
     
     
     
     
    
    
     <li><i class="fa fa-list-ol"></i>
       <a data-toggle="tooltip"
    data-placement="bottom" data-html="true"
    title="100.0% of total for modules and submodules.">1785 statements</a>
     </li> 
     
     
     
    <li><i class="fa fa-code"></i><a href="../src/M_draw.f90"> Source File</a></li>
     
     
  </ul>
  <ol class="breadcrumb in-well text-right">
  
    
     <li><a href='../sourcefile/m_draw.f90.html'>M_draw.f90</a></li>
    
  
     <li class="active">M_draw</li>
  </ol>
</div>
</div>
</div>
<script>
  $(function () {
  $('[data-toggle="tooltip"]').tooltip()
  })
</script>

  </div>
  
  <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm visible-md visible-lg">
    
<div id="sidebar">
  
<h3>Contents</h3>
 



<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#vars-0">Variables</a></h3></div>
  <div id="vars-0" class="panel-collapse collapse">
    <div class="list-group">
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_black">D_BLACK</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_blue">D_BLUE</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_bold">D_BOLD</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_bottom">D_BOTTOM</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_cyan">D_CYAN</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_green">D_GREEN</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_left">D_LEFT</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_magenta">D_MAGENTA</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_normal">D_NORMAL</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_red">D_RED</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_right">D_RIGHT</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_thick">D_THICK</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_thin">D_THIN</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_top">D_TOP</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_white">D_WHITE</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_xcentered">D_XCENTERED</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_ycentered">D_YCENTERED</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_yellow">D_YELLOW</a>
      
    </div>
  </div>
</div>









<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#inters-0">Interfaces</a></h3></div>
  <div id="inters-0" class="panel-collapse collapse">
    <div class="list-group">
      
      <a class="list-group-item" href="../module/m_draw.html#interface-calcw2vcoeffs">CalcW2Vcoeffs</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-vtowxy">VtoWxy</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-arc">arc</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-arcprecision">arcprecision</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-backbuffer">backbuffer</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-bottomjustify">bottomjustify</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-boxfit">boxfit</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-callobj">callobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-checkkey">checkkey</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-circle">circle</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-circleprecision">circleprecision</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-clear">clear</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-closeobj">closeobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-closepoly">closepoly</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-color">color</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-curve">curve</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-curven">curven</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-curveprecision">curveprecision</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-dashcode">dashcode</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-delobj">delobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-draw">draw</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-draw2">draw2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-expandviewport">expandviewport</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-frontbuffer">frontbuffer</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-genobj">genobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getaspect">getaspect</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getcharsize">getcharsize</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getdepth">getdepth</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getdisplaysize">getdisplaysize</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getfactors">getfactors</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getfontasc">getfontasc</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getfontdec">getfontdec</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getfontheight">getfontheight</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getfontsize">getfontsize</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getfontwidth">getfontwidth</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getgp">getgp</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getgp2">getgp2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getgpt">getgpt</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getkey">getkey</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getopenobj">getopenobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getplanes">getplanes</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getprefposandsize">getprefposandsize</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getstring">getstring</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getviewport">getviewport</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-hatchang">hatchang</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-hatchpitch">hatchpitch</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-isobj_f">isobj_F</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-leftjustify">leftjustify</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-linewidth">linewidth</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-locator">locator</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-lookat">lookat</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-makeobj">makeobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-makepoly">makepoly</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-mapcolor">mapcolor</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-move">move</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-move2">move2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-numchars">numchars</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-ortho">ortho</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-ortho2">ortho2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-page">page</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-patchcurves">patchcurves</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-patchprecision">patchprecision</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-pdraw">pdraw</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-perspective">perspective</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-pmove">pmove</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-point">point</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-point2">point2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-polarview">polarview</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-poly">poly</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-poly2">poly2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-popattributes">popattributes</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-popdev">popdev</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-popmatrix">popmatrix</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-popviewport">popviewport</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-prefposition">prefposition</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-prefsize">prefsize</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-pushattributes">pushattributes</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-pushmatrix">pushmatrix</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-pushviewport">pushviewport</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rdraw">rdraw</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rdraw2">rdraw2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rect">rect</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rightjustify">rightjustify</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rmove">rmove</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rmove2">rmove2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rotate">rotate</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rsdraw2">rsdraw2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rsmove2">rsmove2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-scale">scale</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-sdraw2">sdraw2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-sector">sector</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-sgetgp2">sgetgp2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-slocator">slocator</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-smove2">smove2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-spoint2">spoint2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-srect">srect</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-strlength_f">strlength_F</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-swapbuffers">swapbuffers</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-textang">textang</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-textjustify">textjustify</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-textsize">textsize</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-textslant">textslant</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-textweight">textweight</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-topjustify">topjustify</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-translate">translate</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-unexpandviewport">unexpandviewport</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-up">up</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-vexit">vexit</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-vflush">vflush</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-viewport">viewport</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-window">window</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-xcentertext">xcentertext</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-ycentertext">ycentertext</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-yobbarays">yobbarays</a>
      
    </div>
  </div>
</div>




<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#types-0">Derived Types</a></h3></div>
  <div id="types-0" class="panel-collapse collapse">
    <div class="list-group">
      
      <a class="list-group-item" href="../module/m_draw.html#type-matrix">MATRIX</a>
      
    </div>
  </div>
</div>



<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#funcs-0">Functions</a></h3></div>
  <div id="funcs-0" class="panel-collapse collapse">
    <div class="list-group">
      
      <a class="list-group-item" href="../module/m_draw.html#proc-isobj">isobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-strlength">strlength</a>
      
    </div>
  </div>
</div>



<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#subs-0">Subroutines</a></h3></div>
  <div class="list-group">
    <div id="subs-0" class="panel-collapse collapse">
      
      <a class="list-group-item" href="../module/m_draw.html#proc-backface">backface</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-backfacedir">backfacedir</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-boxtext">boxtext</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-centertext">centertext</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-clipping">clipping</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-curvebasis">curvebasis</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-drawchar">drawchar</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-drawstr">drawstr</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-fixedwidth">fixedwidth</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-font">font</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-getmatrix">getmatrix</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-invokeobj">invokeobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-linestyle">linestyle</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-loadmatrix">loadmatrix</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-loadobj">loadobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-multmatrix">multmatrix</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-patch">patch</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-patchbasis">patchbasis</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-polyfill">polyfill</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-polyhatch">polyhatch</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-pop">pop</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-print">print</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-printattribs">printattribs</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-printvdevice">printvdevice</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-push">push</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-pushdev">pushdev</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-rcurve">rcurve</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-saveobj">saveobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-vgetdev">vgetdev</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-vinit">vinit</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-vnewdev">vnewdev</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-voutput">voutput</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-vsetflush">vsetflush</a>
      
    </div>
  </div>
</div>










</div>

    </div>
    
    <div class="col-md-9" id='text'>
    <h2 id="name">NAME</h2>
<div class="codehilite"><pre><span></span><code>M_draw(3fm) - [M_draw::INTRO] The M_draw graphics library
(LICENSE:PD)
</code></pre></div>

<h2 id="description">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="n">M_draw</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">portable</span><span class="w"> </span><span class="k">public</span><span class="o">-</span><span class="k">domain</span><span class="w"> </span><span class="n">device</span><span class="o">-</span><span class="n">independent</span><span class="w"> </span><span class="n">graphics</span><span class="w"> </span><span class="n">library</span><span class="w"></span>
<span class="n">intended</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="k">called</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">Fortran</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">VOGLE</span><span class="w"> </span><span class="p">(</span><span class="k">from</span><span class="w"></span>
<span class="n">the</span><span class="w"> </span><span class="n">University</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">Melbourne</span><span class="p">)</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">loosely</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Silicon</span><span class="w"></span>
<span class="n">Graphics</span><span class="w"> </span><span class="n">Iris</span><span class="w"> </span><span class="n">GL</span><span class="w"> </span><span class="n">library</span><span class="p">.</span><span class="w"> </span><span class="n">It</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">partly</span><span class="w"> </span><span class="n">inspired</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">DIGS</span><span class="w"></span>
<span class="n">library</span><span class="w"> </span><span class="n">developed</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">U</span><span class="p">.</span><span class="n">S</span><span class="p">.</span><span class="w"> </span><span class="n">Naval</span><span class="w"> </span><span class="n">Academy</span><span class="w"> </span><span class="k">under</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">guidance</span><span class="w"> </span><span class="k">of</span><span class="w"></span>
<span class="n">Prof</span><span class="w"> </span><span class="n">David</span><span class="w"> </span><span class="n">Rogers</span><span class="p">.</span><span class="w"></span>

<span class="n">Many</span><span class="w"> </span><span class="k">output</span><span class="w"> </span><span class="n">devices</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="nl">available</span><span class="p">:</span><span class="w"></span>

<span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="n">FrameMaker</span><span class="w"> </span><span class="n">MIF</span><span class="w"> </span><span class="mf">3.0</span><span class="w"> </span><span class="p">(</span><span class="n">Maker</span><span class="w"> </span><span class="n">Interchange</span><span class="w"> </span><span class="k">File</span><span class="p">)</span><span class="w"> </span><span class="n">driver</span><span class="p">.</span><span class="w"></span>
<span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="n">Adobe</span><span class="w"> </span><span class="n">PDF</span><span class="w"> </span><span class="n">driver</span><span class="p">.</span><span class="w"></span>
<span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="n">HTML5</span><span class="w"> </span><span class="n">Canvas</span><span class="w"> </span><span class="n">driver</span><span class="p">.</span><span class="w"></span>
<span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="n">SVG</span><span class="w"> </span><span class="n">driver</span><span class="p">.</span><span class="w"></span>
<span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">PCL5</span><span class="o">/</span><span class="n">HPGL2</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">prefsize</span><span class="p">()</span><span class="w"> </span><span class="n">calls</span><span class="p">.</span><span class="w"></span>
<span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="n">Monochrome</span><span class="w"> </span><span class="n">PBM</span><span class="w"> </span><span class="p">(</span><span class="n">Poskanzer</span><span class="w"> </span><span class="n">bitmap</span><span class="w"> </span><span class="n">P1</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">P4</span><span class="w"> </span><span class="n">formats</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">X11</span><span class="w"></span>
<span class="w">    </span><span class="n">bitmap</span><span class="w"> </span><span class="n">driver</span><span class="p">.</span><span class="w"></span>
<span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="n">Color</span><span class="w"> </span><span class="n">PBM</span><span class="w"> </span><span class="p">(</span><span class="n">Poskanzer</span><span class="w"> </span><span class="n">pixmap</span><span class="w"> </span><span class="n">P3</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">P6</span><span class="w"> </span><span class="n">formats</span><span class="p">).</span><span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">the</span><span class="w"></span>
<span class="w">    </span><span class="n">pbmplus</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">M_draw</span><span class="w"> </span><span class="n">appear</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">write</span><span class="w"></span>
<span class="w">    </span><span class="ow">any</span><span class="w"> </span><span class="nf">format</span><span class="w"> </span><span class="n">pbmplus</span><span class="w"> </span><span class="n">writes</span><span class="w"> </span><span class="p">(</span><span class="n">assuming</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">the</span><span class="w"></span>
<span class="w">    </span><span class="n">popen</span><span class="p">(</span><span class="mi">3</span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="k">function</span><span class="p">).</span><span class="w"></span>
<span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">clear</span><span class="o">-</span><span class="nc">text</span><span class="w"> </span><span class="n">CGM</span><span class="w"> </span><span class="p">(</span><span class="n">Computer</span><span class="w"> </span><span class="n">Graphics</span><span class="w"> </span><span class="n">Metafile</span><span class="p">)</span><span class="w"> </span><span class="n">driver</span><span class="p">.</span><span class="w"></span>
<span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="p">(</span><span class="n">color</span><span class="p">)</span><span class="w"> </span><span class="n">PostScript</span><span class="w"> </span><span class="n">driver</span><span class="p">.</span><span class="w"></span>
<span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Microsoft</span><span class="w"> </span><span class="n">VML</span><span class="w"> </span><span class="p">(</span><span class="n">Vector</span><span class="w"> </span><span class="n">Markup</span><span class="w"> </span><span class="k">Language</span><span class="p">)</span><span class="w"></span>

<span class="n">M_draw</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">intended</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">produce</span><span class="w"> </span><span class="n">simple</span><span class="w"> </span><span class="n">graphics</span><span class="w"> </span><span class="n">composed</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">drawings</span><span class="w"> </span><span class="ow">and</span><span class="w"></span>
<span class="n">polygon</span><span class="w"> </span><span class="n">fills</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">dimensions</span><span class="p">.</span><span class="w"> </span><span class="n">It</span><span class="w"> </span><span class="n">handles</span><span class="w"> </span><span class="n">circles</span><span class="p">,</span><span class="w"> </span><span class="n">curves</span><span class="p">,</span><span class="w"></span>
<span class="n">arcs</span><span class="p">,</span><span class="w"> </span><span class="n">patches</span><span class="p">,</span><span class="w"> </span><span class="n">polygons</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">software</span><span class="w"> </span><span class="nc">text</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">independent</span><span class="w"></span>
<span class="n">fashion</span><span class="p">.</span><span class="w"> </span><span class="n">Simple</span><span class="w"> </span><span class="n">hidden</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">removal</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">polygon</span><span class="w"></span>
<span class="n">backfacing</span><span class="p">.</span><span class="w"> </span><span class="n">Access</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="nc">text</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">double</span><span class="w"> </span><span class="n">buffering</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">drawings</span><span class="w"></span>
<span class="n">depends</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">driver</span><span class="p">.</span><span class="w"></span>

<span class="n">M_draw</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">callable</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">Fortran</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">Pascal</span><span class="p">;</span><span class="w"></span>
<span class="n">but</span><span class="w"> </span><span class="n">M_draw</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">Fortran</span><span class="w"> </span><span class="p">(</span><span class="n">the</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="n">components</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">converted</span><span class="w"></span>
<span class="k">to</span><span class="w"> </span><span class="k">Fortran</span><span class="p">).</span><span class="w"></span>

<span class="n">The</span><span class="w"> </span><span class="n">original</span><span class="w"> </span><span class="n">VOGLE</span><span class="w"> </span><span class="n">source</span><span class="s1">&#39;s ownership statement</span>

<span class="s1">   This software is public domain and may be used for any purpose commercial</span>
<span class="s1">   or otherwise. It is offered without any guarantee as to its suitability</span>
<span class="s1">   for any purpose or as to the sanity of its writers. The authors do ask</span>
<span class="s1">   that the source is passed on to anyone that requests a copy, and that</span>
<span class="s1">   people who get copies don&#39;</span><span class="n">t</span><span class="w"> </span><span class="k">go</span><span class="w"> </span><span class="nf">round</span><span class="w"> </span><span class="n">claiming</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">wrote</span><span class="w"> </span><span class="n">it</span><span class="p">.</span><span class="w"> </span><span class="k">Use</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">your</span><span class="w"></span>
<span class="w">   </span><span class="n">own</span><span class="w"> </span><span class="n">risk</span><span class="p">.</span><span class="w"></span>
</code></pre></div>

<h2 id="library-function-descriptions">LIBRARY FUNCTION DESCRIPTIONS</h2>
<div class="codehilite"><pre><span></span><code><span class="n">DEVICE</span> <span class="n">ROUTINES</span>
<span class="n">vinit</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>                    <span class="n">Initialise</span> <span class="n">device</span>
<span class="n">vexit</span><span class="p">()</span>                          <span class="n">Reset</span> <span class="n">window</span><span class="o">/</span><span class="n">terminal</span> <span class="p">(</span><span class="n">must</span> <span class="n">be</span> <span class="n">last</span> <span class="n">routine</span> <span class="n">called</span><span class="p">)</span>
<span class="n">voutput</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>                    <span class="n">Redirect</span> <span class="n">output</span> <span class="n">from</span> <span class="o">*</span><span class="n">next</span><span class="o">*</span> <span class="n">vinit</span> <span class="n">to</span> <span class="n">file</span>
<span class="n">vnewdev</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>                  <span class="n">Reinitialize</span> <span class="n">to</span> <span class="n">use</span> <span class="n">new</span> <span class="n">device</span> <span class="n">without</span> <span class="n">changing</span>
<span class="n">vgetdev</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>                  <span class="n">Get</span> <span class="n">name</span> <span class="n">of</span> <span class="n">current</span> <span class="n">device</span>
<span class="n">pushdev</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>                  <span class="n">push</span> <span class="n">current</span> <span class="n">device</span> <span class="n">onto</span> <span class="n">a</span> <span class="n">stack</span>
<span class="n">popdev</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>                   <span class="n">pop</span> <span class="n">device</span> <span class="n">from</span> <span class="n">stack</span> <span class="n">created</span> <span class="n">by</span> <span class="n">pushdev</span><span class="o">.</span>
<span class="n">getdepth</span><span class="p">()</span>                       <span class="n">Return</span> <span class="n">number</span> <span class="n">of</span> <span class="n">bit</span> <span class="n">planes</span> <span class="p">(</span><span class="n">color</span> <span class="n">planes</span><span class="p">)</span>

<span class="n">ROUTINES</span> <span class="n">FOR</span> <span class="n">SETTING</span> <span class="n">UP</span> <span class="n">WINDOWS</span>
<span class="n">prefposition</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>               <span class="n">Specify</span> <span class="n">preferred</span> <span class="n">position</span> <span class="n">of</span> <span class="n">window</span>
<span class="n">prefsize</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>          <span class="n">Specify</span> <span class="n">preferred</span> <span class="n">width</span> <span class="ow">and</span> <span class="n">height</span> <span class="n">of</span> <span class="n">window</span>

<span class="n">Some</span> <span class="n">devices</span> <span class="n">are</span> <span class="n">basically</span> <span class="n">window</span> <span class="n">oriented</span> <span class="o">-</span> <span class="n">like</span> <span class="n">sunview</span> <span class="ow">and</span> <span class="n">X11</span><span class="o">.</span> <span class="n">You</span>
<span class="n">can</span> <span class="n">give</span> <span class="n">M_draw</span> <span class="n">some</span> <span class="n">information</span> <span class="n">on</span> <span class="n">the</span> <span class="n">window</span> <span class="n">that</span> <span class="n">it</span> <span class="n">will</span> <span class="n">use</span> <span class="n">with</span> <span class="n">these</span>
<span class="n">routines</span><span class="o">.</span> <span class="n">These</span> <span class="n">can</span> <span class="n">make</span> <span class="n">your</span> <span class="n">code</span> <span class="n">very</span> <span class="n">device</span> <span class="n">independent</span><span class="o">.</span> <span class="n">Both</span> <span class="n">routines</span>
<span class="n">take</span> <span class="n">arguments</span> <span class="n">which</span> <span class="n">are</span> <span class="ow">in</span> <span class="n">device</span> <span class="n">space</span><span class="o">.</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">is</span> <span class="n">the</span> <span class="n">top</span> <span class="n">left</span> <span class="n">hand</span>
<span class="n">corner</span> <span class="ow">in</span> <span class="n">device</span> <span class="n">space</span><span class="o">.</span> <span class="n">To</span> <span class="n">have</span> <span class="n">any</span> <span class="n">effect</span> <span class="n">these</span> <span class="n">routines</span> <span class="n">must</span> <span class="n">be</span> <span class="n">called</span>
<span class="n">before</span> <span class="n">vinit</span><span class="o">.</span> <span class="n">For</span> <span class="n">the</span> <span class="n">X11</span> <span class="n">device</span><span class="p">,</span> <span class="n">an</span> <span class="n">entry</span> <span class="n">may</span> <span class="n">be</span> <span class="n">made</span> <span class="ow">in</span> <span class="n">your</span> <span class="o">.</span><span class="n">Xdefaults</span>
<span class="n">file</span> <span class="ow">or</span> <span class="n">loaded</span> <span class="ow">in</span> <span class="n">with</span> <span class="n">the</span> <span class="n">xrdb</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">command</span><span class="p">:</span>

   <span class="n">xrdb</span> <span class="o">&lt;&lt;</span>\<span class="n">end_of_file</span>
   <span class="o">!</span> <span class="n">X11</span> <span class="n">Windows</span> <span class="n">fonts</span> <span class="n">to</span> <span class="n">use</span> <span class="k">for</span> <span class="s2">&quot;small&quot;</span> <span class="ow">and</span> <span class="s2">&quot;large&quot;</span> <span class="n">fonts</span>
   <span class="n">M_draw</span><span class="o">*</span><span class="n">smallfont</span><span class="p">:</span> <span class="n">fixed</span>
   <span class="n">M_draw</span><span class="o">*</span><span class="n">largefont</span><span class="p">:</span> <span class="mi">9</span><span class="n">x15</span>
   <span class="o">!</span> <span class="n">title</span> <span class="n">on</span> <span class="n">decoration</span> <span class="n">bar</span> <span class="k">for</span> <span class="n">the</span> <span class="n">window</span>
   <span class="n">M_draw</span><span class="o">*</span><span class="n">title</span><span class="p">:</span> <span class="n">My</span> <span class="n">M_draw</span> <span class="n">program</span>
   <span class="o">!</span> <span class="n">window</span> <span class="n">geometry</span> <span class="ow">and</span> <span class="n">position</span><span class="p">,</span>
   <span class="o">!</span> <span class="n">overridden</span> <span class="n">by</span> <span class="n">prefsize</span><span class="p">(</span><span class="mi">3</span><span class="n">c</span><span class="p">)</span> <span class="ow">and</span> <span class="n">prefposition</span><span class="p">(</span><span class="mi">3</span><span class="n">c</span><span class="p">)</span>
   <span class="n">M_draw</span><span class="o">.</span><span class="n">Geometry</span><span class="p">:</span> <span class="o">=</span><span class="mi">500</span><span class="n">x500</span><span class="o">-</span><span class="mi">10</span><span class="o">+</span><span class="mi">20</span>
   <span class="n">end_of_file</span>

<span class="p">(</span><span class="n">where</span> <span class="n">you</span> <span class="n">specify</span> <span class="n">your</span> <span class="n">geometry</span> <span class="k">as</span> <span class="n">you</span> <span class="n">please</span><span class="p">)</span><span class="o">.</span>

<span class="n">CLIPPING</span> <span class="n">ROUTINES</span>
<span class="n">clipping</span><span class="p">(</span><span class="n">onoff</span><span class="p">)</span>                  <span class="n">Turn</span> <span class="n">clipping</span> <span class="n">on</span> <span class="ow">or</span> <span class="n">off</span>

<span class="n">COLOR</span> <span class="n">ROUTINES</span>
<span class="n">clear</span><span class="p">()</span>                          <span class="n">Clears</span> <span class="n">screen</span> <span class="n">to</span> <span class="n">current</span> <span class="n">color</span>
<span class="n">color</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>                       <span class="n">Set</span> <span class="n">current</span> <span class="n">color</span>
<span class="n">mapcolor</span><span class="p">(</span><span class="n">indx</span><span class="p">,</span> <span class="n">red</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="n">blue</span><span class="p">)</span> <span class="n">Set</span> <span class="n">color</span> <span class="n">map</span> <span class="n">index</span>

<span class="n">INTERACTIVE</span> <span class="n">ROUTINES</span>
<span class="n">getkey</span><span class="p">()</span>                         <span class="n">Return</span> <span class="n">ASCII</span> <span class="n">ordinal</span> <span class="n">of</span> <span class="n">next</span> <span class="n">key</span> <span class="n">typed</span>
<span class="n">checkkey</span><span class="p">()</span>                       <span class="n">Returns</span> <span class="n">zero</span> <span class="k">if</span> <span class="n">no</span> <span class="n">key</span> <span class="k">is</span> <span class="n">pressed</span> <span class="ow">or</span> <span class="n">ASCII</span> <span class="n">ordinal</span>
<span class="n">getstring</span><span class="p">(</span><span class="n">bcol</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>          <span class="n">Read</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">string</span><span class="p">,</span> <span class="n">echoing</span> <span class="n">it</span> <span class="ow">in</span> <span class="n">current</span> <span class="n">font</span>
<span class="n">locator</span><span class="p">(</span><span class="n">xaddr</span><span class="p">,</span> <span class="n">yaddr</span><span class="p">)</span>            <span class="n">Find</span> <span class="n">out</span> <span class="n">where</span> <span class="n">cursor</span> <span class="k">is</span>
<span class="n">slocator</span><span class="p">(</span><span class="n">xaddr</span><span class="p">,</span> <span class="n">yaddr</span><span class="p">)</span>           <span class="n">Find</span> <span class="n">out</span> <span class="n">where</span> <span class="n">cursor</span> <span class="k">is</span> <span class="ow">in</span> <span class="n">screen</span> <span class="n">coordinates</span>

<span class="n">FLUSHING</span>
<span class="n">vsetflush</span><span class="p">(</span><span class="n">yesno</span><span class="p">)</span>                 <span class="n">Set</span> <span class="n">global</span> <span class="n">flushing</span> <span class="n">status</span>
<span class="n">vflush</span><span class="p">()</span>                         <span class="n">Call</span> <span class="n">device</span> <span class="n">flush</span> <span class="ow">or</span> <span class="n">syncronisation</span> <span class="n">routine</span>

<span class="n">On</span> <span class="n">some</span> <span class="n">devices</span> <span class="p">(</span><span class="n">particularly</span> <span class="n">X11</span><span class="p">)</span> <span class="n">considerable</span> <span class="n">speedups</span> <span class="ow">in</span> <span class="n">display</span>
<span class="n">can</span> <span class="n">be</span> <span class="n">achieved</span> <span class="n">by</span> <span class="ow">not</span> <span class="n">flushing</span> <span class="n">each</span> <span class="n">graphics</span> <span class="n">primitive</span> <span class="n">call</span> <span class="n">to</span> <span class="n">the</span>
<span class="n">actual</span> <span class="n">display</span> <span class="n">until</span> <span class="n">necessary</span><span class="o">.</span> <span class="n">M_draw</span> <span class="n">automatically</span> <span class="n">delays</span> <span class="n">flushing</span> <span class="ow">in</span>
<span class="n">the</span> <span class="n">following</span> <span class="n">cases</span><span class="p">:</span>

  <span class="o">*</span> <span class="n">Within</span> <span class="n">a</span> <span class="n">callobj</span><span class="p">()</span> <span class="n">call</span><span class="o">.</span>
  <span class="o">*</span> <span class="n">Within</span> <span class="n">curves</span> <span class="ow">and</span> <span class="n">patches</span><span class="o">.</span>
  <span class="o">*</span> <span class="n">Within</span> <span class="n">Hershey</span> <span class="n">software</span> <span class="n">text</span><span class="o">.</span>
  <span class="o">*</span> <span class="n">When</span> <span class="n">double</span> <span class="n">buffering</span> <span class="p">(</span><span class="n">the</span> <span class="n">flush</span> <span class="k">is</span> <span class="n">only</span> <span class="n">done</span> <span class="n">within</span> <span class="n">swapbuffers</span><span class="p">)</span><span class="o">.</span>

<span class="n">There</span> <span class="n">are</span> <span class="n">two</span> <span class="n">user</span> <span class="n">routines</span> <span class="n">that</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">control</span> <span class="n">flushing</span><span class="o">.</span>

<span class="n">VIEWPORT</span> <span class="n">ROUTINES</span>
<span class="n">viewport</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">top</span><span class="p">)</span>     <span class="n">Specify</span> <span class="n">which</span> <span class="n">part</span> <span class="n">of</span> <span class="n">screen</span> <span class="n">to</span> <span class="n">draw</span> <span class="ow">in</span>
<span class="n">pushviewport</span><span class="p">()</span>                         <span class="n">Save</span> <span class="n">current</span> <span class="n">viewport</span>
<span class="n">popviewport</span><span class="p">()</span>                          <span class="n">Retrieve</span> <span class="n">last</span> <span class="n">viewport</span>
<span class="n">getviewport</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span><span class="n">top</span><span class="p">)</span>   <span class="n">Returns</span> <span class="n">limits</span> <span class="n">of</span> <span class="n">current</span> <span class="n">viewport</span> <span class="ow">in</span> <span class="n">screen</span> <span class="n">coordinates</span>
<span class="n">expandviewport</span><span class="p">()</span>                       <span class="n">use</span> <span class="n">the</span> <span class="n">entire</span> <span class="n">device</span> <span class="n">viewport</span>
<span class="n">unexpandviewport</span><span class="p">()</span>                     <span class="n">undo</span> <span class="n">expandviewport</span><span class="p">(</span><span class="mi">3</span><span class="n">f</span><span class="p">)</span>

<span class="n">Viewpoint</span> <span class="n">routines</span> <span class="n">alter</span> <span class="n">the</span> <span class="n">current</span> <span class="n">transformation</span> <span class="n">matrix</span><span class="o">.</span>

<span class="n">GETTING</span> <span class="n">THE</span> <span class="n">ASPECT</span> <span class="n">DETAILS</span>
<span class="n">getaspect</span><span class="p">()</span>                      <span class="n">Returns</span> <span class="n">the</span> <span class="n">ratio</span> <span class="n">height</span> <span class="n">over</span> <span class="n">width</span> <span class="n">of</span> <span class="n">the</span> <span class="n">display</span> <span class="n">device</span><span class="o">.</span>
<span class="n">getfactors</span><span class="p">(</span><span class="n">wfact</span><span class="p">,</span> <span class="n">hfact</span><span class="p">)</span>         <span class="n">Returns</span> <span class="n">width</span> <span class="n">over</span> <span class="nb">min</span><span class="p">(</span><span class="n">width</span> <span class="n">of</span> <span class="n">device</span><span class="p">,</span> <span class="n">height</span> <span class="n">of</span> <span class="n">device</span><span class="p">)</span> <span class="ow">and</span> <span class="n">height</span> <span class="n">over</span> <span class="nb">min</span><span class="p">(</span><span class="n">width</span> <span class="n">of</span>
                                 <span class="n">device</span><span class="p">,</span> <span class="n">height</span> <span class="n">of</span> <span class="n">device</span><span class="p">)</span><span class="o">.</span>
<span class="n">getdisplaysize</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>             <span class="n">Returns</span> <span class="n">width</span> <span class="ow">and</span> <span class="n">height</span> <span class="n">of</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">device</span> <span class="n">units</span>

<span class="n">Often</span> <span class="n">the</span> <span class="n">screen</span> <span class="k">is</span> <span class="ow">not</span> <span class="n">perfectly</span> <span class="n">square</span> <span class="ow">and</span> <span class="n">it</span> <span class="n">would</span> <span class="n">be</span> <span class="n">nice</span> <span class="n">to</span> <span class="n">use</span>
<span class="n">the</span> <span class="n">extra</span> <span class="n">space</span> <span class="n">without</span> <span class="n">having</span> <span class="n">to</span> <span class="n">turn</span> <span class="n">clipping</span> <span class="n">off</span><span class="o">.</span> <span class="n">The</span> <span class="n">following</span>
<span class="n">routines</span> <span class="n">are</span> <span class="n">provided</span> <span class="n">to</span> <span class="n">get</span> <span class="n">the</span> <span class="n">values</span> <span class="n">needed</span> <span class="n">to</span> <span class="n">adjust</span> <span class="n">the</span> <span class="n">calls</span>
<span class="n">to</span> <span class="n">viewport</span><span class="p">,</span> <span class="n">etc</span> <span class="k">as</span> <span class="n">needed</span><span class="o">.</span>

<span class="n">ATTRIBUTE</span> <span class="n">STACK</span> <span class="n">ROUTINES</span>
<span class="n">pushattributes</span><span class="p">()</span>                 <span class="n">Save</span> <span class="n">the</span> <span class="n">current</span> <span class="n">attributes</span> <span class="n">on</span> <span class="n">the</span> <span class="n">attribute</span> <span class="n">stack</span><span class="o">.</span>
<span class="n">popattributes</span><span class="p">()</span>                  <span class="n">Restore</span> <span class="n">attributes</span> <span class="n">to</span> <span class="n">what</span> <span class="n">they</span> <span class="n">were</span> <span class="n">at</span> <span class="n">last</span> <span class="n">pushattributes</span><span class="p">()</span><span class="o">.</span>

<span class="n">The</span> <span class="n">attribute</span> <span class="n">stack</span> <span class="n">contains</span> <span class="n">details</span> <span class="n">such</span> <span class="k">as</span> <span class="n">current</span> <span class="n">color</span><span class="p">,</span> <span class="n">filling</span><span class="p">,</span>
<span class="n">hatching</span><span class="p">,</span> <span class="n">centered</span><span class="p">,</span> <span class="n">fixedwidth</span><span class="p">,</span> <span class="n">text</span> <span class="n">height</span><span class="p">,</span> <span class="n">text</span> <span class="n">width</span><span class="p">,</span> <span class="ow">and</span> <span class="n">the</span>
<span class="n">current</span> <span class="n">font</span><span class="o">.</span> <span class="n">If</span> <span class="n">you</span> <span class="n">need</span> <span class="n">to</span> <span class="n">prevent</span> <span class="n">object</span> <span class="n">calls</span> <span class="n">from</span> <span class="n">changing</span> <span class="n">these</span><span class="p">,</span>
<span class="n">use</span> <span class="n">pushattributes</span> <span class="n">before</span> <span class="n">the</span> <span class="n">call</span> <span class="ow">and</span> <span class="n">popattributes</span> <span class="n">after</span><span class="o">.</span>

<span class="n">PROJECTION</span> <span class="n">ROUTINES</span>
<span class="n">ortho</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span><span class="n">near</span><span class="p">,</span><span class="n">far</span><span class="p">)</span>    <span class="n">Define</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="n">clipping</span> <span class="n">planes</span><span class="o">.</span>
<span class="n">ortho2</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">top</span><span class="p">)</span>            <span class="n">Define</span> <span class="n">x</span> <span class="ow">and</span> <span class="n">y</span> <span class="n">clipping</span> <span class="n">planes</span><span class="o">.</span>
<span class="n">perspective</span><span class="p">(</span><span class="n">fov</span><span class="p">,</span> <span class="n">aspect</span><span class="p">,</span> <span class="n">near</span><span class="p">,</span> <span class="n">far</span><span class="p">)</span>         <span class="n">Specify</span> <span class="n">perspective</span> <span class="n">viewing</span> <span class="n">pyramid</span>
<span class="n">window</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bot</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">near</span><span class="p">,</span><span class="n">far</span><span class="p">)</span>     <span class="n">Specify</span> <span class="n">a</span> <span class="n">perspective</span> <span class="n">viewing</span> <span class="n">pyramid</span>

<span class="n">PROJECTION</span> <span class="n">AND</span> <span class="n">VIEWPORT</span> <span class="n">ROUTINES</span>
<span class="n">subroutine</span> <span class="n">page</span> <span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">top</span><span class="p">)</span>  <span class="n">create</span> <span class="n">a</span> <span class="n">window</span> <span class="n">of</span> <span class="n">the</span> <span class="n">specified</span> <span class="n">size</span> <span class="ow">and</span> <span class="n">then</span>
                                            <span class="n">set</span> <span class="n">the</span> <span class="n">viewport</span> <span class="n">to</span> <span class="n">the</span> <span class="n">largest</span> <span class="n">viewport</span> <span class="n">with</span>
                                            <span class="n">that</span> <span class="n">aspect</span> <span class="n">so</span> <span class="n">that</span> <span class="n">output</span> <span class="n">acts</span> <span class="n">much</span> <span class="n">like</span> <span class="n">a</span>
                                            <span class="n">page</span> <span class="n">of</span> <span class="n">paper</span> <span class="n">of</span> <span class="n">the</span> <span class="n">specified</span> <span class="n">size</span> <span class="n">without</span>
                                            <span class="n">distortion</span><span class="o">.</span>

<span class="n">All</span> <span class="n">the</span> <span class="n">projection</span> <span class="n">routines</span> <span class="n">define</span> <span class="n">a</span> <span class="n">new</span> <span class="n">transformation</span> <span class="n">matrix</span><span class="p">,</span> <span class="ow">and</span>
<span class="n">consequently</span> <span class="n">the</span> <span class="n">world</span> <span class="n">units</span><span class="o">.</span> <span class="n">Parallel</span> <span class="n">projections</span> <span class="n">are</span> <span class="n">defined</span> <span class="n">by</span>
<span class="n">ortho</span> <span class="ow">or</span> <span class="n">ortho2</span><span class="o">.</span> <span class="n">Perspective</span> <span class="n">projections</span> <span class="n">can</span> <span class="n">be</span> <span class="n">defined</span> <span class="n">by</span> <span class="n">perspective</span>
<span class="ow">and</span> <span class="n">window</span><span class="o">.</span>

<span class="n">MATRIX</span> <span class="n">STACK</span> <span class="n">ROUTINES</span>
<span class="n">pushmatrix</span><span class="p">()</span>                     <span class="n">Save</span> <span class="n">the</span> <span class="n">current</span> <span class="n">transformation</span> <span class="n">matrix</span> <span class="n">on</span> <span class="n">the</span> <span class="n">matrix</span> <span class="n">stack</span><span class="o">.</span>
<span class="n">popmatrix</span><span class="p">()</span>                      <span class="n">Reinstall</span> <span class="n">the</span> <span class="n">last</span> <span class="n">matrix</span> <span class="n">pushed</span>

<span class="n">VIEWPOINT</span> <span class="n">ROUTINES</span>
<span class="n">polarview</span><span class="p">(</span><span class="n">dist</span><span class="p">,</span> <span class="n">azim</span><span class="p">,</span> <span class="n">inc</span><span class="p">,</span> <span class="n">twist</span><span class="p">)</span>      <span class="n">Specify</span> <span class="n">the</span> <span class="n">viewer</span><span class="s1">&#39;s position in polar coordinates</span>
<span class="n">up</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>                            <span class="n">Specify</span> <span class="n">the</span> <span class="n">world</span> <span class="n">up</span><span class="o">.</span>
<span class="n">lookat</span><span class="p">(</span><span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span><span class="p">,</span> <span class="n">px</span><span class="p">,</span> <span class="n">py</span><span class="p">,</span> <span class="n">pz</span><span class="p">,</span><span class="n">twist</span><span class="p">)</span>   <span class="n">Specify</span> <span class="n">the</span> <span class="n">viewer</span><span class="s1">&#39;s position</span>

<span class="n">MOVE</span> <span class="n">ROUTINES</span>
<span class="n">move</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>                    <span class="n">Move</span> <span class="n">current</span> <span class="n">graphics</span> <span class="n">position</span> <span class="n">to</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
<span class="n">rmove</span><span class="p">(</span><span class="n">deltax</span><span class="p">,</span> <span class="n">deltay</span><span class="p">,</span> <span class="n">deltaz</span><span class="p">)</span>    <span class="n">Relative</span> <span class="n">move</span>
<span class="n">move2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>                      <span class="n">Move</span> <span class="n">graphics</span> <span class="n">position</span> <span class="n">to</span> <span class="n">point</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">rmove2</span><span class="p">(</span><span class="n">deltax</span><span class="p">,</span> <span class="n">deltay</span><span class="p">)</span>           <span class="n">Relative</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">world</span> <span class="n">units</span><span class="o">.</span>
<span class="n">smove2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>                     <span class="n">Move</span> <span class="n">current</span> <span class="n">graphics</span> <span class="n">position</span> <span class="ow">in</span> <span class="n">screen</span> <span class="n">coordinates</span> <span class="p">(</span><span class="o">-</span><span class="mf">1.0</span> <span class="n">to</span> <span class="mf">1.0</span><span class="p">)</span><span class="o">.</span>
<span class="n">rsmove2</span><span class="p">(</span><span class="n">deltax</span><span class="p">,</span> <span class="n">deltay</span><span class="p">)</span>          <span class="n">Relative</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">screen</span> <span class="n">units</span> <span class="p">(</span><span class="o">-</span><span class="mf">1.0</span> <span class="n">to</span> <span class="mf">1.0</span><span class="p">)</span><span class="o">.</span>

<span class="n">LINESTYLE</span> <span class="n">ROUTINES</span>
<span class="n">linewidth</span><span class="p">()</span>                      <span class="n">set</span> <span class="n">line</span> <span class="n">width</span> <span class="ow">in</span> <span class="n">rasters</span>
<span class="n">dashcode</span><span class="p">()</span>                       <span class="n">set</span> <span class="n">dash</span> <span class="n">pattern</span> <span class="n">length</span>
<span class="n">linestyle</span><span class="p">()</span>                      <span class="n">set</span> <span class="n">the</span> <span class="n">line</span> <span class="n">dash</span> <span class="n">pattern</span>

<span class="n">Linestyles</span> <span class="n">are</span> <span class="n">specified</span> <span class="n">by</span> <span class="n">giving</span> <span class="n">a</span> <span class="n">nominal</span> <span class="n">length</span> <span class="n">of</span> <span class="n">a</span> <span class="n">single</span>
<span class="n">dash</span> <span class="ow">and</span> <span class="n">a</span> <span class="n">character</span> <span class="n">string</span> <span class="n">consisting</span> <span class="n">of</span> <span class="mi">1</span><span class="s1">&#39;s and 0&#39;</span><span class="n">s</span> <span class="p">(</span><span class="n">zeros</span><span class="p">)</span> <span class="n">that</span>
<span class="n">specify</span> <span class="n">when</span> <span class="n">to</span> <span class="n">draw</span> <span class="n">a</span> <span class="n">dash</span> <span class="ow">and</span> <span class="n">when</span> <span class="ow">not</span> <span class="n">to</span> <span class="n">draw</span> <span class="n">a</span> <span class="n">dash</span><span class="o">.</span> <span class="n">Linestyles</span>
<span class="n">will</span> <span class="n">follow</span> <span class="n">curves</span> <span class="ow">and</span> <span class="s2">&quot;go around&quot;</span> <span class="n">corners</span><span class="o">.</span> <span class="n">If</span> <span class="n">a</span> <span class="n">linestyle</span> <span class="k">is</span> <span class="n">set</span> <span class="ow">or</span>
<span class="n">reset</span><span class="p">,</span> <span class="n">the</span> <span class="n">accumulated</span> <span class="n">information</span> <span class="k">as</span> <span class="n">to</span> <span class="n">where</span> <span class="n">on</span> <span class="n">a</span> <span class="n">curve</span> <span class="p">(</span><span class="ow">or</span> <span class="n">line</span><span class="p">)</span>
<span class="n">a</span> <span class="n">dash</span> <span class="k">is</span> <span class="n">to</span> <span class="n">be</span> <span class="n">draw</span> <span class="k">is</span> <span class="n">also</span> <span class="n">reset</span><span class="o">.</span>

<span class="n">For</span> <span class="n">EXAMPLE</span><span class="p">,</span> <span class="n">with</span> <span class="n">a</span> <span class="n">nominal</span> <span class="n">view</span> <span class="n">of</span> <span class="o">-</span><span class="mi">1</span> <span class="n">to</span> <span class="mi">1</span><span class="p">,</span> <span class="n">setting</span> <span class="n">the</span> <span class="n">dash</span> <span class="n">length</span>
<span class="n">to</span> <span class="mf">0.5</span><span class="p">,</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">linestyle</span> <span class="n">to</span> <span class="s1">&#39;11010&#39;</span> <span class="n">would</span> <span class="n">draw</span> <span class="n">a</span> <span class="n">line</span><span class="p">(</span><span class="ow">or</span> <span class="n">curve</span><span class="p">)</span> <span class="n">with</span>
<span class="n">a</span> <span class="mf">1.0</span> <span class="n">unit</span> <span class="n">solid</span> <span class="n">part</span><span class="p">,</span> <span class="n">followed</span> <span class="n">by</span> <span class="n">a</span> <span class="mf">0.5</span> <span class="n">unit</span> <span class="n">blank</span> <span class="n">part</span> <span class="n">followed</span> <span class="n">by</span>
<span class="n">a</span> <span class="mf">0.5</span> <span class="n">unit</span> <span class="n">solid</span> <span class="n">part</span> <span class="n">followed</span> <span class="n">by</span> <span class="n">a</span> <span class="mf">0.5</span> <span class="n">unit</span> <span class="n">blank</span> <span class="n">part</span><span class="o">.</span> <span class="n">The</span> <span class="n">linestyle</span>
<span class="n">would</span> <span class="n">then</span> <span class="n">repeat</span> <span class="n">itself</span><span class="o">.</span>

<span class="n">The</span> <span class="n">dash</span> <span class="n">sizes</span> <span class="n">are</span> <span class="n">affected</span> <span class="n">by</span> <span class="n">the</span> <span class="n">current</span> <span class="n">viewport</span><span class="o">/</span><span class="n">transformation</span>
<span class="n">scaling</span> <span class="n">factors</span><span class="p">,</span> <span class="n">meaning</span> <span class="n">that</span> <span class="ow">in</span> <span class="n">perspective</span><span class="p">,</span> <span class="n">the</span> <span class="n">dashes</span> <span class="n">look</span> <span class="n">smaller</span>
<span class="n">the</span> <span class="n">farther</span> <span class="n">away</span> <span class="n">they</span> <span class="n">are</span><span class="o">.</span>

<span class="n">DRAW</span> <span class="n">ROUTINES</span>
<span class="n">draw</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>                    <span class="n">Draw</span> <span class="n">from</span> <span class="n">current</span> <span class="n">graphics</span> <span class="n">position</span> <span class="n">to</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
<span class="n">rdraw</span><span class="p">(</span><span class="n">deltax</span><span class="p">,</span> <span class="n">deltay</span><span class="p">,</span> <span class="n">deltaz</span><span class="p">)</span>    <span class="n">Relative</span> <span class="n">draw</span>
<span class="n">draw2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>                      <span class="n">Draw</span> <span class="n">from</span> <span class="n">current</span> <span class="n">graphics</span> <span class="n">position</span> <span class="n">to</span> <span class="n">point</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">rdraw2</span><span class="p">(</span><span class="n">deltax</span><span class="p">,</span><span class="n">deltay</span><span class="p">)</span>            <span class="n">Relative</span> <span class="n">draw</span>
<span class="n">sdraw2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>                     <span class="n">Draw</span> <span class="ow">in</span> <span class="n">screen</span> <span class="n">coordinates</span> <span class="p">(</span><span class="o">-</span><span class="mf">1.0</span> <span class="n">to</span> <span class="mf">1.0</span><span class="p">)</span><span class="o">.</span>
<span class="n">rsdraw2</span><span class="p">(</span><span class="n">deltax</span><span class="p">,</span> <span class="n">deltay</span><span class="p">)</span>          <span class="n">Relative</span> <span class="n">draw</span> <span class="ow">in</span> <span class="n">screen</span> <span class="n">units</span> <span class="p">(</span><span class="o">-</span><span class="mf">1.0</span> <span class="n">to</span> <span class="mf">1.0</span><span class="p">)</span><span class="o">.</span>

<span class="n">ARCS</span> <span class="n">AND</span> <span class="n">CIRCLES</span>
<span class="n">circleprecision</span><span class="p">(</span><span class="n">nsegs</span><span class="p">)</span>                  <span class="n">Set</span> <span class="n">number</span> <span class="n">of</span> <span class="n">line</span> <span class="n">segments</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">circle</span><span class="o">.</span> <span class="n">Default</span> <span class="k">is</span> <span class="mf">32.</span>
<span class="n">arc</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">startang</span><span class="p">,</span> <span class="n">endang</span><span class="p">)</span>     <span class="n">Draw</span> <span class="n">an</span> <span class="n">arc</span> <span class="ow">in</span> <span class="n">world</span> <span class="n">units</span><span class="o">.</span>
<span class="n">sector</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">startang</span><span class="p">,</span><span class="n">endang</span><span class="p">)</span>   <span class="n">Draw</span> <span class="n">a</span> <span class="n">sector</span><span class="o">.</span> <span class="n">Note</span><span class="p">:</span> <span class="n">sectors</span> <span class="n">are</span> <span class="n">polygons</span><span class="o">.</span>
<span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span><span class="p">)</span>                    <span class="n">Draw</span> <span class="n">a</span> <span class="n">circle</span><span class="o">.</span> <span class="n">Note</span><span class="p">:</span> <span class="n">circles</span> <span class="n">are</span> <span class="n">polygons</span><span class="o">.</span>

<span class="n">When</span> <span class="n">creating</span> <span class="n">arcs</span> <span class="ow">and</span> <span class="n">sectors</span> <span class="n">note</span> <span class="n">that</span> <span class="n">angles</span> <span class="n">are</span>
<span class="n">measured</span> <span class="ow">in</span> <span class="n">degrees</span><span class="p">;</span> <span class="n">where</span> <span class="n">zero</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="k">is</span> <span class="n">the</span> <span class="n">positive</span> <span class="n">X</span> <span class="n">axis</span> <span class="ow">in</span> <span class="n">a</span>
<span class="n">right</span><span class="o">-</span><span class="n">handed</span> <span class="n">Cartesian</span> <span class="n">coordinate</span> <span class="n">system</span> <span class="ow">and</span> <span class="n">positive</span> <span class="n">angles</span> <span class="n">sweep</span>
<span class="n">counterclockwise</span><span class="o">.</span> <span class="n">If</span> <span class="n">filling</span> <span class="n">sectors</span> <span class="ow">or</span> <span class="n">circles</span> <span class="p">(</span><span class="n">As</span> <span class="n">described</span> <span class="ow">in</span> <span class="n">the</span>
<span class="n">section</span> <span class="n">on</span> <span class="n">polygons</span><span class="p">)</span> <span class="n">hatch</span> <span class="n">pitch</span> <span class="k">is</span> <span class="n">measured</span> <span class="ow">in</span> <span class="n">world</span> <span class="n">coordinates</span>
<span class="ow">and</span> <span class="k">is</span> <span class="n">initially</span> <span class="n">set</span> <span class="n">to</span> <span class="mf">0.1</span><span class="o">.</span> <span class="n">The</span> <span class="n">initial</span> <span class="n">hatch</span> <span class="n">angle</span> <span class="k">is</span> <span class="n">zero</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span>

<span class="n">CURVE</span> <span class="n">ROUTINES</span>
<span class="n">curvebasis</span><span class="p">(</span><span class="n">basis</span><span class="p">)</span>           <span class="n">Define</span> <span class="n">a</span> <span class="n">basis</span> <span class="n">matrix</span> <span class="k">for</span> <span class="n">a</span> <span class="n">curve</span><span class="o">.</span>
<span class="n">curveprecision</span><span class="p">(</span><span class="n">nsegs</span><span class="p">)</span>       <span class="n">Define</span> <span class="n">number</span> <span class="n">of</span> <span class="n">line</span> <span class="n">segments</span> <span class="n">used</span> <span class="n">to</span> <span class="n">draw</span> <span class="n">a</span> <span class="n">curve</span><span class="o">.</span>
<span class="n">rcurve</span><span class="p">(</span><span class="n">geom</span><span class="p">)</span>                <span class="n">Draw</span> <span class="n">a</span> <span class="n">rational</span> <span class="n">curve</span><span class="o">.</span>
<span class="n">curve</span><span class="p">(</span><span class="n">geom</span><span class="p">)</span>                 <span class="n">Draw</span> <span class="n">a</span> <span class="n">curve</span><span class="o">.</span>
<span class="n">curven</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">geom</span><span class="p">)</span>             <span class="n">Draw</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">3</span> <span class="n">overlapping</span> <span class="n">curve</span> <span class="n">segments</span><span class="o">.</span> <span class="n">Note</span><span class="p">:</span> <span class="n">n</span> <span class="n">must</span> <span class="n">be</span> <span class="n">at</span> <span class="n">least</span> <span class="mf">4.</span>

<span class="n">RECTANGLES</span> <span class="n">AND</span> <span class="n">GENERAL</span> <span class="n">POLYGON</span> <span class="n">ROUTINES</span>
<span class="n">rect</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>        <span class="n">Draw</span> <span class="n">a</span> <span class="n">rectangle</span><span class="o">.</span>
<span class="n">polyfill</span><span class="p">(</span><span class="n">onoff</span><span class="p">)</span>             <span class="n">Set</span> <span class="n">the</span> <span class="n">polygon</span> <span class="n">fill</span> <span class="n">flag</span>
<span class="n">polyhatch</span><span class="p">(</span><span class="n">onoff</span><span class="p">)</span>            <span class="n">Set</span> <span class="n">the</span> <span class="n">polygon</span> <span class="n">hatch</span> <span class="n">flag</span>
<span class="n">hatchang</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>             <span class="n">Set</span> <span class="n">the</span> <span class="n">angle</span> <span class="n">of</span> <span class="n">the</span> <span class="n">hatch</span> <span class="n">lines</span><span class="o">.</span>
<span class="n">hatchpitch</span><span class="p">(</span><span class="n">pitch</span><span class="p">)</span>           <span class="n">Set</span> <span class="n">the</span> <span class="n">distance</span> <span class="n">between</span> <span class="n">hatch</span> <span class="n">lines</span><span class="o">.</span>
<span class="n">poly2</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">points</span><span class="p">)</span>            <span class="n">Construct</span> <span class="n">an</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="n">polygon</span> <span class="n">from</span> <span class="n">an</span> <span class="n">array</span> <span class="n">of</span> <span class="n">points</span>
<span class="n">poly</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">points</span><span class="p">)</span>             <span class="n">Construct</span> <span class="n">a</span> <span class="n">polygon</span> <span class="n">from</span> <span class="n">an</span> <span class="n">array</span> <span class="n">of</span> <span class="n">points</span>
<span class="n">makepoly</span><span class="p">()</span>                  <span class="n">opens</span> <span class="n">polygon</span> <span class="n">constructed</span> <span class="n">by</span> <span class="n">a</span> <span class="n">series</span> <span class="n">of</span> <span class="n">move</span><span class="o">-</span><span class="n">draws</span> <span class="ow">and</span> <span class="n">closed</span> <span class="n">by</span> <span class="n">closepoly</span>
<span class="n">closepoly</span><span class="p">()</span>                 <span class="n">Terminates</span> <span class="n">a</span> <span class="n">polygon</span> <span class="n">opened</span> <span class="n">by</span> <span class="n">makepoly</span><span class="o">.</span>
<span class="n">backface</span><span class="p">(</span><span class="n">onoff</span><span class="p">)</span>             <span class="n">Turns</span> <span class="n">on</span> <span class="n">culling</span> <span class="n">of</span> <span class="n">backfacing</span> <span class="n">polygons</span><span class="o">.</span>
<span class="n">backfacedir</span><span class="p">(</span><span class="n">clockwise</span><span class="p">)</span>      <span class="n">Sets</span> <span class="n">backfacing</span> <span class="n">direction</span> <span class="n">to</span> <span class="n">clockwise</span> <span class="ow">or</span> <span class="n">anti</span><span class="o">-</span><span class="n">clockwise</span>

<span class="n">A</span> <span class="n">polygon</span> <span class="k">is</span> <span class="n">composed</span> <span class="n">of</span> <span class="n">a</span> <span class="n">number</span> <span class="n">of</span> <span class="n">coplanar</span> <span class="n">line</span> <span class="n">segments</span> <span class="n">connected</span>
<span class="n">end</span> <span class="n">to</span> <span class="n">end</span> <span class="n">to</span> <span class="n">form</span> <span class="n">a</span> <span class="n">closed</span> <span class="n">shape</span><span class="o">.</span>

<span class="n">In</span> <span class="n">M_draw</span> <span class="n">curves</span> <span class="n">are</span> <span class="n">estimated</span> <span class="n">by</span> <span class="n">a</span> <span class="n">series</span> <span class="n">of</span> <span class="n">line</span> <span class="n">segments</span><span class="p">,</span> <span class="ow">and</span> <span class="n">thus</span>
<span class="n">may</span> <span class="n">be</span> <span class="n">included</span> <span class="n">easily</span> <span class="n">into</span> <span class="n">polygons</span><span class="o">.</span>

<span class="n">Regular</span>    <span class="n">A</span> <span class="n">polygon</span> <span class="n">with</span> <span class="n">all</span> <span class="n">sides</span> <span class="ow">and</span> <span class="n">interior</span> <span class="n">angles</span> <span class="n">the</span> <span class="n">same</span><span class="o">.</span> <span class="n">Regular</span>
           <span class="n">polygons</span> <span class="n">are</span> <span class="n">always</span> <span class="n">convex</span><span class="o">.</span> <span class="n">See</span> <span class="n">Regular</span> <span class="n">Polygons</span>
<span class="n">Irregular</span>  <span class="n">Each</span> <span class="n">side</span> <span class="n">may</span> <span class="n">a</span> <span class="n">different</span> <span class="n">length</span><span class="p">,</span> <span class="n">each</span> <span class="n">angle</span> <span class="n">may</span> <span class="n">be</span> <span class="n">a</span> <span class="n">different</span>
           <span class="n">measure</span><span class="o">.</span> <span class="n">The</span> <span class="n">opposite</span> <span class="n">of</span> <span class="n">a</span> <span class="n">regular</span> <span class="n">polygon</span><span class="o">.</span> <span class="n">See</span> <span class="n">Irregular</span> <span class="n">Polygons</span>
<span class="n">Convex</span>     <span class="n">All</span> <span class="n">interior</span> <span class="n">angles</span> <span class="n">less</span> <span class="n">than</span> <span class="mi">180</span> <span class="p">,</span><span class="ow">and</span> <span class="n">all</span> <span class="n">vertices</span> <span class="s1">&#39;point</span>
           <span class="n">outwards</span><span class="s1">&#39; away from the interior. The opposite of concave. Regular</span>
           <span class="n">polygons</span> <span class="n">are</span> <span class="n">always</span> <span class="n">convex</span><span class="o">.</span> <span class="n">See</span> <span class="n">Convex</span> <span class="n">Polygons</span>
<span class="n">Concave</span>    <span class="n">One</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">interior</span> <span class="n">angles</span> <span class="n">greater</span> <span class="n">than</span> <span class="mi">180</span> <span class="o">.</span> <span class="n">Some</span> <span class="n">vertices</span>
           <span class="n">push</span> <span class="s1">&#39;inwards&#39;</span> <span class="n">towards</span> <span class="n">the</span> <span class="n">interior</span> <span class="n">of</span> <span class="n">the</span> <span class="n">polygon</span><span class="o">.</span> <span class="n">The</span> <span class="n">opposite</span>
           <span class="n">of</span> <span class="n">convex</span><span class="o">.</span>
<span class="n">Self</span><span class="o">-</span><span class="n">intersecting</span> <span class="ow">or</span> <span class="n">Crossed</span>  <span class="n">A</span> <span class="n">polygon</span> <span class="n">where</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">sides</span> <span class="n">crosses</span> <span class="n">back</span> <span class="n">over</span> <span class="n">another</span> <span class="n">side</span><span class="p">,</span>
                              <span class="n">creating</span> <span class="n">multiple</span> <span class="n">smaller</span> <span class="n">polygons</span><span class="o">.</span> <span class="n">Most</span> <span class="n">of</span> <span class="n">the</span> <span class="n">properties</span> <span class="ow">and</span>
                              <span class="n">theorems</span> <span class="n">concerning</span> <span class="n">polygons</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">apply</span> <span class="n">to</span> <span class="n">this</span> <span class="n">shape</span><span class="o">.</span> <span class="n">It</span> <span class="k">is</span>
                              <span class="n">best</span> <span class="n">considered</span> <span class="k">as</span> <span class="n">several</span> <span class="n">separate</span> <span class="n">polygons</span><span class="o">.</span> <span class="n">A</span> <span class="n">polygon</span> <span class="n">that</span> <span class="ow">in</span>
                              <span class="ow">not</span> <span class="bp">self</span><span class="o">-</span><span class="n">intersecting</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">way</span> <span class="k">is</span> <span class="n">called</span> <span class="n">a</span> <span class="n">simple</span> <span class="n">polygon</span><span class="o">.</span>

<span class="n">TEXT</span> <span class="n">ROUTINES</span>
<span class="n">font</span><span class="p">(</span><span class="n">fontname</span><span class="p">)</span>                   <span class="n">set</span> <span class="n">the</span> <span class="n">current</span> <span class="n">font</span>
<span class="n">numchars</span><span class="p">()</span>                       <span class="k">return</span> <span class="n">number</span> <span class="n">of</span> <span class="n">characters</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">current</span> <span class="n">SOFTWARE</span> <span class="n">font</span><span class="o">.</span>
<span class="n">textsize</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>          <span class="n">set</span> <span class="n">maximum</span> <span class="n">size</span> <span class="n">of</span> <span class="n">a</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">current</span> <span class="n">SOFTWARE</span> <span class="n">font</span><span class="o">.</span>
<span class="n">textang</span><span class="p">(</span><span class="n">ang</span><span class="p">)</span>                     <span class="n">set</span> <span class="n">the</span> <span class="n">SOFTWARE</span> <span class="n">text</span> <span class="n">angle</span><span class="o">.</span>
<span class="n">fixedwidth</span><span class="p">(</span><span class="n">onoff</span><span class="p">)</span>                <span class="n">turns</span> <span class="n">fixedwidth</span> <span class="n">mode</span> <span class="n">on</span> <span class="ow">or</span> <span class="n">off</span> <span class="k">for</span> <span class="n">SOFTWARE</span> <span class="n">fonts</span><span class="o">.</span>
<span class="n">getcharsize</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>    <span class="n">get</span> <span class="n">the</span> <span class="n">width</span> <span class="ow">and</span> <span class="n">height</span> <span class="n">of</span> <span class="n">a</span> <span class="n">character</span><span class="o">.</span>
<span class="n">getfontdec</span><span class="p">()</span>                     <span class="k">return</span> <span class="n">size</span> <span class="n">of</span> <span class="n">maximum</span> <span class="n">font</span> <span class="n">descender</span>
<span class="n">getfontsize</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>       <span class="n">get</span> <span class="n">maximum</span> <span class="n">width</span> <span class="ow">and</span> <span class="n">height</span> <span class="n">of</span> <span class="n">a</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">font</span><span class="o">.</span>
<span class="n">drawchar</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>                      <span class="n">draw</span> <span class="n">the</span> <span class="n">character</span> <span class="n">c</span> <span class="ow">and</span> <span class="n">update</span> <span class="n">current</span> <span class="n">position</span><span class="o">.</span>
<span class="n">drawstr</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>                     <span class="n">draw</span> <span class="n">the</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">string</span> <span class="n">at</span> <span class="n">the</span> <span class="n">current</span> <span class="n">position</span><span class="o">.</span>
<span class="n">strlength</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>                   <span class="k">return</span> <span class="n">the</span> <span class="n">length</span> <span class="n">of</span> <span class="n">the</span> <span class="n">string</span> <span class="n">s</span>
<span class="n">boxtext</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>           <span class="n">stretch</span> <span class="ow">and</span> <span class="n">draw</span> <span class="n">the</span> <span class="n">SOFTWARE</span> <span class="n">string</span> <span class="n">s</span> <span class="n">so</span> <span class="n">that</span> <span class="n">it</span> <span class="n">fits</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">imaginary</span> <span class="n">box</span>
<span class="n">boxfit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>            <span class="n">resize</span> <span class="n">the</span> <span class="n">SOFTWARE</span> <span class="n">text</span> <span class="n">size</span> <span class="n">so</span> <span class="n">it</span> <span class="n">fits</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">box</span>

<span class="n">textjustify</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>                 <span class="n">general</span> <span class="n">text</span> <span class="n">justification</span>

<span class="n">leftjustify</span><span class="p">()</span>                    <span class="n">left</span> <span class="n">justify</span> <span class="n">text</span>
<span class="n">rightjustify</span><span class="p">()</span>                   <span class="n">right</span> <span class="n">justify</span> <span class="n">text</span>
<span class="n">topjustify</span><span class="p">()</span>                     <span class="n">top</span> <span class="n">justify</span> <span class="n">text</span>
<span class="n">bottomjustify</span><span class="p">()</span>                  <span class="n">bottom</span> <span class="n">justify</span> <span class="n">text</span>

<span class="n">centertext</span><span class="p">(</span><span class="n">onoff</span><span class="p">)</span>                <span class="n">turns</span> <span class="n">centertext</span> <span class="n">mode</span> <span class="n">on</span> <span class="ow">or</span> <span class="n">off</span> <span class="k">for</span> <span class="n">SOFTWARE</span> <span class="n">fonts</span><span class="o">.</span>
<span class="n">xcentertext</span><span class="p">()</span>                    <span class="n">center</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">X</span> <span class="n">direction</span>
<span class="n">ycentertext</span><span class="p">()</span>                    <span class="n">center</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">Y</span> <span class="n">direction</span>

<span class="n">textslant</span><span class="p">()</span>                      <span class="n">defines</span> <span class="n">the</span> <span class="n">obliqueness</span> <span class="n">of</span> <span class="n">the</span> <span class="n">fonts</span><span class="o">.</span>
<span class="n">textweight</span><span class="p">()</span>                     <span class="n">defines</span> <span class="n">the</span> <span class="n">weight</span> <span class="n">of</span> <span class="n">the</span> <span class="n">fonts</span><span class="o">.</span>

<span class="n">M_draw</span> <span class="n">supports</span> <span class="n">hardware</span> <span class="ow">and</span> <span class="n">software</span> <span class="n">fonts</span><span class="o">.</span> <span class="n">The</span> <span class="n">software</span> <span class="n">fonts</span> <span class="n">are</span> <span class="n">based</span>
<span class="n">on</span> <span class="n">the</span> <span class="n">character</span> <span class="n">set</span> <span class="n">digitized</span> <span class="n">by</span> <span class="n">Dr</span> <span class="n">Allen</span> <span class="n">V</span><span class="o">.</span> <span class="n">Hershey</span> <span class="k">while</span> <span class="n">working</span> <span class="n">at</span>
<span class="n">the</span> <span class="n">U</span><span class="o">.</span> <span class="n">S</span><span class="o">.</span> <span class="n">National</span> <span class="n">Bureau</span> <span class="n">of</span> <span class="n">Standards</span><span class="o">.</span> <span class="n">Exactly</span> <span class="n">what</span> <span class="n">hardware</span> <span class="n">fonts</span> <span class="n">are</span>
<span class="n">supported</span> <span class="n">depends</span> <span class="n">on</span> <span class="n">the</span> <span class="n">device</span><span class="p">,</span> <span class="n">but</span> <span class="n">it</span> <span class="k">is</span> <span class="n">guaranteed</span> <span class="n">that</span> <span class="n">the</span> <span class="n">names</span>
<span class="s2">&quot;large&quot;</span> <span class="ow">and</span> <span class="s2">&quot;small&quot;</span> <span class="n">will</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">something</span> <span class="n">readable</span><span class="o">.</span> <span class="n">For</span> <span class="n">X11</span> <span class="n">displays</span>
<span class="n">the</span> <span class="n">default</span> <span class="n">large</span> <span class="ow">and</span> <span class="n">small</span> <span class="n">fonts</span> <span class="n">used</span> <span class="n">by</span> <span class="n">the</span> <span class="n">program</span> <span class="n">can</span> <span class="n">be</span> <span class="n">overridden</span>
<span class="n">by</span> <span class="n">placing</span> <span class="n">the</span> <span class="n">following</span> <span class="n">defaults</span> <span class="ow">in</span> <span class="n">the</span> <span class="o">~/.</span><span class="n">Xdefaults</span> <span class="n">file</span><span class="p">:</span>

  <span class="n">draw</span><span class="o">.</span><span class="n">smallfont</span><span class="p">:</span> <span class="n">X11</span><span class="o">-</span><span class="n">font</span><span class="o">-</span><span class="n">name</span>
  <span class="n">draw</span><span class="o">.</span><span class="n">largefont</span><span class="p">:</span> <span class="n">X11</span><span class="o">-</span><span class="n">font</span><span class="o">-</span><span class="n">name</span>

<span class="n">It</span> <span class="k">is</span> <span class="n">noted</span> <span class="n">here</span> <span class="n">that</span> <span class="n">hardware</span> <span class="n">text</span> <span class="k">is</span> <span class="n">always</span> <span class="n">assumed</span> <span class="n">to</span> <span class="n">be</span> <span class="n">drawn</span>
<span class="n">parallel</span> <span class="n">to</span> <span class="n">the</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="n">plane</span><span class="p">,</span> <span class="n">using</span> <span class="n">whatever</span> <span class="n">the</span> <span class="n">current</span> <span class="n">z</span> <span class="n">coordinate</span>
<span class="k">is</span><span class="o">.</span> <span class="n">The</span> <span class="n">following</span> <span class="n">software</span> <span class="n">fonts</span> <span class="n">are</span> <span class="n">supported</span><span class="p">:</span>

   <span class="n">astrology</span>       <span class="n">cursive</span>         <span class="n">cyrillic</span>        <span class="n">futura</span><span class="o">.</span><span class="n">l</span>
   <span class="n">futura</span><span class="o">.</span><span class="n">m</span>        <span class="n">gothic</span><span class="o">.</span><span class="n">eng</span>      <span class="n">gothic</span><span class="o">.</span><span class="n">ger</span>      <span class="n">gothic</span><span class="o">.</span><span class="n">ita</span>
   <span class="n">greek</span>           <span class="n">markers</span>         <span class="n">math</span><span class="o">.</span><span class="n">low</span>        <span class="n">math</span><span class="o">.</span><span class="n">upp</span>
   <span class="n">meteorology</span>     <span class="n">music</span>           <span class="n">script</span>          <span class="n">symbolic</span>
   <span class="n">times</span><span class="o">.</span><span class="n">g</span>         <span class="n">times</span><span class="o">.</span><span class="n">i</span>         <span class="n">times</span><span class="o">.</span><span class="n">ib</span>        <span class="n">times</span><span class="o">.</span><span class="n">r</span>
   <span class="n">times</span><span class="o">.</span><span class="n">rb</span>        <span class="n">japanese</span>

<span class="n">A</span> <span class="n">markers</span> <span class="n">font</span> <span class="s2">&quot;markers&quot;</span> <span class="k">is</span> <span class="n">also</span> <span class="n">provided</span> <span class="k">for</span> <span class="n">doing</span> <span class="n">markers</span> <span class="o">-</span> <span class="n">you</span> <span class="n">need</span>
<span class="n">to</span> <span class="n">have</span> <span class="n">centertext</span> <span class="n">mode</span> <span class="n">on</span> <span class="k">for</span> <span class="n">this</span> <span class="n">to</span> <span class="n">give</span> <span class="n">sensible</span> <span class="n">results</span> <span class="n">when</span> <span class="n">placing</span>
<span class="n">the</span> <span class="n">markers</span><span class="o">.</span>

<span class="n">If</span> <span class="n">the</span> <span class="n">environment</span> <span class="n">variable</span> <span class="s2">&quot;M_DRAW_FONTPATH&quot;</span> <span class="k">is</span> <span class="n">set</span> <span class="n">M_draw</span> <span class="n">looks</span> <span class="k">for</span> <span class="n">the</span> <span class="n">software</span>
<span class="n">fonts</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">directory</span> <span class="n">given</span> <span class="n">by</span> <span class="n">this</span> <span class="n">value</span><span class="o">.</span>

<span class="n">the</span> <span class="n">default</span> <span class="n">font</span> <span class="k">is</span> <span class="n">futura</span><span class="o">.</span><span class="n">l</span>

<span class="n">TRANSFORMATION</span> <span class="n">ROUTINES</span>
<span class="n">translate</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>          <span class="n">Set</span> <span class="n">up</span> <span class="n">a</span> <span class="n">translation</span><span class="o">.</span>
<span class="n">scale</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>              <span class="n">Set</span> <span class="n">up</span> <span class="n">scaling</span> <span class="n">factors</span> <span class="ow">in</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="ow">and</span> <span class="n">z</span> <span class="n">axis</span><span class="o">.</span>
<span class="n">rotate</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span>         <span class="n">Set</span> <span class="n">up</span> <span class="n">a</span> <span class="n">rotation</span> <span class="ow">in</span> <span class="n">axis</span> <span class="n">axis</span> <span class="n">where</span> <span class="n">axis</span> <span class="k">is</span> <span class="n">one</span> <span class="n">of</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="ow">or</span> <span class="s1">&#39;z&#39;</span><span class="o">.</span>

<span class="n">All</span> <span class="n">transformations</span> <span class="n">are</span> <span class="n">cumulative</span><span class="p">,</span> <span class="n">so</span> <span class="k">if</span> <span class="n">you</span> <span class="n">rotate</span> <span class="n">something</span> <span class="ow">and</span>
<span class="n">then</span> <span class="n">do</span> <span class="n">a</span> <span class="n">translate</span> <span class="n">you</span> <span class="n">are</span> <span class="n">translating</span> <span class="n">relative</span> <span class="n">to</span> <span class="n">the</span> <span class="n">rotated</span>
<span class="n">axes</span><span class="o">.</span> <span class="n">If</span> <span class="n">you</span> <span class="n">need</span> <span class="n">to</span> <span class="n">preserve</span> <span class="n">the</span> <span class="n">current</span> <span class="n">transformation</span> <span class="n">matrix</span> <span class="n">use</span>
<span class="n">pushmatrix</span><span class="p">(),</span> <span class="n">do</span> <span class="n">the</span> <span class="n">drawing</span><span class="p">,</span> <span class="ow">and</span> <span class="n">then</span> <span class="n">call</span> <span class="n">popmatrix</span><span class="p">()</span> <span class="n">to</span> <span class="n">get</span> <span class="n">back</span>
<span class="n">where</span> <span class="n">you</span> <span class="n">were</span> <span class="n">before</span><span class="o">.</span>

<span class="n">When</span> <span class="n">doing</span> <span class="n">transformations</span><span class="p">,</span> <span class="n">ensure</span> <span class="n">your</span> <span class="n">objects</span> <span class="n">remain</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">viewing</span>
<span class="n">volume</span> <span class="ow">or</span> <span class="n">they</span> <span class="n">will</span> <span class="n">be</span> <span class="n">clipped</span><span class="o">.</span> <span class="n">See</span> <span class="n">routines</span> <span class="n">such</span> <span class="k">as</span> <span class="n">ortho</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span>
<span class="n">more</span> <span class="n">information</span><span class="o">.</span>

<span class="n">PATCH</span> <span class="n">ROUTINES</span>
<span class="n">patchbasis</span><span class="p">(</span><span class="n">tbasis</span><span class="p">,</span> <span class="n">ubasis</span><span class="p">)</span>  <span class="n">Define</span> <span class="n">the</span> <span class="n">t</span> <span class="ow">and</span> <span class="n">u</span> <span class="n">basis</span> <span class="n">matrices</span> <span class="n">of</span> <span class="n">a</span> <span class="n">patch</span><span class="o">.</span>
<span class="n">patchprecision</span><span class="p">(</span><span class="n">tseg</span><span class="p">,</span> <span class="n">useg</span><span class="p">)</span>  <span class="n">Set</span> <span class="n">minimum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">line</span> <span class="n">segments</span> <span class="n">making</span> <span class="n">up</span> <span class="n">curves</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">patch</span><span class="o">.</span>
<span class="n">patchcurves</span><span class="p">(</span><span class="n">nt</span><span class="p">,</span> <span class="n">nu</span><span class="p">)</span>         <span class="n">Set</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">curves</span> <span class="n">making</span> <span class="n">up</span> <span class="n">a</span> <span class="n">patch</span><span class="o">.</span>
<span class="n">rpatch</span><span class="p">(</span><span class="n">gx</span><span class="p">,</span> <span class="n">gy</span><span class="p">,</span> <span class="n">gz</span><span class="p">,</span> <span class="n">gw</span><span class="p">)</span>      <span class="n">Draws</span> <span class="n">a</span> <span class="n">rational</span> <span class="n">patch</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">current</span> <span class="n">basis</span><span class="p">,</span> <span class="n">according</span> <span class="n">to</span> <span class="n">the</span> <span class="n">geometry</span> <span class="n">matrices</span> <span class="n">gx</span><span class="p">,</span> <span class="n">gy</span><span class="p">,</span> <span class="n">gz</span><span class="p">,</span> <span class="ow">and</span> <span class="n">gw</span><span class="o">.</span>
<span class="n">patch</span><span class="p">(</span><span class="n">gx</span><span class="p">,</span> <span class="n">gy</span><span class="p">,</span> <span class="n">gz</span><span class="p">)</span>           <span class="n">Draws</span> <span class="n">a</span> <span class="n">patch</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">current</span> <span class="n">basis</span><span class="p">,</span> <span class="n">according</span> <span class="n">to</span> <span class="n">the</span> <span class="n">geometry</span> <span class="n">matrices</span> <span class="n">gx</span><span class="p">,</span> <span class="n">gy</span><span class="p">,</span> <span class="ow">and</span> <span class="n">gz</span><span class="o">.</span>

<span class="n">POINT</span> <span class="n">ROUTINES</span>
<span class="n">point</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>              <span class="n">Draw</span> <span class="n">a</span> <span class="n">point</span> <span class="n">at</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>
<span class="n">point2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>                <span class="n">Draw</span> <span class="n">a</span> <span class="n">point</span> <span class="n">at</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span>

<span class="n">points</span> <span class="n">are</span> <span class="n">drawn</span> <span class="n">with</span> <span class="n">the</span> <span class="n">current</span> <span class="n">color</span> <span class="ow">and</span> <span class="n">linewidth</span><span class="o">.</span> <span class="n">Points</span> <span class="n">are</span>
<span class="n">currently</span> <span class="n">device</span><span class="o">-</span><span class="n">specific</span> <span class="ow">and</span> <span class="n">may</span> <span class="n">appear</span> <span class="k">as</span> <span class="n">circles</span><span class="p">,</span> <span class="n">squares</span><span class="p">,</span> <span class="ow">or</span>
<span class="ow">not</span> <span class="n">at</span> <span class="n">all</span><span class="p">;</span> <span class="k">as</span> <span class="n">they</span> <span class="n">are</span> <span class="n">generated</span> <span class="n">by</span> <span class="n">a</span> <span class="n">zero</span><span class="o">-</span><span class="n">length</span> <span class="n">vector</span> <span class="n">using</span> <span class="n">the</span>
<span class="n">hardware</span> <span class="n">line</span> <span class="n">style</span><span class="o">.</span>

<span class="n">OBJECT</span> <span class="n">ROUTINES</span>
<span class="n">makeobj</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>                  <span class="n">Commence</span> <span class="n">the</span> <span class="n">object</span> <span class="n">number</span> <span class="n">n</span><span class="o">.</span>
<span class="n">closeobj</span><span class="p">()</span>                  <span class="n">Close</span> <span class="n">the</span> <span class="n">current</span> <span class="n">object</span><span class="o">.</span>
<span class="n">genobj</span><span class="p">()</span>                    <span class="n">Returns</span> <span class="n">a</span> <span class="n">unique</span> <span class="n">object</span> <span class="n">identifier</span><span class="o">.</span>
<span class="n">getopenobj</span><span class="p">()</span>                <span class="n">Return</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">the</span> <span class="n">current</span> <span class="n">object</span><span class="o">.</span>
<span class="n">callobj</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>                  <span class="n">Draw</span> <span class="n">object</span> <span class="n">number</span> <span class="n">n</span><span class="o">.</span>
<span class="n">isobj</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>                    <span class="n">Returns</span> <span class="n">non</span><span class="o">-</span><span class="n">zero</span> <span class="k">if</span> <span class="n">there</span> <span class="k">is</span> <span class="n">an</span> <span class="n">object</span> <span class="n">of</span> <span class="n">number</span> <span class="n">n</span><span class="o">.</span>
<span class="n">delobj</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>                   <span class="n">Delete</span> <span class="n">the</span> <span class="n">object</span> <span class="n">number</span> <span class="n">n</span><span class="o">.</span>
<span class="n">loadobj</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>        <span class="n">Load</span> <span class="n">the</span> <span class="n">object</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">file</span> <span class="n">filename</span> <span class="k">as</span> <span class="n">object</span> <span class="n">number</span> <span class="n">n</span><span class="o">.</span>
<span class="n">saveobj</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>        <span class="n">Save</span> <span class="n">object</span> <span class="n">number</span> <span class="n">n</span> <span class="n">into</span> <span class="n">file</span> <span class="n">filename</span><span class="o">.</span> <span class="n">Does</span> <span class="n">NOT</span> <span class="n">save</span> <span class="n">objects</span> <span class="n">called</span> <span class="n">inside</span> <span class="n">object</span> <span class="n">n</span><span class="o">.</span>

<span class="n">invokeobj</span><span class="p">(</span><span class="n">xt</span><span class="p">,</span><span class="n">yt</span><span class="p">,</span><span class="n">zt</span><span class="p">,</span><span class="n">xs</span><span class="p">,</span><span class="n">ys</span><span class="p">,</span><span class="n">zs</span><span class="p">,</span><span class="n">xr</span><span class="p">,</span><span class="n">yr</span><span class="p">,</span><span class="n">zr</span><span class="p">,</span><span class="n">iobject</span><span class="p">)</span>  <span class="n">push</span> <span class="n">environment</span> <span class="ow">and</span> <span class="n">do</span> <span class="n">a</span> <span class="n">transformation</span> <span class="ow">and</span> <span class="n">then</span> <span class="n">pop</span> <span class="n">environment</span>

<span class="n">Objects</span> <span class="n">are</span> <span class="n">graphical</span> <span class="n">entities</span> <span class="n">created</span> <span class="n">by</span> <span class="n">the</span> <span class="n">drawing</span> <span class="n">routines</span> <span class="n">called</span>
<span class="n">between</span> <span class="n">makeobj</span> <span class="ow">and</span> <span class="n">closeobj</span><span class="o">.</span> <span class="n">Objects</span> <span class="n">may</span> <span class="n">be</span> <span class="n">called</span> <span class="n">from</span> <span class="n">within</span> <span class="n">other</span>
<span class="n">objects</span><span class="o">.</span> <span class="n">When</span> <span class="n">an</span> <span class="n">object</span> <span class="k">is</span> <span class="n">created</span> <span class="n">most</span> <span class="n">of</span> <span class="n">the</span> <span class="n">calculations</span> <span class="n">required</span>
<span class="n">by</span> <span class="n">the</span> <span class="n">drawing</span> <span class="n">routines</span> <span class="n">called</span> <span class="n">within</span> <span class="n">it</span> <span class="n">are</span> <span class="n">done</span> <span class="n">up</span> <span class="n">to</span> <span class="n">where</span> <span class="n">the</span>
<span class="n">calculations</span> <span class="n">involve</span> <span class="n">the</span> <span class="n">current</span> <span class="n">transformation</span> <span class="n">matrix</span><span class="o">.</span> <span class="n">So</span> <span class="k">if</span> <span class="n">you</span> <span class="n">need</span> <span class="n">to</span>
<span class="n">draw</span> <span class="n">the</span> <span class="n">same</span> <span class="n">thing</span> <span class="n">several</span> <span class="n">times</span> <span class="n">on</span> <span class="n">the</span> <span class="n">screen</span> <span class="n">but</span> <span class="ow">in</span> <span class="n">different</span> <span class="n">places</span>
<span class="n">it</span> <span class="k">is</span> <span class="n">faster</span> <span class="n">to</span> <span class="n">use</span> <span class="n">objects</span> <span class="n">than</span> <span class="n">to</span> <span class="n">call</span> <span class="n">the</span> <span class="n">appropriate</span> <span class="n">drawing</span> <span class="n">routines</span>
<span class="n">each</span> <span class="n">time</span><span class="o">.</span> <span class="n">Objects</span> <span class="n">also</span> <span class="n">have</span> <span class="n">the</span> <span class="n">advantage</span> <span class="n">of</span> <span class="n">being</span> <span class="n">savable</span> <span class="n">to</span> <span class="n">a</span> <span class="n">file</span><span class="p">,</span>
<span class="n">from</span> <span class="n">where</span> <span class="n">they</span> <span class="n">can</span> <span class="n">be</span> <span class="n">reloaded</span> <span class="k">for</span> <span class="n">later</span> <span class="n">reuse</span><span class="o">.</span> <span class="n">Routines</span> <span class="n">which</span> <span class="n">draw</span>
<span class="ow">or</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">screen</span> <span class="n">coordinates</span><span class="p">,</span> <span class="ow">or</span> <span class="n">change</span> <span class="n">device</span><span class="p">,</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">included</span>
<span class="ow">in</span> <span class="n">objects</span><span class="o">.</span>

<span class="n">DOUBLE</span> <span class="n">BUFFERING</span>
<span class="n">backbuffer</span><span class="p">()</span>                <span class="n">Draw</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">backbuffer</span><span class="o">.</span> <span class="n">Returns</span> <span class="o">-</span><span class="mi">1</span> <span class="k">if</span> <span class="n">the</span> <span class="n">device</span> <span class="k">is</span> <span class="ow">not</span> <span class="n">up</span> <span class="n">to</span> <span class="n">it</span><span class="o">.</span>
<span class="n">frontbuffer</span><span class="p">()</span>               <span class="n">Draw</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">front</span> <span class="n">buffer</span><span class="o">.</span> <span class="n">This</span> <span class="n">will</span> <span class="n">always</span> <span class="n">work</span><span class="o">.</span>
<span class="n">swapbuffers</span><span class="p">()</span>               <span class="n">Swap</span> <span class="n">the</span> <span class="n">front</span> <span class="ow">and</span> <span class="n">back</span> <span class="n">buffers</span><span class="o">.</span>

<span class="n">Where</span> <span class="n">possible</span> <span class="n">M_draw</span> <span class="n">allows</span> <span class="k">for</span> <span class="n">front</span> <span class="ow">and</span> <span class="n">back</span> <span class="n">buffers</span> <span class="n">to</span> <span class="n">enable</span>
<span class="n">things</span> <span class="n">like</span> <span class="n">animation</span> <span class="ow">and</span> <span class="n">smooth</span> <span class="n">updating</span> <span class="n">of</span> <span class="n">the</span> <span class="n">screen</span><span class="o">.</span> <span class="n">The</span> <span class="n">routine</span>
<span class="n">backbuffer</span> <span class="k">is</span> <span class="n">used</span> <span class="n">to</span> <span class="n">initialise</span> <span class="n">double</span> <span class="n">buffering</span><span class="o">.</span>

<span class="n">POSITION</span> <span class="n">ROUTINES</span>
<span class="n">getgp</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>              <span class="n">Gets</span> <span class="n">the</span> <span class="n">current</span> <span class="n">graphics</span> <span class="n">position</span>
<span class="n">getgpt</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>          <span class="n">Gets</span> <span class="n">the</span> <span class="n">current</span> <span class="n">transformed</span> <span class="n">graphics</span> <span class="n">position</span> <span class="ow">in</span> <span class="n">world</span> <span class="n">coords</span><span class="o">.</span>
<span class="n">getgp2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>                <span class="n">Gets</span> <span class="n">the</span> <span class="n">current</span> <span class="n">graphics</span> <span class="n">position</span>
<span class="n">sgetgp2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>               <span class="n">Gets</span> <span class="n">the</span> <span class="n">current</span> <span class="n">screen</span> <span class="n">graphics</span> <span class="n">position</span> <span class="ow">in</span> <span class="n">screen</span> <span class="n">coords</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="n">to</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">GENERAL</span> <span class="n">STACK</span> <span class="n">ROUTINES</span>
<span class="n">subroutine</span> <span class="n">pop</span><span class="p">()</span>            <span class="n">pop</span>
<span class="n">subroutine</span> <span class="n">push</span><span class="p">()</span>           <span class="n">push</span>
</code></pre></div>

<h2 id="example">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_M_draw</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
<span class="nv">use</span> <span class="nv">M_units</span>,    <span class="nv">only</span> : <span class="nv">cosd</span>, <span class="nv">sind</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">integer</span>  :: <span class="nv">ipaws</span>
<span class="nv">real</span>     :: <span class="nv">x1</span>, <span class="nv">y1</span>
<span class="nv">integer</span>  :: <span class="nv">icolor</span>
<span class="nv">integer</span>  :: <span class="nv">i</span>,<span class="nv">j</span>

   <span class="o">!</span> <span class="nv">initialize</span> <span class="nv">image</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">400</span>,<span class="mi">400</span><span class="ss">)</span>  <span class="o">!</span> <span class="nv">set</span> <span class="nv">size</span> <span class="nv">before</span> <span class="nv">starting</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>         <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">10</span>.<span class="mi">0</span>,<span class="mi">10</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span> <span class="mi">0</span>,   <span class="mi">255</span>,<span class="mi">255</span>,<span class="mi">255</span> <span class="ss">)</span>  <span class="o">!</span><span class="nv">white</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span> <span class="mi">1</span>,   <span class="mi">255</span>,  <span class="mi">0</span>,  <span class="mi">0</span> <span class="ss">)</span>  <span class="o">!</span><span class="nv">red</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span> <span class="mi">2</span>,     <span class="mi">0</span>,<span class="mi">255</span>,  <span class="mi">0</span> <span class="ss">)</span>  <span class="o">!</span><span class="nv">green</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span> <span class="mi">3</span>,   <span class="mi">255</span>,<span class="mi">255</span>,  <span class="mi">0</span> <span class="ss">)</span>  <span class="o">!</span><span class="nv">yellow</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span> <span class="mi">4</span>,     <span class="mi">0</span>,  <span class="mi">0</span>,<span class="mi">255</span> <span class="ss">)</span>  <span class="o">!</span><span class="nv">blue</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span> <span class="mi">5</span>,   <span class="mi">255</span>,  <span class="mi">0</span>,<span class="mi">255</span> <span class="ss">)</span>  <span class="o">!</span><span class="nv">magenta</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span> <span class="mi">6</span>,     <span class="mi">0</span>,<span class="mi">255</span>,<span class="mi">255</span> <span class="ss">)</span>  <span class="o">!</span><span class="nv">cyan</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span> <span class="mi">7</span>,     <span class="mi">0</span>,  <span class="mi">0</span>,  <span class="mi">0</span> <span class="ss">)</span>  <span class="o">!</span><span class="nv">black</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span> <span class="mi">8</span>,     <span class="mi">0</span>,<span class="mi">155</span>,  <span class="mi">0</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span> <span class="mi">9</span>,   <span class="mi">155</span>,<span class="mi">155</span>,<span class="mi">155</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span><span class="mi">10</span>,   <span class="mi">155</span>,<span class="mi">255</span>,<span class="mi">255</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span><span class="mi">11</span>,   <span class="mi">155</span>,<span class="mi">155</span>,  <span class="mi">0</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span><span class="mi">12</span>,     <span class="mi">0</span>,  <span class="mi">0</span>,<span class="mi">155</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span><span class="mi">13</span>,   <span class="mi">155</span>,  <span class="mi">0</span>,<span class="mi">155</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span><span class="mi">14</span>,     <span class="mi">0</span>,<span class="mi">155</span>,<span class="mi">155</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span><span class="mi">15</span>,   <span class="mi">100</span>,<span class="mi">100</span>,<span class="mi">100</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span><span class="mi">16</span>,   <span class="mi">155</span>,<span class="mi">100</span>,<span class="mi">100</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>            <span class="o">!</span> <span class="nv">clear</span> <span class="nv">to</span> <span class="nv">color</span> <span class="mi">0</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>

   <span class="o">!</span> <span class="nv">map</span> <span class="nv">area</span> <span class="nv">of</span> <span class="nv">virtual</span> <span class="nv">world</span> <span class="nv">to</span> <span class="nv">specified</span> <span class="nv">device</span> <span class="nv">area</span>
   <span class="o">!</span> <span class="nv">notice</span> <span class="nv">Y</span><span class="o">-</span><span class="nv">axis</span> <span class="k">for</span> <span class="nv">viewport</span> <span class="nv">is</span> <span class="nv">zero</span> <span class="nv">at</span> <span class="nv">TOP</span>
   <span class="o">!</span> <span class="nv">define</span> <span class="nv">the</span> <span class="nv">virtual</span> <span class="nv">world</span> <span class="nv">area</span> <span class="nv">we</span> <span class="nv">want</span> <span class="nv">to</span> <span class="nv">work</span> <span class="nv">in</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,  <span class="mi">400</span>.<span class="mi">0</span>,    <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">400</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="o">!</span> <span class="nv">the</span> <span class="nv">drawing</span> <span class="nv">routines</span> <span class="nv">use</span> <span class="nv">these</span> <span class="nv">world</span> <span class="nv">units</span>

   <span class="o">!</span> <span class="nv">put</span> <span class="nv">some</span> <span class="nv">colored</span> <span class="nv">boxes</span> <span class="nv">into</span> <span class="nv">pixmap</span> <span class="nv">by</span> <span class="nv">address</span>
   <span class="o">!</span> <span class="nv">so</span> <span class="k">show</span> <span class="nv">how</span> <span class="nv">the</span> <span class="nv">pixel</span> <span class="nv">map</span> <span class="nv">can</span> <span class="nv">be</span> <span class="nv">edited</span> <span class="nv">easily</span> <span class="nv">with</span>
   <span class="o">!</span> <span class="nv">other</span> <span class="nv">routines</span> <span class="nv">that</span> <span class="nv">can</span> <span class="nv">manipulate</span> <span class="nv">a</span> <span class="nv">pixel</span> <span class="nv">array</span>.
   <span class="o">!</span> <span class="nv">The</span> <span class="nv">P_pixel</span> <span class="nv">array</span> <span class="nv">was</span> <span class="nv">created</span> <span class="nv">when</span> <span class="nv">vinit</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="nv">was</span> <span class="nv">called</span>
   <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
   <span class="nv">icolor</span><span class="o">=</span><span class="mi">1</span>
   <span class="k">do</span> <span class="nv">i</span><span class="o">=</span><span class="mi">0</span>,<span class="mi">3</span>
      <span class="k">do</span> <span class="nv">j</span><span class="o">=</span><span class="mi">0</span>,<span class="mi">3</span>
         <span class="nv">x1</span><span class="o">=</span><span class="nv">j</span><span class="o">*</span><span class="mi">100</span>.<span class="mi">0</span>
         <span class="nv">y1</span><span class="o">=</span><span class="nv">i</span><span class="o">*</span><span class="mi">100</span>.<span class="mi">0</span>
         <span class="nv">icolor</span><span class="o">=</span><span class="nv">icolor</span><span class="o">+</span><span class="mi">1</span>
         <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">icolor</span><span class="ss">)</span>
         <span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="nv">x1</span>,<span class="nv">y1</span>,<span class="nv">x1</span><span class="o">+</span><span class="mi">100</span>.<span class="mi">0</span>,<span class="nv">y1</span><span class="o">+</span><span class="mi">100</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="nv">enddo</span>
   <span class="nv">enddo</span>
   <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>

   <span class="o">!</span> <span class="nv">draw</span> <span class="nv">polar</span> <span class="nv">grids</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">100</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">100</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="mi">14</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">target</span><span class="ss">(</span><span class="mi">200</span>.<span class="mi">0</span>,<span class="mi">200</span>.<span class="mi">0</span>,<span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">75</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">target</span><span class="ss">(</span><span class="mi">100</span>.<span class="mi">0</span>,<span class="mi">200</span>.<span class="mi">0</span>,<span class="mi">50</span>.<span class="mi">0</span><span class="ss">)</span>

   <span class="o">!</span> <span class="nv">draw</span> <span class="nv">some</span> <span class="nv">lines</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">200</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">line</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span>,<span class="mi">1</span>.<span class="mi">0</span>,<span class="mi">400</span>.<span class="mi">0</span>,<span class="mi">400</span>.<span class="mi">0</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">250</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">line</span><span class="ss">(</span><span class="mi">350</span>.<span class="mi">0</span>,<span class="mi">200</span>.<span class="mi">0</span>,<span class="mi">350</span>.<span class="mi">0</span>,<span class="mi">300</span>.<span class="mi">0</span><span class="ss">)</span>

   <span class="o">!</span> <span class="nv">print</span> <span class="nv">some</span> <span class="nv">text</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">125</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">futura.l</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">hershey</span><span class="ss">(</span><span class="mi">40</span>.<span class="mi">0</span>, <span class="mi">40</span>.<span class="mi">0</span>,<span class="mi">35</span>.<span class="mi">0</span>,<span class="s1">&#39;</span><span class="s">Hello World</span><span class="s1">&#39;</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="mi">7</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">25</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">hershey</span><span class="ss">(</span><span class="mi">40</span>.<span class="mi">0</span>, <span class="mi">80</span>.<span class="mi">0</span>,<span class="mi">35</span>.<span class="mi">0</span>,<span class="s1">&#39;</span><span class="s">Hello World</span><span class="s1">&#39;</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">100</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">hershey</span><span class="ss">(</span><span class="mi">40</span>.<span class="mi">0</span>,<span class="mi">120</span>.<span class="mi">0</span>,<span class="mi">35</span>.<span class="mi">0</span>,<span class="s1">&#39;</span><span class="s">Hello World</span><span class="s1">&#39;</span>,<span class="mi">30</span>.<span class="mi">0</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">hershey</span><span class="ss">(</span>  <span class="mi">40</span>.<span class="mi">0</span>,<span class="mi">350</span>.<span class="mi">0</span>,<span class="mi">35</span>.<span class="mi">0</span>,<span class="s1">&#39;</span><span class="s">Hello World</span><span class="s1">&#39;</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">futura.m</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">hershey</span><span class="ss">(</span>  <span class="mi">40</span>.<span class="mi">0</span>,<span class="mi">310</span>.<span class="mi">0</span>,<span class="mi">35</span>.<span class="mi">0</span>,<span class="s1">&#39;</span><span class="s">Hello World</span><span class="s1">&#39;</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">times.r</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">hershey</span><span class="ss">(</span> <span class="mi">350</span>.<span class="mi">0</span>,<span class="mi">400</span>.<span class="mi">0</span>,<span class="mi">35</span>.<span class="mi">0</span>,<span class="s1">&#39;</span><span class="s">Hello World</span><span class="s1">&#39;</span>,<span class="mi">90</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">50</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">times.i</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">hershey</span><span class="ss">(</span><span class="mi">200</span>.<span class="mi">0</span>,<span class="mi">120</span>.<span class="mi">0</span>,<span class="mi">15</span>.<span class="mi">0</span>,<span class="s1">&#39;</span><span class="s">Hello World</span><span class="s1">&#39;</span>,<span class="mi">20</span>.<span class="mi">0</span><span class="ss">)</span>

   <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>

   <span class="nv">contains</span>

   <span class="nv">subroutine</span> <span class="nv">target</span><span class="ss">(</span><span class="nv">xc</span>,<span class="nv">yc</span>,<span class="nv">rc</span><span class="ss">)</span>
   <span class="nv">use</span> <span class="nv">M_units</span>,    <span class="nv">only</span> : <span class="nv">cosd</span>, <span class="nv">sind</span>
   <span class="nv">real</span>     :: <span class="nv">xc</span>,<span class="nv">yc</span>,<span class="nv">rc</span>
   <span class="nv">integer</span>  :: <span class="nv">i</span>
   <span class="nv">real</span>     :: <span class="nv">x</span>,<span class="nv">y</span>
      <span class="k">do</span> <span class="nv">i</span><span class="o">=</span><span class="mi">0</span>,<span class="mi">360</span>,<span class="mi">10</span>
         <span class="nv">x</span><span class="o">=</span><span class="nv">rc</span><span class="o">*</span><span class="nv">cosd</span><span class="ss">(</span><span class="nv">i</span><span class="ss">)</span>
         <span class="nv">y</span><span class="o">=</span><span class="nv">rc</span><span class="o">*</span><span class="nv">sind</span><span class="ss">(</span><span class="nv">i</span><span class="ss">)</span>
         <span class="k">call</span> <span class="nl">line</span><span class="ss">(</span><span class="nv">xc</span>,<span class="nv">yc</span>,<span class="nv">xc</span><span class="o">+</span><span class="nv">x</span>,<span class="nv">yc</span><span class="o">+</span><span class="nv">y</span><span class="ss">)</span>
      <span class="nv">enddo</span>
      <span class="k">do</span> <span class="nv">i</span><span class="o">=</span><span class="mi">1</span>,<span class="nv">int</span><span class="ss">(</span><span class="nv">rc</span><span class="ss">)</span>,<span class="mi">10</span>
         <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="nv">xc</span>,<span class="nv">yc</span>,<span class="nv">real</span><span class="ss">(</span><span class="nv">i</span><span class="ss">))</span>
      <span class="nv">enddo</span>
   <span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">target</span>

   <span class="nv">subroutine</span> <span class="nv">line</span><span class="ss">(</span><span class="nv">x1</span>,<span class="nv">y1</span>,<span class="nv">x2</span>,<span class="nv">y2</span><span class="ss">)</span>
   <span class="nv">real</span>,<span class="nv">intent</span><span class="ss">(</span><span class="nv">in</span><span class="ss">)</span> :: <span class="nv">x1</span>,<span class="nv">y1</span>,<span class="nv">x2</span>,<span class="nv">y2</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">x1</span>,<span class="nv">y1</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">x2</span>,<span class="nv">y2</span><span class="ss">)</span>
   <span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">line</span>

   <span class="nv">subroutine</span> <span class="nv">hershey</span><span class="ss">(</span><span class="nv">x</span>,<span class="nv">y</span>,<span class="nv">height</span>,<span class="nv">itext</span>,<span class="nv">theta</span><span class="ss">)</span>
   <span class="nv">real</span>,<span class="nv">intent</span><span class="ss">(</span><span class="nv">in</span><span class="ss">)</span>               :: <span class="nv">x</span>,<span class="nv">y</span>
   <span class="nv">real</span>,<span class="nv">intent</span><span class="ss">(</span><span class="nv">in</span><span class="ss">)</span>               :: <span class="nv">height</span>
   <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=*</span><span class="ss">)</span>,<span class="nv">intent</span><span class="ss">(</span><span class="nv">in</span><span class="ss">)</span>   :: <span class="nv">itext</span>
   <span class="nv">real</span>,<span class="nv">intent</span><span class="ss">(</span><span class="nv">in</span><span class="ss">)</span>               :: <span class="nv">theta</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">x</span>,<span class="nv">y</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textang</span><span class="ss">(</span><span class="nv">theta</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="nv">height</span>,<span class="nv">height</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="nv">itext</span><span class="ss">)</span>
   <span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">hershey</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_M_draw</span>
</code></pre></div>

<h2 id="bugs">BUGS</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Polygon</span> <span class="nv">hatching</span> <span class="nv">will</span> <span class="nv">give</span> <span class="nv">unexpected</span> <span class="nv">results</span> <span class="nv">unless</span> <span class="nv">the</span> <span class="nv">polygon</span> <span class="nv">is</span>
<span class="nv">initially</span> <span class="nv">defined</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">X</span><span class="o">-</span><span class="nv">Y</span> <span class="nv">plane</span>.

<span class="nv">Double</span> <span class="nv">buffering</span> <span class="nv">isn</span><span class="s1">&#39;</span><span class="s">t supported on all devices.</span>

<span class="nv">We</span> <span class="nv">don</span><span class="s1">&#39;</span><span class="s">t recommend the use of the smove/sdraw routines.</span>

<span class="nv">The</span> <span class="nv">yobbarays</span> <span class="nv">may</span> <span class="nv">be</span> <span class="nv">turned</span> <span class="nv">on</span> <span class="nv">or</span> <span class="nv">they</span> <span class="nv">may</span> <span class="nv">be</span> <span class="nv">turned</span> <span class="nv">off</span>.

<span class="nv">When</span> <span class="nv">creating</span> <span class="nv">an</span> <span class="nv">object</span>, <span class="nv">current</span> <span class="nv">position</span> <span class="nv">and</span> <span class="nv">text</span> <span class="nv">size</span> <span class="nv">are</span> <span class="nv">not</span>
<span class="nv">actually</span> <span class="nv">changed</span> <span class="nv">so</span> <span class="nv">almost</span> <span class="nv">any</span> <span class="nv">query</span> <span class="nv">routine</span> <span class="nv">to</span> <span class="nv">get</span> <span class="nv">position</span> <span class="nv">or</span> <span class="nv">font</span>
<span class="nv">size</span> <span class="nv">or</span> <span class="nv">whatever</span> <span class="nv">will</span> <span class="nv">not</span> <span class="nv">work</span> <span class="nv">properly</span>.

<span class="k">If</span> <span class="k">call</span> <span class="nl">vexit</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="nv">and</span> <span class="k">then</span> <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="nv">everything</span> <span class="nv">should</span> <span class="nv">probably</span>
<span class="nv">be</span> <span class="nv">reset</span> <span class="nv">to</span> <span class="nv">initial</span> <span class="nv">values</span> <span class="nv">at</span> <span class="nv">program</span> <span class="nv">startup</span>, <span class="nv">such</span> <span class="nv">as</span> <span class="nv">linewidth</span>,
<span class="nv">current</span> <span class="nv">font</span>, <span class="nv">and</span> <span class="nv">color</span>. <span class="nv">It</span> <span class="nv">is</span> <span class="nv">currently</span> <span class="nv">left</span> <span class="nv">up</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">output</span> <span class="nv">device</span>
<span class="nv">initialization</span> <span class="nv">routine</span>. <span class="nv">It</span> <span class="nv">should</span> <span class="nv">not</span> <span class="nv">be</span>. <span class="nv">To</span> <span class="nv">minimize</span> <span class="nv">the</span> <span class="nv">issue</span>,
<span class="k">call</span> <span class="nl">all</span> <span class="nv">the</span> <span class="nv">push</span><span class="o">*</span> <span class="nv">routines</span> <span class="nv">after</span> <span class="nv">a</span> <span class="nv">vinit</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="nv">and</span> <span class="k">call</span> <span class="nl">all</span> <span class="nv">the</span> <span class="nv">pop</span><span class="o">*</span>
<span class="nv">routines</span> <span class="nv">before</span> <span class="nv">vexit</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span>.

<span class="nv">Exactly</span> <span class="nv">what</span> <span class="nv">attributes</span> <span class="nv">should</span> <span class="nv">and</span> <span class="nv">should</span> <span class="nv">not</span> <span class="nv">be</span> <span class="nv">reset</span> <span class="nv">with</span> <span class="nv">a</span>
<span class="nv">vnewdev</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="nv">is</span> <span class="nv">questionable</span>.
</code></pre></div>

<h2 id="name_1">NAME</h2>
<div class="codehilite"><pre><span></span><code>prefposition(3f) - [M_draw:WINDOW_SETUP] Specify preferred position of window
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>subroutine prefposition(x, y)

 integer,intent(in) :: x, y
</code></pre></div>

<h2 id="description_1">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="n">Specify</span> <span class="n">the</span> <span class="n">preferred</span> <span class="n">position</span> <span class="n">of</span> <span class="n">the</span> <span class="n">window</span> <span class="n">opened</span> <span class="n">by</span> <span class="n">the</span> <span class="o">*</span><span class="n">next</span><span class="o">*</span>
<span class="n">vinit</span> <span class="ow">in</span> <span class="n">raster</span> <span class="n">units</span> <span class="ow">or</span> <span class="n">units</span> <span class="n">of</span> <span class="n">resolution</span><span class="p">,</span> <span class="n">depending</span> <span class="n">on</span> <span class="n">the</span> <span class="n">output</span>
<span class="n">device</span><span class="o">.</span> <span class="n">The</span> <span class="n">physical</span> <span class="n">size</span> <span class="n">of</span> <span class="n">the</span> <span class="n">units</span> <span class="n">are</span> <span class="n">generally</span> <span class="n">device</span><span class="o">-</span><span class="n">specific</span> <span class="o">--</span>
<span class="n">For</span> <span class="n">X11</span> <span class="n">Windows</span> <span class="ow">and</span> <span class="n">PPM</span> <span class="n">pixmaps</span> <span class="n">the</span> <span class="n">values</span> <span class="n">would</span> <span class="n">represent</span> <span class="n">rasters</span><span class="o">.</span>
<span class="n">For</span> <span class="n">vector</span> <span class="n">output</span> <span class="n">devices</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="s2">&quot;rasters&quot;</span> <span class="n">per</span> <span class="n">inch</span> <span class="n">varies</span><span class="o">.</span>
</code></pre></div>

<h2 id="example_1">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code>  <span class="nv">program</span> <span class="nv">demo_prefposition</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span>    : <span class="nv">prefsize</span>, <span class="nv">vinit</span>, <span class="nv">ortho2</span>, <span class="nv">clear</span>, <span class="nv">getkey</span>, <span class="nv">prefposition</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span>    : <span class="nv">move2</span>, <span class="nv">draw2</span>, <span class="nv">vexit</span>, <span class="nv">color</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
  <span class="nv">implicit</span> <span class="nv">none</span>
  <span class="nv">integer</span> :: <span class="nv">ipaws</span>

  <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">60</span>,<span class="mi">40</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">prefposition</span><span class="ss">(</span><span class="mi">100</span>,<span class="mi">100</span><span class="ss">)</span>

  <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>         <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
  <span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="mi">300</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">200</span>.<span class="mi">0</span>,<span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
  <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="o">-</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
  <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>

  <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_prefposition</span>
</code></pre></div>

<h2 id="name_2">NAME</h2>
<div class="codehilite"><pre><span></span><code>prefsize(3f) - [M_draw:WINDOW_SETUP] Specify preferred width and height of window in physical units
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_1">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine prefsize(width, height)
     integer,intent(in) :: width, height
</code></pre></div>

<h2 id="description_2">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Specify</span> <span class="nv">the</span> <span class="nv">preferred</span> <span class="nv">width</span> <span class="nv">and</span> <span class="nv">height</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">device</span> <span class="nv">output</span> <span class="nv">surface</span>
<span class="nv">opened</span> <span class="nv">by</span> <span class="nv">the</span> <span class="o">*</span><span class="k">next</span><span class="o">*</span> <span class="nv">vinit</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span>.
</code></pre></div>

<h2 id="options">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code>WIDTH   width of device to create when vinit(3f) is called
HEIGHT  height of device to create when vinit(3f) is called
</code></pre></div>

<h2 id="example_2">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code>  <span class="nv">program</span> <span class="nv">demo_prefsize</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span>: <span class="nv">prefsize</span>, <span class="nv">vinit</span>, <span class="nv">ortho2</span>, <span class="nv">clear</span>, <span class="nv">getkey</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span>: <span class="nv">move2</span>, <span class="nv">draw2</span>, <span class="nv">vexit</span>, <span class="nv">color</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
  <span class="nv">implicit</span> <span class="nv">none</span>
  <span class="nv">integer</span> :: <span class="nv">ipaws</span>
     <span class="o">!</span> <span class="nv">make</span> <span class="nv">first</span> <span class="nv">file</span> <span class="nv">with</span> <span class="nv">one</span> <span class="nv">size</span>
     <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">60</span><span class="o">*</span><span class="mi">2</span>,<span class="mi">40</span><span class="o">*</span><span class="mi">2</span><span class="ss">)</span>
     <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
     <span class="k">call</span> <span class="nl">picture</span><span class="ss">()</span>
     <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
     <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>

     <span class="o">!</span> <span class="nv">make</span> <span class="nv">second</span> <span class="nv">file</span> <span class="nv">with</span> <span class="nv">another</span> <span class="nv">size</span>
     <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">60</span><span class="o">*</span><span class="mi">3</span>,<span class="mi">40</span><span class="o">*</span><span class="mi">3</span><span class="ss">)</span>
     <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>
     <span class="k">call</span> <span class="nl">picture</span><span class="ss">()</span>
     <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
     <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
  <span class="nv">contains</span>
  <span class="nv">subroutine</span> <span class="nv">picture</span>
     <span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="mi">300</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">200</span>.<span class="mi">0</span>,<span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
     <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
     <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
     <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
     <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
     <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
     <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
     <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="o">-</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">picture</span>
  <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_prefsize</span>
</code></pre></div>

<h2 id="name_3">NAME</h2>
<div class="codehilite"><pre><span></span><code>vinit(3f) - [M_draw:DEVICE] Initialise device
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_2">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine vinit(device)
      character(len=*),intent(in) :: device
</code></pre></div>

<h2 id="description_3">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Initialise the device.
</code></pre></div>

<p>Note 1 : Currently available devices are:</p>
<div class="codehilite"><pre><span></span><code>    <span class="nv">INTERACTIVE</span> <span class="nv">DEVICES</span>

    <span class="nv">PC</span>   <span class="o">-</span> <span class="s s-Atom">native</span> <span class="nv">MSW</span> <span class="nv">PC</span> <span class="s s-Atom">driver</span><span class="p">;</span> <span class="s s-Atom">only</span> <span class="s s-Atom">tested</span> <span class="s s-Atom">from</span> <span class="nv">CygWin</span>
    <span class="nv">X11</span>  <span class="o">-</span> <span class="nv">X11</span> <span class="nf">windows</span> <span class="p">(</span><span class="nv">Black</span> <span class="s s-Atom">background</span><span class="p">)</span>
    <span class="s s-Atom">x11</span>  <span class="o">-</span> <span class="nv">X11</span> <span class="nf">windows</span> <span class="p">(</span><span class="nv">White</span> <span class="s s-Atom">background</span><span class="p">)</span>
    <span class="s s-Atom">tek</span>  <span class="o">-</span> <span class="s s-Atom">tektronix</span> <span class="mi">4010</span> <span class="s s-Atom">and</span> <span class="s s-Atom">compatibles</span>
    <span class="s s-Atom">xtek</span> <span class="o">-</span> <span class="nv">X11</span> <span class="s s-Atom">xterm</span> <span class="nv">Tektronix</span> <span class="mi">4010</span> <span class="s s-Atom">emulator</span>

    <span class="nv">PRINTERS</span> <span class="nv">AND</span> <span class="nv">PLOTTERS</span>

       <span class="nv">PostScript</span><span class="s s-Atom">:</span>
          <span class="p">[</span><span class="s s-Atom">p</span><span class="p">]</span><span class="s s-Atom">psm</span> <span class="s s-Atom">or</span> <span class="p">[</span><span class="s s-Atom">p</span><span class="p">]</span><span class="s s-Atom">postscript</span> <span class="o">-</span> <span class="s s-Atom">monochrome</span> <span class="nv">PostScript</span>
          <span class="p">[</span><span class="s s-Atom">p</span><span class="p">]</span><span class="s s-Atom">psg</span> <span class="o">-</span> <span class="s s-Atom">grayscale</span> <span class="nv">PostScript</span>
          <span class="p">[</span><span class="s s-Atom">p</span><span class="p">]</span><span class="s s-Atom">psc</span> <span class="o">-</span> <span class="s s-Atom">color</span> <span class="nv">PostScript</span>
       <span class="nv">HPGL</span><span class="s s-Atom">:</span>
          <span class="s s-Atom">hpgl</span> <span class="o">-</span> <span class="nv">HP</span> <span class="nv">Graphics</span> <span class="s s-Atom">language</span> <span class="s s-Atom">and</span> <span class="s s-Atom">compatibles</span>
          <span class="p">[</span><span class="s s-Atom">p</span><span class="p">]</span><span class="s s-Atom">hpgl2</span> <span class="o">-</span> <span class="nv">HPGL</span> <span class="s s-Atom">level</span> <span class="mi">2</span> <span class="p">(</span><span class="s s-Atom">obeys</span> <span class="s s-Atom">prefsize</span> <span class="s s-Atom">calls</span><span class="p">)</span>
       <span class="nv">PCL</span><span class="s s-Atom">:</span>
          <span class="p">[</span><span class="s s-Atom">p</span><span class="p">]</span><span class="s s-Atom">pclland</span>  <span class="o">-</span> <span class="s s-Atom">monochrome</span> <span class="nv">PCL5</span> <span class="p">(</span><span class="s s-Atom">obeys</span> <span class="s s-Atom">prefsize</span> <span class="s s-Atom">calls</span><span class="p">)</span>
          <span class="p">[</span><span class="s s-Atom">p</span><span class="p">]</span><span class="s s-Atom">pclport</span>  <span class="o">-</span> <span class="s s-Atom">monochrome</span> <span class="nv">PCL5</span> <span class="p">(</span><span class="s s-Atom">obeys</span> <span class="s s-Atom">prefsize</span> <span class="s s-Atom">calls</span><span class="p">)</span>
          <span class="nf">pcl5land</span> <span class="p">(</span><span class="s s-Atom">color</span> <span class="nv">PCL5</span> <span class="s s-Atom">landscape</span><span class="p">)</span>
          <span class="nf">pcl5port</span> <span class="p">(</span><span class="s s-Atom">color</span> <span class="nv">PCL5</span> <span class="s s-Atom">portrait</span><span class="p">)</span>

    <span class="nv">PIXMAPS</span> <span class="p">(</span><span class="nv">COLOR</span><span class="p">)</span> <span class="nv">AND</span> <span class="nv">BITMAPS</span> <span class="p">(</span><span class="nv">MONOCHROME</span><span class="p">)</span>

    <span class="s s-Atom">char</span>     <span class="nv">An</span> <span class="nv">ASCII</span> <span class="s s-Atom">file</span> <span class="s s-Atom">that</span> <span class="s s-Atom">can</span> <span class="s s-Atom">be</span> <span class="s s-Atom">displayed</span> <span class="s s-Atom">to</span> <span class="s s-Atom">most</span>
             <span class="nf">xterm</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="s s-Atom">terminal</span> <span class="s s-Atom">emulators</span> <span class="s s-Atom">that</span> <span class="s s-Atom">support</span>
             <span class="s s-Atom">color</span>
    <span class="s s-Atom">p1</span><span class="o">/</span><span class="s s-Atom">pbm</span>   <span class="nv">Poskanzer</span> <span class="p">(</span><span class="s s-Atom">pbmplus</span><span class="o">/</span><span class="s s-Atom">netplus</span><span class="p">)</span> <span class="s s-Atom">portable</span>
             <span class="nv">ASCII</span> <span class="s s-Atom">bitmap</span> <span class="s s-Atom">file</span>
    <span class="s s-Atom">p3</span><span class="o">/</span><span class="s s-Atom">ppm</span>   <span class="nv">Poskanzer</span> <span class="s s-Atom">portable</span> <span class="nv">ASCII</span> <span class="s s-Atom">pixmap</span> <span class="s s-Atom">file</span>
    <span class="s s-Atom">p4</span>       <span class="nv">Poskanzer</span> <span class="s s-Atom">portable</span> <span class="s s-Atom">binary</span> <span class="s s-Atom">bitmap</span> <span class="s s-Atom">file</span>
    <span class="s s-Atom">p6</span>       <span class="nv">Poskanzer</span> <span class="s s-Atom">portable</span> <span class="s s-Atom">binary</span> <span class="s s-Atom">pixmap</span> <span class="s s-Atom">file</span>
    <span class="s s-Atom">xbm</span>      <span class="nv">X11</span> <span class="s s-Atom">bitmap</span> <span class="s s-Atom">file</span>
    <span class="s s-Atom">bm</span>       <span class="s s-Atom">bitmap</span> <span class="s s-Atom">format</span> <span class="s s-Atom">for</span> <span class="nf">atobm</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="nv">PRODUCT</span> <span class="nv">INPUT</span> <span class="nv">FILES</span>

    <span class="s s-Atom">mif</span>        <span class="nv">FrameMaker</span> <span class="nv">Interchange</span> <span class="nv">Format</span> <span class="mf">3.0</span> <span class="p">(</span><span class="nv">MIF</span><span class="p">)</span> <span class="nf">files</span>
               <span class="p">(</span><span class="mi">16</span> <span class="s s-Atom">colors</span><span class="p">)</span>
    <span class="s s-Atom">mif4</span>       <span class="nv">FrameMaker</span> <span class="nv">Interchange</span> <span class="nv">Format</span> <span class="mf">4.0</span> <span class="p">(</span><span class="nv">MIF</span><span class="p">)</span> <span class="nf">files</span>
               <span class="p">(</span><span class="s s-Atom">user</span><span class="o">-</span><span class="s s-Atom">definable</span> <span class="s s-Atom">colors</span><span class="p">,</span> <span class="s s-Atom">but</span> <span class="s s-Atom">breaks</span> <span class="s s-Atom">a</span> <span class="nv">MIF</span> <span class="s s-Atom">rule</span><span class="p">)</span>
    <span class="s s-Atom">xfig</span>       <span class="nv">X11</span> <span class="nf">xfig</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="s s-Atom">figure</span> <span class="s s-Atom">utility</span>

    <span class="nv">METAFILES</span> <span class="nv">WITH</span> <span class="nv">POST_PROCESSORS</span><span class="o">/</span><span class="nv">CONVERTERS</span>

    <span class="s s-Atom">cgmt</span>      <span class="s s-Atom">a</span> <span class="s s-Atom">clear</span><span class="o">-</span><span class="s s-Atom">text</span> <span class="nv">CGM</span> <span class="p">(</span><span class="nv">Computer</span> <span class="nv">Graphics</span> <span class="nv">Metafile</span><span class="p">)</span>
    <span class="s s-Atom">gnu</span>       <span class="nv">GNU</span> <span class="nf">plot</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="s s-Atom">metafile</span>
    <span class="s s-Atom">pdf</span>       <span class="nv">Adobe</span> <span class="nv">Public</span> <span class="nv">Document</span> <span class="nv">Format</span>
    <span class="s s-Atom">unixplot</span>  <span class="nv">Unix</span> <span class="nf">plot</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="s s-Atom">metafile</span>

    <span class="nv">BROWSER</span> <span class="nv">FILES</span>

    <span class="s s-Atom">canvas</span>    <span class="nv">HTML5</span> <span class="nv">CANVAS</span> <span class="s s-Atom">graphics</span> <span class="s s-Atom">element</span> <span class="s s-Atom">file</span>
    <span class="s s-Atom">svg</span>       <span class="nv">Scalable</span> <span class="nv">Vector</span> <span class="nv">Graphics</span>
    <span class="s s-Atom">usemap</span>    <span class="nv">HTML</span> <span class="s s-Atom">image</span> <span class="s s-Atom">map</span>
    <span class="s s-Atom">vml</span>       <span class="nv">Microsoft</span> <span class="nv">Vector</span> <span class="nv">Markup</span> <span class="nv">Language</span>

    <span class="nv">FILES</span>
    <span class="s s-Atom">vog</span>       <span class="nv">M_draw</span> <span class="s s-Atom">low</span> <span class="s s-Atom">level</span> <span class="s s-Atom">call</span> <span class="nf">record</span> <span class="p">(</span><span class="s s-Atom">debug</span><span class="p">)</span>

    <span class="nv">OTHER</span>
    <span class="s s-Atom">fti</span>       <span class="nv">SGI</span> <span class="s s-Atom">vector</span><span class="o">-</span><span class="s s-Atom">based</span> <span class="s s-Atom">icons</span>
    <span class="s s-Atom">null</span>      <span class="s s-Atom">no</span> <span class="nf">output</span>

  <span class="o">:-</span> <span class="nv">Drivers</span> <span class="nv">I</span><span class="s s-Atom">&#39;ve dropped but code is there for</span>
<span class="s s-Atom">  ---------------------------------------------</span>

<span class="s s-Atom">    grwin - (minGW GRwin PC interface)</span>
<span class="s s-Atom">    decX11 - the decstation window manager</span>
<span class="s s-Atom">    dxy - roland DXY plotter language</span>
<span class="s s-Atom">    sun - Sun workstations running sunview</span>
<span class="s s-Atom">    next - NeXTStep and other NeXT platforms</span>
<span class="s s-Atom">    apollo - Apollo workstations</span>

<span class="s s-Atom">  :- Drivers I&#39;ve</span> <span class="s s-Atom">dropped</span> <span class="s s-Atom">but</span> <span class="s s-Atom">are</span> <span class="s s-Atom">in</span> <span class="s s-Atom">the</span> <span class="s s-Atom">original</span> <span class="s s-Atom">distribution</span>
  <span class="s s-Atom">------------------------------------------------------------</span>

    <span class="s s-Atom">hercules</span> <span class="o">-</span> <span class="nv">IBM</span> <span class="nv">PC</span> <span class="s s-Atom">hercules</span> <span class="s s-Atom">graphics</span> <span class="s s-Atom">card</span>
    <span class="s s-Atom">cga</span> <span class="o">-</span> <span class="nv">IBM</span> <span class="nv">PC</span> <span class="s s-Atom">cga</span> <span class="s s-Atom">graphics</span> <span class="s s-Atom">card</span>
    <span class="s s-Atom">ega</span> <span class="o">-</span> <span class="nv">IBM</span> <span class="nv">PC</span> <span class="s s-Atom">ega</span> <span class="s s-Atom">graphics</span> <span class="s s-Atom">card</span>
    <span class="s s-Atom">vga</span> <span class="o">-</span> <span class="nv">IBM</span> <span class="nv">PC</span> <span class="s s-Atom">vga</span> <span class="s s-Atom">graphics</span> <span class="s s-Atom">card</span>
    <span class="s s-Atom">sigma</span> <span class="o">-</span> <span class="nv">IBM</span> <span class="nv">PC</span> <span class="s s-Atom">sigma</span> <span class="s s-Atom">graphics</span> <span class="s s-Atom">card</span><span class="p">.</span>
    <span class="s s-Atom">mswin</span> <span class="o">-</span> <span class="nv">IBM</span> <span class="nv">PC</span> <span class="nv">Microsoft</span> <span class="nv">Windows</span><span class="p">.</span>

 <span class="nv">Note</span> <span class="mi">2</span> <span class="s s-Atom">:</span> <span class="nv">If</span> <span class="s s-Atom">device</span> <span class="o">is</span> <span class="s s-Atom">a</span> <span class="nv">NULL</span> <span class="s s-Atom">or</span> <span class="s s-Atom">a</span> <span class="s s-Atom">null</span> <span class="s s-Atom">string</span> <span class="s s-Atom">the</span> <span class="s s-Atom">value</span>
      <span class="s s-Atom">of</span> <span class="s s-Atom">the</span> <span class="s s-Atom">environment</span> <span class="s s-Atom">variable</span> <span class="s2">&quot;M_DRAW_DEVICE&quot;</span> <span class="o">is</span> <span class="s s-Atom">taken</span> <span class="s s-Atom">as</span> <span class="s s-Atom">the</span>
      <span class="s s-Atom">device</span> <span class="s s-Atom">type</span> <span class="s s-Atom">to</span> <span class="s s-Atom">be</span> <span class="s s-Atom">opened</span><span class="p">.</span> <span class="nv">The</span> <span class="s s-Atom">format</span> <span class="s s-Atom">of</span> <span class="s s-Atom">the</span> <span class="s s-Atom">variable</span> <span class="o">is</span>

         <span class="nv">M_DRAW_DEVICE</span> <span class="p">[</span> <span class="s s-Atom">xsize</span> <span class="p">[</span> <span class="s s-Atom">ysize</span> <span class="p">[</span> <span class="s s-Atom">xoffset</span> <span class="p">[</span> <span class="s s-Atom">yoffset</span> <span class="p">]</span> <span class="p">]</span> <span class="p">]</span>

      <span class="nv">That</span> <span class="o">is</span><span class="p">,</span> <span class="s s-Atom">if</span> <span class="s s-Atom">present</span> <span class="s s-Atom">xsize</span> <span class="s s-Atom">and</span> <span class="s s-Atom">ysize</span> <span class="s s-Atom">will</span> <span class="s s-Atom">be</span> <span class="s s-Atom">used</span>
      <span class="s s-Atom">in</span> <span class="s s-Atom">a</span> <span class="s s-Atom">call</span> <span class="s s-Atom">to</span> <span class="nf">prefsize</span><span class="p">(</span><span class="mi">3</span><span class="s s-Atom">c</span><span class="p">),</span> <span class="s s-Atom">and</span> <span class="s s-Atom">xoffset</span> <span class="s s-Atom">and</span> <span class="s s-Atom">yoffset</span> <span class="s s-Atom">will</span>
      <span class="s s-Atom">be</span> <span class="s s-Atom">used</span> <span class="s s-Atom">in</span> <span class="s s-Atom">a</span> <span class="s s-Atom">call</span> <span class="s s-Atom">to</span> <span class="nf">preposition</span><span class="p">(</span><span class="mi">3</span><span class="s s-Atom">c</span><span class="p">).</span>

 <span class="nv">Note</span> <span class="mi">3</span> <span class="s s-Atom">:</span> <span class="s s-Atom">after</span> <span class="nf">vinit</span><span class="p">()</span> <span class="s s-Atom">it</span> <span class="o">is</span> <span class="s s-Atom">wise</span> <span class="s s-Atom">to</span> <span class="s s-Atom">explicitly</span> <span class="s s-Atom">clear</span> <span class="s s-Atom">the</span> <span class="s s-Atom">screen</span><span class="p">.</span>
 <span class="s s-Atom">e</span><span class="p">.</span><span class="s s-Atom">g</span><span class="p">.</span><span class="s s-Atom">:</span>

      <span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_BLACK</span><span class="p">)</span>
      <span class="s s-Atom">call</span> <span class="nf">clear</span><span class="p">()</span>
</code></pre></div>

<h2 id="notes">NOTES</h2>
<p>gnu</p>
<div class="codehilite"><pre><span></span><code>The GNU plotutils package includes a program called plot(1) that
can read in the gnu metafile and render images on an X11 display, PNG
(Portable Network Graphics) format, portable anymap format (PBM/PGM/PPM),
a pseudo-GIF format that does not use LZW encoding, the new XML-based
Scalable Vector Graphics format, the format used by Adobe Illustrator,
Postscript or Encapsulated Postscript (EPS) that can be edited with
idraw(1), CGM format (by default, confirming to the WebCGM profile),
the format used by the xfig(1) drawing editor, the Hewlett-Packard PCL 5
printer language, the Hewlett-Packard Graphics Language, ReGIS graphics
format (which can be displayed by the dxterm(1) terminal emulator or
by a VT330 or VT340 terminal), Tektronix format (which can be displayed
by the xterm(1) terminal emulator), and device-independent GNU metafile
format itself.
</code></pre></div>

<p>pdf</p>
<div class="codehilite"><pre><span></span><code><span class="n">Popular</span> <span class="n">PDF</span> <span class="n">readers</span> <span class="n">are</span> <span class="n">the</span> <span class="n">Adobe</span> <span class="n">PDF</span> <span class="n">viewer</span><span class="p">,</span> <span class="n">which</span> <span class="k">is</span> <span class="n">often</span> <span class="n">callable</span> <span class="n">from</span>
<span class="n">Web</span> <span class="n">browsers</span><span class="p">;</span> <span class="n">the</span> <span class="n">GhostScript</span><span class="o">-</span><span class="n">based</span> <span class="n">gv</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">utility</span><span class="p">;</span> <span class="ow">or</span> <span class="n">the</span> <span class="n">xpdf</span> <span class="n">program</span><span class="o">.</span>

    <span class="n">The</span> <span class="n">xpdf</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">software</span> <span class="p">,</span> <span class="n">related</span> <span class="n">utilities</span> <span class="p">(</span> <span class="n">pdftops</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">pdftotext</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">pdfinfo</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">pdffonts</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">pdftoppm</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">pdfimages</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">xpdfrc</span> <span class="p">(</span><span class="mi">5</span><span class="p">))</span>
    <span class="ow">and</span> <span class="n">documentation</span> <span class="n">are</span> <span class="n">copyright</span> <span class="mi">1996</span><span class="o">-</span><span class="mi">2004</span> <span class="n">Glyph</span> <span class="o">&amp;</span> <span class="n">Cog</span><span class="p">,</span> <span class="n">LLC</span><span class="o">.</span> <span class="n">at</span>
    <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">foolabs</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">xpdf</span><span class="o">/</span>

<span class="n">The</span> <span class="n">GhostScript</span><span class="o">-</span><span class="n">based</span> <span class="n">tools</span> <span class="n">can</span> <span class="nb">convert</span> <span class="n">PDF</span> <span class="n">files</span> <span class="n">to</span> <span class="n">PostScript</span> <span class="k">as</span>
<span class="n">well</span> <span class="k">as</span> <span class="n">view</span> <span class="n">the</span> <span class="n">files</span><span class="o">.</span>
</code></pre></div>

<p>cgmt</p>
<div class="codehilite"><pre><span></span><code><span class="nv">The</span> <span class="nv">ralcgm</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span> <span class="nv">and</span> <span class="nv">gplot</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span> <span class="nv">packages</span> <span class="nv">are</span> <span class="nv">two</span> <span class="nv">very</span> <span class="nv">complete</span> <span class="nv">CGM</span> <span class="nv">viewers</span>.

<span class="nv">ppm</span>,<span class="nv">pbm</span> <span class="ss">(</span><span class="nv">and</span> <span class="nv">p1</span>,<span class="nv">p3</span>,<span class="nv">p4</span>,<span class="nv">p6</span><span class="ss">)</span>

  <span class="o">*</span> <span class="nv">p1</span><span class="o">/</span><span class="nv">pbm</span> <span class="o">-</span> <span class="nv">Poskanzer</span> <span class="ss">(</span><span class="nv">pbmplus</span><span class="o">/</span><span class="nv">netplus</span><span class="ss">)</span> <span class="nv">portable</span> <span class="nv">ASCII</span> <span class="nv">bitmap</span> <span class="nv">file</span>
  <span class="o">*</span> <span class="nv">p3</span><span class="o">/</span><span class="nv">ppm</span> <span class="o">-</span> <span class="nv">Poskanzer</span> <span class="nv">portable</span> <span class="nv">ASCII</span> <span class="nv">pixmap</span> <span class="nv">file</span>
  <span class="o">*</span> <span class="nv">p4</span> <span class="o">-</span> <span class="nv">Poskanzer</span> <span class="nv">portable</span> <span class="nv">binary</span> <span class="nv">bitmap</span> <span class="nv">file</span>
  <span class="o">*</span> <span class="nv">p6</span> <span class="o">-</span> <span class="nv">Poskanzer</span> <span class="nv">portable</span> <span class="nv">binary</span> <span class="nv">pixmap</span> <span class="nv">file</span>

<span class="nv">The</span> <span class="nv">NetPBM</span> <span class="nv">package</span> <span class="nv">is</span> <span class="nv">available</span> <span class="k">for</span> <span class="nv">almost</span> <span class="nv">every</span> <span class="nv">platform</span> <span class="nv">and</span> <span class="nv">lets</span>
<span class="nv">you</span> <span class="nv">convert</span> <span class="nv">the</span> <span class="nv">Poskanzer</span> <span class="nv">portable</span> <span class="nv">pixmap</span> <span class="ss">(</span><span class="nv">PPM</span><span class="ss">)</span> <span class="nv">files</span> <span class="nv">to</span> <span class="nv">just</span> <span class="nv">about</span>
<span class="nv">any</span> <span class="nv">pixmap</span> <span class="nv">or</span> <span class="nv">bitmap</span> <span class="nv">format</span>, <span class="nv">including</span> <span class="nv">PNG</span>, <span class="nv">JPEG</span>, <span class="nv">GIF</span><span class="o">/</span><span class="nv">PseudoGIF</span>, <span class="nv">BPM</span>,
..... <span class="nv">Other</span> <span class="nv">popular</span> <span class="nv">pixmap</span> <span class="nv">products</span> <span class="nv">such</span> <span class="nv">as</span> <span class="nv">ImageMagick</span>, <span class="nv">gv</span>, ... <span class="nv">can</span>
<span class="nv">read</span> <span class="nv">PPM</span> <span class="nv">files</span>, <span class="nv">convert</span> <span class="nv">them</span>, <span class="nv">and</span> <span class="nv">often</span> <span class="nv">edit</span> <span class="nv">them</span>.
</code></pre></div>

<h2 id="html">HTML:</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">The</span> <span class="nv">vml</span>, <span class="nv">canvas</span>, <span class="nv">svg</span>, <span class="nv">and</span> <span class="nv">usemap</span> <span class="nv">drivers</span> <span class="nv">are</span> <span class="nv">primarily</span> <span class="nv">used</span> <span class="nv">to</span> <span class="nv">generate</span>
<span class="nv">graphics</span> <span class="k">for</span> <span class="nv">inclusion</span> <span class="nv">in</span> <span class="nv">HTML</span> <span class="nv">documents</span>. <span class="nv">Browsers</span> <span class="nv">such</span> <span class="nv">as</span> <span class="nv">Opera</span>, <span class="nv">Safari</span>,
<span class="nv">Foxfire</span>, <span class="nv">and</span> <span class="nv">Chrome</span> <span class="nv">can</span> <span class="nv">easily</span> <span class="nv">incorporate</span> <span class="nv">graphics</span> <span class="nv">generated</span> <span class="nv">using</span> <span class="nv">the</span>
<span class="nv">SVG</span> <span class="ss">(</span><span class="nv">Scalable</span> <span class="nv">Vector</span> <span class="nv">Graphics</span><span class="ss">)</span> <span class="nv">format</span> <span class="nv">or</span> <span class="nv">the</span> <span class="nv">HTML5</span> <span class="nv">CANVAS</span> <span class="nv">element</span>.
</code></pre></div>

<p>usemap</p>
<div class="codehilite"><pre><span></span><code><span class="n">This</span> <span class="n">driver</span> <span class="n">writes</span> <span class="n">out</span> <span class="n">the</span> <span class="n">edges</span> <span class="n">of</span> <span class="n">any</span> <span class="n">polygon</span> <span class="n">in</span> <span class="n">a</span> <span class="n">format</span> <span class="n">that</span> <span class="n">can</span> <span class="n">be</span>
<span class="n">used</span> <span class="n">with</span> <span class="n">an</span> <span class="n">HTML</span> <span class="n">image</span> <span class="n">map</span><span class="p">;</span> <span class="k">if</span> <span class="n">the</span> <span class="n">same</span> <span class="n">sizes</span> <span class="n">are</span> <span class="n">used</span> <span class="n">a</span> <span class="n">plot</span> <span class="n">generated</span>
<span class="n">with</span> <span class="n">the</span> <span class="n">ppm</span> <span class="n">driver</span><span class="p">;</span> <span class="n">you</span> <span class="n">will</span> <span class="n">have</span> <span class="n">clickable</span> <span class="n">regions</span> <span class="n">in</span> <span class="n">your</span> <span class="n">pixmap</span> <span class="n">when</span>
<span class="n">converted</span> <span class="n">to</span> <span class="n">a</span> <span class="n">GIF</span> <span class="n">image</span><span class="p">.</span>

<span class="n">If</span> <span class="n">the</span> <span class="n">polygons</span> <span class="n">overlap</span> <span class="n">you</span> <span class="n">need</span> <span class="n">to</span> <span class="n">reverse</span> <span class="n">the</span> <span class="n">order</span> <span class="n">of</span> <span class="n">the</span> <span class="n">polygon</span>
<span class="n">definitions</span> <span class="n">in</span> <span class="n">the</span> <span class="k">output</span> <span class="n">file</span><span class="p">.</span> <span class="n">The</span> <span class="n">numeric</span> <span class="n">field</span> <span class="n">in</span> <span class="n">the</span><span class="o">&lt;</span><span class="n">AREA</span><span class="o">&gt;</span> <span class="n">titles</span>
<span class="n">should</span> <span class="n">help</span><span class="p">.</span>
</code></pre></div>

<p>vml</p>
<div class="codehilite"><pre><span></span><code><span class="nv">The</span> <span class="nv">VML</span> <span class="nv">format</span> <span class="nv">can</span> <span class="nv">be</span> <span class="nv">read</span> <span class="nv">in</span> <span class="nv">by</span> <span class="nv">any</span> <span class="nv">MicroSoft</span> <span class="nv">Office</span> <span class="mi">2000</span><span class="o">+</span> <span class="nv">product</span> <span class="nv">and</span>
<span class="nv">MicroSoft</span><span class="s1">&#39;</span><span class="s">s web browser Internet Explorer. If the plots contain more than</span>
<span class="nv">about</span> <span class="mi">9766</span> <span class="nv">vectors</span> <span class="nv">MicroSoft</span> <span class="nv">Word</span> <span class="nv">starts</span> <span class="nv">choking</span> <span class="ss">(</span><span class="nv">still</span> <span class="nv">true</span> <span class="nv">in</span> <span class="mi">2005</span><span class="ss">)</span>,
<span class="nv">but</span> <span class="nv">otherwise</span> <span class="nv">this</span> <span class="nv">is</span> <span class="nv">a</span> <span class="nv">very</span> <span class="nv">nice</span> <span class="nv">way</span> <span class="nv">to</span> <span class="nv">generate</span> <span class="nv">input</span> <span class="k">for</span> <span class="nv">MicroSoft</span>
<span class="nv">products</span>.

<span class="nv">I</span> <span class="nv">generally</span> <span class="nv">use</span> <span class="nv">this</span> <span class="nv">on</span> <span class="nv">a</span> <span class="nv">machine</span> <span class="nv">running</span> <span class="nv">MicroSoft</span> <span class="nv">Windows</span> <span class="nv">by</span> <span class="nv">installing</span>
<span class="nv">CygWin</span> <span class="nv">with</span> <span class="nv">the</span> <span class="nv">X11</span> <span class="nv">options</span> <span class="ss">(</span><span class="nv">and</span> <span class="nv">ralcgm</span>, <span class="nv">the</span> <span class="nv">GhostScript</span> <span class="nv">software</span>,
<span class="nv">the</span> <span class="nv">GNU</span> <span class="nv">plotutils</span> <span class="nv">packages</span> <span class="nv">and</span> <span class="nv">netpbm</span><span class="ss">)</span>.
</code></pre></div>

<p>xfig</p>
<div class="codehilite"><pre><span></span><code><span class="n">The</span> <span class="n">xfig</span><span class="p">(</span><span class="mh">1</span><span class="p">)</span> <span class="n">command</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">edit</span> <span class="n">graphics</span> <span class="n">generated</span> <span class="n">with</span> <span class="n">the</span>
<span class="n">M_draw</span> <span class="n">graphics</span> <span class="n">library</span><span class="p">;</span> <span class="k">and</span> <span class="n">to</span> <span class="n">convert</span> <span class="n">the</span> <span class="n">xfig</span><span class="p">(</span><span class="mh">1</span><span class="p">)</span><span class="o">-</span><span class="n">format</span> <span class="n">file</span> <span class="n">to</span>
<span class="n">many</span> <span class="n">other</span> <span class="k">output</span> <span class="n">formats</span><span class="p">.</span> <span class="n">If</span> <span class="n">you</span> <span class="n">are</span> <span class="n">generating</span> <span class="n">pixmaps</span> <span class="n">with</span> <span class="n">the</span> <span class="n">PPM</span>
<span class="n">driver</span> <span class="k">and</span> <span class="n">want</span> <span class="n">to</span> <span class="n">use</span> <span class="n">them</span> <span class="n">as</span> <span class="n">image</span> <span class="n">maps</span> <span class="n">in</span> <span class="n">your</span> <span class="n">HTML</span> <span class="n">documents</span> <span class="n">the</span>
<span class="n">usemap</span> <span class="n">driver</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span><span class="p">.</span>

<span class="n">If</span> <span class="n">you</span> <span class="n">have</span> <span class="n">xfig</span><span class="p">(</span><span class="mh">1</span><span class="p">)</span> <span class="n">installed</span><span class="p">,</span> <span class="n">you</span> <span class="n">will</span> <span class="n">find</span> <span class="n">that</span> <span class="n">calling</span> <span class="n">fig2dev</span><span class="p">(</span><span class="mh">1</span><span class="p">)</span>
<span class="n">allows</span> <span class="n">you</span> <span class="n">to</span> <span class="k">generate</span> <span class="n">many</span> <span class="k">output</span> <span class="n">formats</span> <span class="n">from</span> <span class="n">a</span> <span class="n">single</span> <span class="n">file</span><span class="p">,</span>
<span class="n">including</span> <span class="n">LaTex</span> <span class="k">and</span> <span class="n">encapsulated</span> <span class="n">PostScript</span><span class="p">.</span>

<span class="n">xfig</span><span class="p">(</span><span class="mh">1</span><span class="p">)</span> <span class="n">is</span> <span class="n">an</span> <span class="n">X11</span> <span class="n">Windows</span> <span class="n">application</span> <span class="n">that</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">interactively</span>
<span class="n">edit</span> <span class="n">figures</span><span class="p">.</span> <span class="n">The</span> <span class="n">HELP</span> <span class="n">utility</span> <span class="n">of</span> <span class="n">xfig</span><span class="p">(</span><span class="mh">1</span><span class="p">)</span> <span class="n">provides</span> <span class="n">a</span> <span class="n">description</span> <span class="n">of</span> <span class="n">the</span>
<span class="n">xfig</span><span class="p">(</span><span class="mh">1</span><span class="p">)</span> <span class="n">file</span> <span class="n">format</span> <span class="p">(</span><span class="n">as</span> <span class="n">well</span> <span class="n">as</span> <span class="n">a</span> <span class="n">user</span> <span class="n">guide</span> <span class="k">and</span> <span class="n">many</span> <span class="n">other</span> <span class="n">documents</span><span class="p">).</span>

<span class="n">Unfortunately</span><span class="p">,</span> <span class="n">the</span> <span class="n">manual</span> <span class="n">indicates</span> <span class="n">the</span> <span class="n">user</span> <span class="n">defined</span> <span class="n">colors</span> <span class="n">must</span>
<span class="n">be</span> <span class="n">defined</span> <span class="n">before</span> <span class="n">any</span> <span class="n">other</span> <span class="n">Fig</span> <span class="n">objects</span><span class="p">.</span> <span class="n">By</span> <span class="k">default</span><span class="p">,</span> <span class="mh">16</span> <span class="n">colors</span> <span class="n">are</span>
<span class="n">defined</span><span class="p">.</span> <span class="n">If</span> <span class="n">undefined</span> <span class="n">colors</span> <span class="n">are</span> <span class="n">used</span> <span class="n">they</span> <span class="n">are</span> <span class="n">assigned</span> <span class="n">a</span> <span class="n">dash</span> <span class="n">pattern</span>
<span class="k">or</span> <span class="n">a</span> <span class="n">fill</span> <span class="n">pattern</span> <span class="n">to</span> <span class="n">help</span> <span class="n">distinguish</span> <span class="n">them</span><span class="p">.</span> <span class="n">Use</span> <span class="n">of</span> <span class="n">hardware</span> <span class="n">dash</span> <span class="k">and</span>
<span class="n">M_draw</span> <span class="n">software</span> <span class="n">dash</span> <span class="n">could</span> <span class="n">get</span> <span class="n">confusing</span><span class="p">.</span>

<span class="n">Also</span><span class="p">,</span> <span class="n">in</span> <span class="n">the</span> <span class="n">current</span> <span class="n">driver</span> <span class="n">version</span> <span class="n">all</span> <span class="n">lines</span> <span class="n">are</span> <span class="n">drawn</span> <span class="n">as</span> <span class="n">a</span> <span class="n">series</span>
<span class="n">of</span> <span class="n">move</span><span class="o">-</span><span class="n">draw</span> <span class="n">vectors</span><span class="p">,</span> <span class="n">which</span> <span class="n">can</span> <span class="n">make</span> <span class="n">the</span> <span class="n">files</span> <span class="n">relatively</span> <span class="n">very</span> <span class="k">large</span><span class="p">.</span>

<span class="n">multiple</span> <span class="n">pages</span> <span class="n">appear</span> <span class="n">to</span> <span class="n">only</span> <span class="n">work</span> <span class="n">with</span> <span class="n">the</span> <span class="n">PostScript</span> <span class="k">and</span> <span class="n">PDF</span> <span class="n">drivers</span>
<span class="n">of</span> <span class="n">xfig</span><span class="p">(</span><span class="mh">1</span><span class="p">);</span> <span class="k">and</span> <span class="n">even</span> <span class="n">then</span> <span class="n">pages</span> <span class="n">must</span> <span class="n">be</span> <span class="n">all</span> <span class="n">positive</span> <span class="n">numbers</span> <span class="n">from</span> <span class="n">left</span>
<span class="n">to</span> <span class="n">right</span> <span class="k">and</span> <span class="n">top</span> <span class="n">to</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">printing</span> <span class="n">all</span> <span class="n">pages</span> <span class="n">in</span> <span class="n">a</span> <span class="n">rectangular</span> <span class="n">area</span><span class="p">.</span>

<span class="n">Alternatively</span><span class="p">,</span> <span class="n">could</span> <span class="n">use</span> <span class="n">depth</span> <span class="n">to</span> <span class="n">keep</span> <span class="n">up</span> <span class="n">to</span> <span class="mh">999</span> <span class="n">pages</span> <span class="n">separate</span>
</code></pre></div>

<h2 id="example_3">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code>   <span class="nv">program</span> <span class="nv">demo_vinit</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>
   <span class="nv">use</span> <span class="nv">ISO_C_BINDING</span>
   <span class="nv">integer</span> :: <span class="nv">ios</span>
   <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">50</span><span class="ss">)</span> :: <span class="nv">device</span>

   <span class="o">!</span> <span class="nv">read</span> <span class="nv">in</span> <span class="nv">device</span> <span class="nv">name</span> <span class="nv">and</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">mode</span>
   <span class="nv">print</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">Enter output device:</span><span class="s1">&#39;</span>
   <span class="nv">read</span><span class="ss">(</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">(a)</span><span class="s1">&#39;</span>,<span class="nv">iostat</span><span class="o">=</span><span class="nv">ios</span><span class="ss">)</span><span class="nv">device</span>
   <span class="k">if</span><span class="ss">(</span><span class="nv">ios</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="nv">device</span><span class="o">=</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="nv">device</span><span class="ss">)</span>
   <span class="o">!</span> <span class="nv">by</span> <span class="nv">default</span> <span class="nv">the</span> <span class="nv">drawing</span> <span class="nv">surface</span> <span class="nv">is</span>
   <span class="o">!</span> <span class="nv">a</span> <span class="nv">square</span> <span class="nv">ranging</span> <span class="nv">from</span> <span class="o">-</span><span class="mi">1</span> <span class="nv">to</span> <span class="mi">1</span> <span class="nv">in</span> <span class="nv">both</span>
   <span class="o">!</span> <span class="nv">the</span> <span class="nv">X</span> <span class="nv">and</span> <span class="nv">Y</span> <span class="nv">axis</span>

   <span class="o">!</span> <span class="nv">set</span> <span class="nv">font</span> <span class="nv">to</span> <span class="nv">large</span> <span class="nv">hardware</span> <span class="nv">font</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">large</span><span class="s1">&#39;</span><span class="ss">)</span>

   <span class="o">!</span> <span class="nv">set</span> <span class="nv">current</span> <span class="nv">color</span> <span class="nv">to</span> <span class="nv">black</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>

   <span class="o">!</span> <span class="nv">clear</span> <span class="nv">to</span> <span class="nv">current</span> <span class="nv">color</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>

   <span class="o">!</span> <span class="nv">we</span> <span class="nv">want</span> <span class="nv">to</span> <span class="nv">draw</span> <span class="nv">in</span> <span class="nv">green</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>

   <span class="o">!</span> <span class="nv">draw</span> <span class="nv">a</span> <span class="nv">horizontal</span> <span class="nv">line</span> <span class="nv">at</span> <span class="nv">y</span> <span class="o">=</span> <span class="mi">0</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>

   <span class="o">!</span> <span class="k">pause</span> <span class="k">for</span> <span class="nv">some</span> <span class="nv">input</span>
   <span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>

   <span class="o">!</span> <span class="nv">draw</span> <span class="nv">a</span> <span class="nv">line</span> <span class="nv">along</span> <span class="nv">x</span> <span class="o">=</span> <span class="mi">0</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>

   <span class="o">!</span> <span class="nv">move</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">middle</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">screen</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>

   <span class="o">!</span> <span class="nv">draw</span> <span class="s1">&#39;</span><span class="s">Hello</span><span class="s1">&#39;</span> <span class="nv">starting</span> <span class="nv">at</span> <span class="nv">the</span> <span class="nv">origin</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">Hello</span><span class="s1">&#39;</span><span class="ss">)</span>

   <span class="o">!</span> <span class="k">pause</span> <span class="nv">again</span>
   <span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>

   <span class="o">!</span>  <span class="nv">wrap</span> <span class="nv">up</span> <span class="nv">and</span> <span class="k">exit</span> <span class="nv">graphics</span> <span class="nv">mode</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>

   <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_vinit</span>
</code></pre></div>

<h2 id="name_4">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">vexit</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="o">-</span> [<span class="nv">M_draw</span>:<span class="nv">DEVICE</span>] <span class="nv">Reset</span> <span class="nv">window</span><span class="o">/</span><span class="nv">terminal</span> <span class="nv">and</span> <span class="k">exit</span> <span class="nv">graphics</span> <span class="nv">mode</span>. <span class="nv">Must</span> <span class="nv">be</span> <span class="nv">last</span> <span class="nv">routine</span> <span class="nv">called</span>.
<span class="ss">(</span><span class="nv">LICENSE</span>:<span class="nv">PD</span><span class="ss">)</span>
</code></pre></div>

<h2 id="synopsis_3">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine vexit()
</code></pre></div>

<h2 id="description_4">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Reset the window/terminal and terminate graphics mode. Required to
properly close out most output devices. Must be called before any
second call to vinit(3f). Must be the last M_draw routine called.
</code></pre></div>

<h2 id="example_4">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code>  <span class="nv">program</span> <span class="nv">demo_vexit</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span>: <span class="nv">vinit</span>, <span class="nv">vexit</span>, <span class="nv">voutput</span>, <span class="nv">circle</span>, <span class="nv">linewidth</span>, <span class="nv">color</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
  <span class="nv">implicit</span> <span class="nv">none</span>
  <span class="nv">integer</span> :: <span class="nv">i</span>

  <span class="o">!</span> <span class="nv">assuming</span> <span class="nv">you</span> <span class="nv">have</span> <span class="nv">the</span> <span class="nv">NetPBM</span> <span class="nv">package</span> <span class="nv">installed</span>
  <span class="o">!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">output</span> <span class="nv">to</span> <span class="nv">create</span> <span class="nv">a</span> <span class="nv">GIF</span> <span class="nv">file</span> <span class="nv">called</span> <span class="nv">one</span>.<span class="nv">gif</span>
  <span class="k">call</span> <span class="nl">voutput</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">|ppmtogif &gt;vexit.3m_draw.gif</span><span class="s1">&#39;</span><span class="ss">)</span>

  <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">p6</span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span>
  <span class="o">!</span> <span class="nv">default</span> <span class="nv">window</span> <span class="nv">is</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="nv">x</span> <span class="o">&lt;=</span> <span class="mi">1</span>, <span class="o">-</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="nv">y</span> <span class="o">&lt;=</span> <span class="mi">1</span>
  <span class="o">!</span> <span class="nv">default</span> <span class="nv">viewport</span> <span class="nv">is</span> <span class="nv">left</span> <span class="nv">bottom</span> <span class="nv">justified</span> <span class="nv">square</span>
  <span class="o">!</span> <span class="nv">so</span> <span class="nv">essentially</span> <span class="nv">you</span> <span class="nv">have</span> <span class="nv">a</span> <span class="nv">square</span> <span class="nv">drawing</span> <span class="nv">surface</span>
  <span class="o">!</span> <span class="nv">with</span> <span class="nv">the</span> <span class="nv">point</span> <span class="o">&lt;</span><span class="mi">0</span>,<span class="mi">0</span><span class="o">&gt;</span> <span class="nv">at</span> <span class="nv">the</span> <span class="nv">center</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">square</span>
  <span class="o">!</span> <span class="nv">with</span> <span class="nv">X</span> <span class="nv">and</span> <span class="nv">Y</span> <span class="nv">ranging</span> <span class="nv">from</span> <span class="o">-</span><span class="mi">1</span> <span class="nv">to</span> <span class="mi">1</span>.

  <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">100</span><span class="ss">)</span>
  <span class="o">!</span> <span class="nv">this</span> <span class="k">loop</span> <span class="nv">draws</span> <span class="nv">outside</span> <span class="nv">the</span> <span class="nv">current</span> <span class="nv">window</span>
  <span class="o">!</span> <span class="nv">but</span> <span class="nv">by</span> <span class="nv">default</span> <span class="nv">clipping</span> <span class="nv">is</span> <span class="nv">on</span>
  <span class="k">do</span> <span class="nv">i</span><span class="o">=</span><span class="mi">1</span>,<span class="mi">30</span>
     <span class="k">call</span> <span class="nl">circle</span><span class="ss">((</span><span class="nv">real</span><span class="ss">(</span><span class="nv">i</span><span class="ss">)</span><span class="o">-</span><span class="mi">1</span><span class="ss">)</span><span class="o">*</span><span class="mi">0</span>.<span class="mi">04</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">1</span>.<span class="mi">0</span><span class="o">/</span><span class="nv">real</span><span class="ss">(</span><span class="nv">i</span><span class="ss">))</span>
  <span class="nv">enddo</span>

  <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span> <span class="o">!</span> <span class="nv">exited</span> <span class="nv">graphics</span> <span class="nv">so</span> <span class="nv">can</span> <span class="nv">start</span> <span class="nv">again</span>

  <span class="o">!</span> <span class="nv">start</span> <span class="nv">second</span> <span class="nv">graphics</span> <span class="nv">session</span> <span class="nv">with</span> <span class="nv">new</span> <span class="nv">output</span>
  <span class="o">!</span> <span class="nv">device</span> <span class="nv">and</span> <span class="nv">output</span> <span class="nv">file</span>
  <span class="k">call</span> <span class="nl">voutput</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">|ppmtogif &gt;vexit2.3m_draw.gif</span><span class="s1">&#39;</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">p6</span><span class="s1">&#39;</span><span class="ss">)</span>

  <span class="k">do</span> <span class="nv">i</span><span class="o">=</span><span class="mi">10</span>,<span class="mi">1</span>,<span class="o">-</span><span class="mi">1</span>
     <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">i</span><span class="ss">)</span>
     <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">1</span>.<span class="mi">0</span><span class="o">/</span><span class="nv">real</span><span class="ss">(</span><span class="nv">i</span><span class="ss">))</span>
  <span class="nv">enddo</span>

  <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>

  <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_vexit</span>
</code></pre></div>

<h2 id="name_5">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">voutput</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="o">-</span> [<span class="nv">M_draw</span>:<span class="nv">DEVICE</span>] <span class="nv">Redirect</span> <span class="nv">output</span> <span class="nv">from</span> <span class="o">*</span><span class="k">next</span><span class="o">*</span> <span class="nv">vinit</span> <span class="nv">to</span> <span class="nv">file</span>
<span class="ss">(</span><span class="nv">LICENSE</span>:<span class="nv">PD</span><span class="ss">)</span>
</code></pre></div>

<h2 id="synopsis_4">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine voutput(path)
      character*(*) path
</code></pre></div>

<h2 id="description_5">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>   <span class="n">Redirect</span> <span class="n">output</span> <span class="n">from</span> <span class="o">*</span><span class="n">next</span><span class="o">*</span> <span class="n">vinit</span><span class="p">()</span> <span class="n">to</span> <span class="n">file</span> <span class="n">given</span> <span class="n">by</span> <span class="n">path</span><span class="o">.</span> <span class="n">This</span> <span class="n">routine</span>
   <span class="n">only</span> <span class="n">applies</span> <span class="n">to</span> <span class="n">device</span> <span class="n">drivers</span> <span class="n">that</span> <span class="n">write</span> <span class="n">to</span> <span class="n">stdout</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">PostScript</span> <span class="ow">and</span>
   <span class="n">hpgl</span><span class="o">.</span>

   <span class="n">The</span> <span class="n">special</span> <span class="n">file</span> <span class="n">names</span> <span class="n">are</span>

     <span class="o">*</span> <span class="o">-</span>  <span class="k">is</span> <span class="n">standard</span> <span class="n">output</span>
     <span class="o">*</span> <span class="o">+</span>  <span class="k">is</span> <span class="n">standard</span> <span class="n">error</span>
     <span class="o">*</span> <span class="o">|</span>  <span class="n">command</span> <span class="n">will</span> <span class="n">create</span> <span class="n">a</span> <span class="n">pipe</span> <span class="n">to</span> <span class="s2">&quot;command&quot;</span>

   <span class="n">If</span> <span class="n">the</span> <span class="n">open</span> <span class="n">of</span> <span class="n">the</span> <span class="n">file</span> <span class="n">fails</span><span class="p">,</span> <span class="n">an</span> <span class="n">attempt</span> <span class="k">is</span> <span class="n">made</span> <span class="n">to</span> <span class="n">append</span> <span class="n">to</span> <span class="n">file</span>
   <span class="s2">&quot;M_DRAW_OUTPUT&quot;</span><span class="o">.</span> <span class="n">If</span> <span class="n">this</span> <span class="n">fails</span><span class="p">,</span> <span class="n">standard</span> <span class="n">output</span> <span class="k">is</span> <span class="n">used</span><span class="o">.</span>

   <span class="n">When</span> <span class="n">vinit</span><span class="p">()</span> <span class="k">is</span> <span class="n">called</span> <span class="k">if</span> <span class="n">voutput</span><span class="p">()</span> <span class="n">has</span> <span class="ow">not</span> <span class="n">been</span> <span class="n">called</span> <span class="n">then</span> <span class="n">the</span>
   <span class="n">environment</span> <span class="n">variable</span> <span class="n">M_DRAW_OUTPUT</span> <span class="k">is</span> <span class="n">checked</span> <span class="ow">and</span> <span class="k">if</span> <span class="n">it</span> <span class="k">is</span> <span class="n">defined</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">a</span>
   <span class="nb nb-Type">null</span> <span class="n">string</span> <span class="n">then</span> <span class="n">voutput</span><span class="p">()</span> <span class="k">is</span> <span class="n">called</span> <span class="n">with</span> <span class="n">the</span> <span class="n">M_DRAW_OUTPUT</span> <span class="n">variable</span><span class="s1">&#39;s value.</span>

   <span class="n">A</span> <span class="n">common</span> <span class="n">use</span> <span class="n">of</span> <span class="n">the</span> <span class="o">|</span><span class="n">command</span> <span class="n">option</span> <span class="k">is</span> <span class="n">to</span> <span class="n">automatically</span> <span class="n">call</span> <span class="n">programs</span>
   <span class="n">that</span> <span class="nb">convert</span> <span class="n">PPM</span> <span class="n">files</span> <span class="n">to</span> <span class="n">other</span> <span class="n">common</span> <span class="n">pixmap</span> <span class="n">formats</span> <span class="ow">or</span> <span class="n">converts</span> <span class="n">the</span> <span class="n">GNU</span>
   <span class="n">metafile</span> <span class="n">to</span> <span class="n">other</span> <span class="n">formats</span> <span class="p">(</span><span class="n">typically</span> <span class="n">via</span> <span class="n">the</span> <span class="n">GNU</span> <span class="n">plotutils</span> <span class="n">plot</span> <span class="n">program</span><span class="p">)</span><span class="o">.</span>
</code></pre></div>

<h2 id="example_5">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_voutput</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="o">!</span> <span class="nv">want</span> <span class="nv">a</span> <span class="mi">400</span><span class="nv">x400</span> <span class="nv">raster</span> <span class="nv">output</span>
<span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">400</span>,<span class="mi">400</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">convert</span> <span class="nv">PPM</span> <span class="nv">to</span> <span class="nv">a</span> <span class="nv">GIF</span> <span class="nv">file</span> <span class="nv">using</span> <span class="nv">ppmtogif</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">voutput</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">|ppmtogif &gt;voutput.3m_draw.gif</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">PPM</span> <span class="nv">device</span>
<span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">p6</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">draw</span> <span class="nv">a</span> <span class="nv">filled</span> <span class="nv">circle</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
<span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="o">!</span>
<span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_voutput</span>
</code></pre></div>

<h2 id="name_6">NAME</h2>
<div class="codehilite"><pre><span></span><code>vnewdev(3f) - [M_draw:DEVICE] Reinitialize to use new device without changing
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_5">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine vnewdev(device)
      character *(*) device
</code></pre></div>

<h2 id="description_6">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Reinitialize M_draw to use a new device without changing attributes,
viewport etc. (eg. window and viewport specifications)
</code></pre></div>

<h2 id="name_7">NAME</h2>
<div class="codehilite"><pre><span></span><code>vgetdev(3f) - [M_draw:DEVICE] Get name of current device
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_6">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine vgetdev(device)
      character *(*) device
</code></pre></div>

<h2 id="description_7">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Gets the name of the current M_draw device. The C version of the routine
also returns a pointer to its argument.
</code></pre></div>

<h2 id="name_8">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">getdepth</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="o">-</span> [<span class="nv">M_draw</span>:<span class="nv">DEVICE</span>] <span class="k">Return</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">bit</span> <span class="nv">planes</span> <span class="ss">(</span><span class="nv">color</span> <span class="nv">planes</span><span class="ss">)</span>
<span class="ss">(</span><span class="nv">LICENSE</span>:<span class="nv">PD</span><span class="ss">)</span>
</code></pre></div>

<h2 id="synopsis_7">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      integer function getdepth()
</code></pre></div>

<h2 id="description_8">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Returns</span> <span class="nv">the</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">bit</span> <span class="nv">planes</span> <span class="ss">(</span><span class="nv">or</span> <span class="nv">color</span> <span class="nv">planes</span><span class="ss">)</span> <span class="k">for</span> <span class="nv">a</span> <span class="nv">particular</span>
<span class="nv">device</span>. <span class="nv">The</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">colors</span> <span class="nv">displayable</span> <span class="nv">by</span> <span class="nv">the</span> <span class="nv">device</span> <span class="nv">is</span> <span class="k">then</span>
<span class="mi">2</span><span class="o">**</span><span class="ss">(</span><span class="nv">nplanes</span><span class="ss">)</span><span class="c1">; ie. if nplanes=1,then there are two colors (black and</span>
<span class="nv">white</span><span class="ss">)</span>.
</code></pre></div>

<h2 id="name_9">NAME</h2>
<div class="codehilite"><pre><span></span><code>pushdev(3f) - [M_draw:DEVICE] push current device onto a stack
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_8">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine pushdev(device)
      character *(*) device
</code></pre></div>

<h2 id="description_9">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Initialize</span> <span class="nv">a</span> <span class="nv">new</span> <span class="nv">device</span> <span class="nv">without</span> <span class="nv">changing</span> <span class="nv">attributes</span>, <span class="nv">viewport</span> <span class="nv">etc</span>,
<span class="nv">but</span> <span class="nv">save</span> <span class="nv">the</span> <span class="nv">previously</span> <span class="nv">initialised</span> <span class="nv">device</span> <span class="nv">on</span> <span class="nv">a</span> <span class="nv">stack</span>.

<span class="nv">Note</span>, <span class="nv">this</span> <span class="nv">is</span> <span class="nv">intended</span> <span class="nv">to</span> <span class="nv">completely</span> <span class="nv">change</span> <span class="nv">the</span> <span class="nv">device</span>, <span class="nv">it</span> <span class="nv">will</span> <span class="nv">not</span> <span class="nv">work</span>
<span class="k">if</span> <span class="nv">you</span> <span class="nv">pushdev</span><span class="ss">()</span> <span class="nv">the</span> <span class="nv">same</span> <span class="nv">device</span> <span class="nv">that</span> <span class="nv">you</span> <span class="nv">are</span> <span class="nv">already</span> <span class="nv">running</span>. <span class="ss">(</span><span class="nv">This</span> <span class="nv">will</span>
<span class="nv">be</span> <span class="nv">fixed</span> <span class="nv">at</span> <span class="nv">a</span> <span class="nv">later</span> <span class="nv">date</span><span class="ss">)</span>.
</code></pre></div>

<h2 id="name_10">NAME</h2>
<div class="codehilite"><pre><span></span><code>popdev(3f) - [M_draw:DEVICE] pop device from stack created by pushdev.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_9">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>       subroutine popdev()
</code></pre></div>

<h2 id="description_10">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Pops a device off the device stack and reinstates the previously pushed
device.
</code></pre></div>

<h2 id="name_11">NAME</h2>
<div class="codehilite"><pre><span></span><code>move(3f) - [M_draw:MOVE] Move current graphics position to (x, y, z)
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_10">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine move(x, y, z)
      real x, y, z
</code></pre></div>

<h2 id="description_11">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Move current graphics position to (x, y, z). (x, y, z) is a point in
world coordinates.
</code></pre></div>

<h2 id="name_12">NAME</h2>
<div class="codehilite"><pre><span></span><code>rmove(3f) - [M_draw:MOVE] Relative move
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_11">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine rmove(deltax, deltay, deltaz)
      real deltax, deltay, deltaz
</code></pre></div>

<h2 id="description_12">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Relative move. deltax, deltay, and deltaz are offsets in world units.
</code></pre></div>

<h2 id="name_13">NAME</h2>
<div class="codehilite"><pre><span></span><code>move2(3f) - [M_draw:MOVE] Move graphics position to point (x, y)
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_12">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine move2(x, y)
      real,intent(in) :: x, y
</code></pre></div>

<h2 id="description_13">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Update current position.
Move graphics position to point (x, y). (x, y) is a point in world
coordinates.
</code></pre></div>

<h2 id="options_1">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code>X  new X position
Y  new Y position
</code></pre></div>

<h2 id="example_6">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code>  <span class="nv">program</span> <span class="nv">demo_move2</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span> : <span class="nv">prefsize</span>, <span class="nv">vinit</span>, <span class="nv">ortho2</span>, <span class="nv">clear</span>, <span class="nv">getkey</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span> : <span class="nv">move2</span>, <span class="nv">draw2</span>, <span class="nv">vexit</span>, <span class="nv">color</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
  <span class="nv">implicit</span> <span class="nv">none</span>
  <span class="nv">integer</span> :: <span class="nv">ipaws</span>
  <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">60</span>,<span class="mi">40</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
  <span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="mi">300</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">200</span>.<span class="mi">0</span>,<span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
  <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="o">-</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
  <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
  <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_move2</span>
</code></pre></div>

<h2 id="name_14">NAME</h2>
<div class="codehilite"><pre><span></span><code>rmove2(3f) - [M_draw:MOVE] Relative move in world units.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_13">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code> subroutine rmove2(deltax, deltay)
 real,intent(in) :: deltax, deltay
</code></pre></div>

<h2 id="description_14">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Update current position.
Relative move2. deltax and deltay are offsets in world units.
</code></pre></div>

<h2 id="options_2">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code>X  new X position
Y  new Y position
</code></pre></div>

<h2 id="example_7">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code>  <span class="nv">program</span> <span class="nv">demo_rmove2</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span>: <span class="nv">prefsize</span>, <span class="nv">vinit</span>, <span class="nv">ortho2</span>, <span class="nv">clear</span>, <span class="nv">getkey</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span>: <span class="nv">move2</span>, <span class="nv">rmove2</span>, <span class="nv">rdraw2</span>, <span class="nv">vexit</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span>: <span class="nv">linewidth</span>
  <span class="nv">implicit</span> <span class="nv">none</span>
  <span class="nv">integer</span> :: <span class="nv">ipaws</span>
  <span class="nv">integer</span> :: <span class="nv">i</span>
  <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">500</span>,<span class="mi">500</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
  <span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">110</span>.<span class="mi">0</span>,<span class="mi">110</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">110</span>.<span class="mi">0</span>,<span class="mi">110</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">100</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">100</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">70</span><span class="ss">)</span>
  <span class="k">do</span> <span class="nv">i</span><span class="o">=</span><span class="mi">1</span>,<span class="mi">20</span>
     <span class="k">call</span> <span class="nl">rmove2</span><span class="ss">(</span><span class="mi">10</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
     <span class="k">call</span> <span class="nl">rdraw2</span><span class="ss">(</span> <span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">10</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="nv">enddo</span>
  <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
  <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
  <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_rmove2</span>
</code></pre></div>

<h2 id="name_15">NAME</h2>
<div class="codehilite"><pre><span></span><code>smove2(3f) - [M_draw:MOVE] Move current graphics position in screen coordinates (-1.0 to 1.0).
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_14">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine smove2(x, y)
      real x, y
</code></pre></div>

<h2 id="description_15">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Move current graphics position in screen coordinates (-1.0 to 1.0).
</code></pre></div>

<h2 id="name_16">NAME</h2>
<div class="codehilite"><pre><span></span><code>rsmove2(3f) - [M_draw:MOVE] Relative move in screen units (-1.0 to 1.0).
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_15">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine rsmove2(deltax, deltay)
      real deltax, deltay
</code></pre></div>

<h2 id="description_16">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Relative smove2. deltax, and deltay are offsets in screen units
(-1.0 to 1.0).
</code></pre></div>

<h2 id="name_17">NAME</h2>
<div class="codehilite"><pre><span></span><code>draw(3f) - [M_draw:DRAW] Draw from current graphics position to (x, y, z)
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_16">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine draw(x, y, z)
      real x, y, z
</code></pre></div>

<h2 id="description_17">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Draw from current graphics position to (x, y, z). (x, y, z) is a
point in world coordinates.
</code></pre></div>

<h2 id="name_18">NAME</h2>
<div class="codehilite"><pre><span></span><code>rdraw(3f) - [M_draw:DRAW] Relative draw
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_17">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code> subroutine rdraw(deltax, deltay, deltaz)
 real deltax, deltay, deltaz
</code></pre></div>

<h2 id="description_18">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Relative draw. deltax, deltay, and deltaz are offsets in world units.
</code></pre></div>

<h2 id="name_19">NAME</h2>
<div class="codehilite"><pre><span></span><code>draw2(3f) - [M_draw:DRAW] Draw from current graphics position to given point (x, y)
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_18">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code> subroutine draw2(x, y)
 real,intent(in) :: x, y
</code></pre></div>

<h2 id="description_19">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Draw from current position to specified point using current
color and line width. Updates current position to new point.
(x, y) is a point in world coordinates.
</code></pre></div>

<h2 id="options_3">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code>X  new X position
Y  new Y position
</code></pre></div>

<h2 id="example_8">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="n">program</span> <span class="n">demo_draw2</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span> <span class="p">:</span> <span class="n">prefsize</span><span class="p">,</span> <span class="n">vinit</span><span class="p">,</span> <span class="n">ortho2</span><span class="p">,</span> <span class="n">clear</span><span class="p">,</span> <span class="n">getkey</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span> <span class="p">:</span> <span class="n">move2</span><span class="p">,</span> <span class="n">draw2</span><span class="p">,</span> <span class="n">vexit</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span><span class="n">linewidth</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="p">:</span> <span class="n">D_BLACK</span><span class="p">,</span>   <span class="n">D_WHITE</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="p">:</span> <span class="n">D_RED</span><span class="p">,</span>     <span class="n">D_GREEN</span><span class="p">,</span>    <span class="n">D_BLUE</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="p">:</span> <span class="n">D_YELLOW</span><span class="p">,</span>  <span class="n">D_MAGENTA</span><span class="p">,</span>  <span class="n">D_CYAN</span>
<span class="n">use</span> <span class="n">M_units</span><span class="p">,</span>   <span class="n">only</span> <span class="p">:</span> <span class="n">d2r</span><span class="p">,</span> <span class="n">polar_to_cartesian</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">The</span> <span class="n">Archimedean</span> <span class="n">spiral</span> <span class="k">is</span> <span class="n">the</span> <span class="n">locus</span> <span class="n">of</span> <span class="n">points</span> <span class="n">corresponding</span>
<span class="o">!</span> <span class="n">to</span> <span class="n">the</span> <span class="n">locations</span> <span class="n">over</span> <span class="n">time</span> <span class="n">of</span> <span class="n">a</span> <span class="n">point</span> <span class="n">moving</span> <span class="n">away</span> <span class="n">from</span> <span class="n">a</span>
<span class="o">!</span> <span class="n">fixed</span> <span class="n">point</span> <span class="n">with</span> <span class="n">a</span> <span class="n">constant</span> <span class="n">speed</span> <span class="n">along</span> <span class="n">a</span> <span class="n">line</span> <span class="n">which</span> <span class="n">rotates</span>
<span class="o">!</span> <span class="n">with</span> <span class="n">constant</span> <span class="n">angular</span> <span class="n">velocity</span><span class="o">.</span>
<span class="o">!</span>    <span class="n">r</span><span class="o">=</span><span class="n">A</span><span class="o">+</span><span class="n">B</span><span class="o">*</span><span class="n">theta</span>
<span class="o">!</span> <span class="n">Changing</span> <span class="n">the</span> <span class="n">parameter</span> <span class="n">A</span> <span class="n">will</span> <span class="n">turn</span> <span class="n">the</span> <span class="n">spiral</span><span class="p">,</span>
<span class="o">!</span> <span class="k">while</span> <span class="n">B</span> <span class="n">controls</span> <span class="n">the</span> <span class="n">distance</span> <span class="n">between</span> <span class="n">successive</span> <span class="n">turnings</span><span class="o">.</span>
<span class="o">!</span>
   <span class="n">implicit</span> <span class="n">none</span>
   <span class="n">integer</span>        <span class="p">::</span> <span class="n">i</span>
   <span class="n">real</span>           <span class="p">::</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">radius</span><span class="p">,</span><span class="n">theta</span>
   <span class="n">real</span><span class="p">,</span><span class="n">parameter</span> <span class="p">::</span> <span class="n">rotate</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">gap</span><span class="o">=</span><span class="mf">2.0</span>
   <span class="n">integer</span>        <span class="p">::</span> <span class="n">ipaws</span>

   <span class="n">call</span> <span class="n">prefsize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="mi">400</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">vinit</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="o">!</span> <span class="n">start</span> <span class="n">graphics</span> <span class="n">using</span> <span class="n">device</span> <span class="o">$</span><span class="n">M_DRAW_DEVICE</span>
   <span class="n">call</span> <span class="n">ortho2</span><span class="p">(</span><span class="o">-</span><span class="mf">150.0</span><span class="p">,</span><span class="mf">150.0</span><span class="p">,</span><span class="o">-</span><span class="mf">150.0</span><span class="p">,</span><span class="mf">150.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_MAGENTA</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">clear</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_BLACK</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
   <span class="n">do</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">360</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span>
      <span class="n">theta</span><span class="o">=</span><span class="n">d2r</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
      <span class="o">!</span> <span class="n">equation</span> <span class="ow">in</span> <span class="n">polar</span> <span class="n">coordinates</span>
      <span class="n">radius</span><span class="o">=</span><span class="n">rotate</span><span class="o">+</span><span class="n">gap</span><span class="o">*</span><span class="n">theta</span>
      <span class="o">!</span> <span class="nb">convert</span> <span class="n">polar</span> <span class="n">coordinates</span> <span class="n">to</span> <span class="n">cartesian</span>
      <span class="n">call</span> <span class="n">polar_to_cartesian</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span><span class="n">theta</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
      <span class="o">!</span> <span class="n">draw</span> <span class="n">from</span> <span class="n">current</span> <span class="n">position</span> <span class="n">to</span> <span class="n">end</span> <span class="n">of</span> <span class="n">next</span> <span class="n">segment</span>
      <span class="n">call</span> <span class="n">draw2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
   <span class="n">enddo</span>
   <span class="n">ipaws</span><span class="o">=</span><span class="n">getkey</span><span class="p">()</span>
   <span class="o">!</span> <span class="n">exit</span> <span class="n">graphics</span> <span class="n">mode</span>
   <span class="n">call</span> <span class="n">vexit</span><span class="p">()</span>
<span class="n">end</span> <span class="n">program</span> <span class="n">demo_draw2</span>
</code></pre></div>

<h2 id="name_20">NAME</h2>
<div class="codehilite"><pre><span></span><code>rdraw2(3f) - [M_draw:DRAW] Relative draw from current position to given point
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_19">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine rdraw2(deltax, deltay)
      real,intent(in) :: deltax, deltay
</code></pre></div>

<h2 id="description_20">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Relative draw from current position to specified point using current
color and line width. Updates current position to new point.
(x, y) is a point in world coordinates.
</code></pre></div>

<h2 id="options_4">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code>deltax and deltay are offsets in world units.

X  new X position
Y  new Y position
</code></pre></div>

<h2 id="example_9">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code>  <span class="nv">program</span> <span class="nv">demo_rdraw2</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span>: <span class="nv">vinit</span>, <span class="nv">prefsize</span>, <span class="nv">ortho2</span>,<span class="nv">linewidth</span>,<span class="nv">getkey</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span>: <span class="nv">clear</span>, <span class="nv">move2</span>, <span class="nv">rdraw2</span>, <span class="nv">vexit</span>,<span class="nv">color</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
  <span class="nv">integer</span> :: <span class="nv">ipaws</span>

  <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">200</span>,<span class="mi">200</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
  <span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">55</span>.<span class="mi">0</span>, <span class="mi">55</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">55</span>.<span class="mi">0</span>, <span class="mi">55</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">400</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>

  <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">50</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">square</span><span class="ss">(</span><span class="mi">50</span>.<span class="mi">0</span><span class="ss">)</span>

  <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">200</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span>  <span class="mi">0</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">50</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">square</span><span class="ss">(</span><span class="mi">50</span>.<span class="mi">0</span><span class="ss">)</span>

  <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
  <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>

  <span class="nv">contains</span>

  <span class="nv">subroutine</span> <span class="nv">square</span><span class="ss">(</span><span class="nv">side</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">rdraw2</span><span class="ss">(</span> <span class="nv">side</span>,   <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">rdraw2</span><span class="ss">(</span>  <span class="mi">0</span>.<span class="mi">0</span>,  <span class="nv">side</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">rdraw2</span><span class="ss">(</span><span class="o">-</span><span class="nv">side</span>,   <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">rdraw2</span><span class="ss">(</span>  <span class="mi">0</span>.<span class="mi">0</span>, <span class="o">-</span><span class="nv">side</span><span class="ss">)</span>
  <span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">square</span>

  <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_rdraw2</span>
</code></pre></div>

<h2 id="name_21">NAME</h2>
<div class="codehilite"><pre><span></span><code>sdraw2(3f) - [M_draw:DRAW] Draw in screen coordinates (-1.0 to 1.0).
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_20">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine sdraw2(x, y)
      real x, y
</code></pre></div>

<h2 id="description_21">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Draw in screen coordinates (-1.0 to 1.0).
</code></pre></div>

<h2 id="name_22">NAME</h2>
<div class="codehilite"><pre><span></span><code>rsdraw2(3f) - [M_draw:DRAW] Relative draw in screen units (-1.0 to 1.0).
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_21">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine rsdraw2(deltax, deltay)
      real deltax, deltay
</code></pre></div>

<h2 id="description_22">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Relative sdraw2. delatx and deltay are in screen units (-1.0 to 1.0).
</code></pre></div>

<h2 id="name_23">NAME</h2>
<div class="codehilite"><pre><span></span><code>rect(3f) - [M_draw:POLYGONS] Draw a rectangle given two corners
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_22">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>   subroutine rect(x1, y1, x2, y2)
   real,intent(in) :: x1,y1,x2,y2
</code></pre></div>

<h2 id="description_23">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="n">Draw</span> <span class="n">rectangle</span> <span class="n">given</span> <span class="n">two</span> <span class="n">opposite</span> <span class="n">corners</span><span class="p">.</span>

<span class="nl">Note:</span> <span class="n">rectangles</span> <span class="n">are</span> <span class="n">regarded</span> <span class="n">as</span> <span class="n">polygons</span><span class="p">,</span> <span class="n">so</span> <span class="k">if</span>
<span class="n">polyfill</span> <span class="k">or</span> <span class="n">polyhatch</span> <span class="n">has</span> <span class="n">been</span> <span class="n">called</span> <span class="n">with</span> <span class="p">.</span><span class="n">TRUE</span><span class="p">.,</span> <span class="n">the</span> <span class="n">rectangle</span> <span class="n">will</span>
<span class="n">be</span> <span class="n">filled</span> <span class="k">or</span> <span class="n">hatched</span> <span class="n">accordingly</span><span class="p">.</span>
</code></pre></div>

<h2 id="options_5">OPTIONS</h2>
<p>Given</p>
<div class="codehilite"><pre><span></span><code>   x1,y1 ############ x2,y1
         #          #
         #          #
         #          #
   x1,y2 ############ x2,y2

X1,Y1  coordinates of a corner of the rectangle
X2,Y2  coordinates of corner point opposite first point
</code></pre></div>

<h2 id="example_10">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_rect</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">integer</span> :: <span class="nv">ipaws</span>
<span class="nv">real</span>    :: <span class="nv">b</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">2</span>

<span class="o">!!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">graphics</span> <span class="nv">area</span>
<span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">1000</span>,<span class="mi">200</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
<span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="o">-</span><span class="mi">25</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">b</span>, <span class="mi">25</span>.<span class="mi">0</span><span class="o">+</span><span class="nv">b</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">b</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="o">+</span><span class="nv">b</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">150</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="o">-</span><span class="mi">24</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">4</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">12</span>.<span class="mi">0</span>, <span class="mi">4</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="o">-</span><span class="mi">10</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">4</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">2</span>.<span class="mi">0</span>, <span class="mi">4</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">polyhatch</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
<span class="k">call</span> <span class="nl">hatchpitch</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">4</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">hatchang</span><span class="ss">(</span><span class="mi">30</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">20</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">4</span>.<span class="mi">0</span>, <span class="mi">20</span>.<span class="mi">0</span>, <span class="mi">3</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">200</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">25</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="o">-</span><span class="mi">25</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="mi">25</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="mi">25</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="o">-</span><span class="mi">25</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>

<span class="o">!!</span> <span class="k">pause</span>
<span class="k">call</span> <span class="nl">vflush</span><span class="ss">()</span>
<span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>

<span class="o">!!</span> <span class="nv">wrap</span> <span class="nv">up</span> <span class="nv">graphics</span>
<span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>

<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_rect</span>
</code></pre></div>

<h2 id="name_24">NAME</h2>
<div class="codehilite"><pre><span></span><code>  polyfill(3f) - [M_draw:POLYGONS] Set the polygon fill flag
  (LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_23">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>   subroutine polyfill(onoff)
   logical onoff
</code></pre></div>

<h2 id="description_24">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Set the polygon fill flag. This will always turn off hatching. A
LOGICAL .true. turns polyfill on.
</code></pre></div>

<h2 id="example_11">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_polyfill</span>
<span class="o">!</span> <span class="nv">Using</span> <span class="nv">polygons</span>, <span class="nv">hatching</span>, <span class="nv">and</span> <span class="nv">filling</span>.
   <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span> : <span class="nv">vinit</span>, <span class="nv">color</span>, <span class="nv">clear</span>, <span class="nv">ortho</span>, <span class="nv">boxtext</span>, <span class="nv">vexit</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span> : <span class="nv">polyfill</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
   <span class="nv">integer</span>           :: <span class="nv">ios</span>
   <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">50</span><span class="ss">)</span> :: <span class="nv">device</span>
   <span class="nv">print</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">Enter output device:</span><span class="s1">&#39;</span>
   <span class="nv">read</span><span class="ss">(</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">(a)</span><span class="s1">&#39;</span>,<span class="nv">iostat</span><span class="o">=</span><span class="nv">ios</span><span class="ss">)</span><span class="nv">device</span>
   <span class="k">if</span><span class="ss">(</span><span class="nv">ios</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="nv">device</span><span class="o">=</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="nv">device</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">clear</span> <span class="nv">to</span> <span class="nv">black</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
<span class="o">!</span> <span class="nv">world</span> <span class="nv">coordinates</span> <span class="nv">are</span> <span class="nv">now</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">range</span> <span class="o">-</span><span class="mi">10</span> <span class="nv">to</span> <span class="mi">10</span>
<span class="o">!</span> <span class="nv">in</span> <span class="nv">x</span>, <span class="nv">y</span>, <span class="nv">and</span> <span class="nv">z</span>. <span class="nv">Note</span> <span class="nv">that</span> <span class="nv">positive</span> <span class="nv">z</span> <span class="nv">is</span> <span class="nv">towards</span> <span class="nv">us</span>.
   <span class="k">call</span> <span class="nl">ortho</span><span class="ss">(</span><span class="o">-</span><span class="mi">10</span>.<span class="mi">0</span>, <span class="mi">10</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">10</span>.<span class="mi">0</span>, <span class="mi">10</span>.<span class="mi">0</span>, <span class="mi">10</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">10</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_YELLOW</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">write</span> <span class="nv">out</span> <span class="nv">the</span> <span class="nv">string</span> <span class="s2">&quot;</span><span class="s">Polygon from poly()</span><span class="s2">&quot;</span> <span class="nv">in</span> <span class="nv">the</span>
<span class="o">!</span> <span class="nv">starting</span> <span class="nv">at</span> <span class="ss">(</span><span class="o">-</span><span class="mi">8</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">4</span>.<span class="mi">0</span><span class="ss">)</span> <span class="nv">and</span> <span class="nv">scaled</span> <span class="nv">to</span> <span class="nv">be</span> <span class="mi">4</span>.<span class="mi">0</span> <span class="nv">units</span> <span class="nv">long</span>,
<span class="o">!</span> <span class="mi">0</span>.<span class="mi">5</span> <span class="nv">units</span> <span class="nv">high</span>.
   <span class="k">call</span> <span class="nl">boxtext</span><span class="ss">(</span><span class="o">-</span><span class="mi">8</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">4</span>.<span class="mi">0</span>, <span class="mi">4</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">5</span>, <span class="s1">&#39;</span><span class="s">Polygon from poly()</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">write</span> <span class="nv">out</span> <span class="nv">a</span> <span class="nv">scaled</span> <span class="nv">string</span> <span class="nv">starting</span> <span class="nv">at</span> <span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">6</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">boxtext</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">6</span>.<span class="mi">0</span>, <span class="mi">4</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">5</span>, <span class="s1">&#39;</span><span class="s">Polygon from move()/ draw()</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_MAGENTA</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">write</span> <span class="nv">out</span> <span class="nv">a</span> <span class="nv">scaled</span> <span class="nv">string</span> <span class="nv">starting</span> <span class="nv">at</span> <span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">6</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">boxtext</span><span class="ss">(</span><span class="mi">3</span>.<span class="mi">5</span>, <span class="o">-</span><span class="mi">3</span>.<span class="mi">5</span>, <span class="mi">1</span>.<span class="mi">9</span>, <span class="mi">0</span>.<span class="mi">5</span>, <span class="s1">&#39;</span><span class="s">Sector</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">turn</span> <span class="nv">on</span> <span class="nv">polygon</span> <span class="nv">filling</span> <span class="o">-</span> <span class="nv">this</span> <span class="nv">automatically</span> <span class="nv">turns</span> <span class="nv">off</span> <span class="nv">hatching</span>
   <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
<span class="o">!</span> <span class="nv">draw</span> <span class="nv">some</span> <span class="nv">polygons</span> <span class="nv">with</span> <span class="nv">filling</span>
   <span class="k">call</span> <span class="nl">my_drawpoly</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="nv">contains</span>
<span class="nv">subroutine</span> <span class="nv">my_drawpoly</span><span class="ss">()</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span> : <span class="nv">color</span>, <span class="nv">move</span>, <span class="nv">draw</span>, <span class="nv">closepoly</span>, <span class="nv">sector</span>, <span class="nv">getkey</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span> : <span class="nv">poly</span>, <span class="nv">closepoly</span>, <span class="nv">sector</span>, <span class="nv">makepoly</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>

   <span class="nv">real</span> <span class="nv">parray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">4</span><span class="ss">)</span>                   <span class="o">!</span> <span class="nv">An</span> <span class="nv">array</span> <span class="nv">of</span> <span class="nv">points</span> <span class="k">for</span> <span class="nv">a</span> <span class="nv">polygon</span>
   <span class="nv">data</span> <span class="nv">parray</span><span class="o">/</span> <span class="o">-</span><span class="mi">8</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">8</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>,  <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">8</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>,  <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>,  <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="o">-</span><span class="mi">8</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span> <span class="o">/</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_YELLOW</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">Draw</span> <span class="nv">a</span> <span class="nv">polygon</span> <span class="nv">using</span> <span class="nv">poly</span>, <span class="nv">parray</span> <span class="nv">is</span> <span class="nv">our</span> <span class="nv">array</span> <span class="nv">of</span>
<span class="o">!</span> <span class="nv">points</span> <span class="nv">and</span> <span class="mi">4</span> <span class="nv">is</span> <span class="nv">the</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">points</span> <span class="nv">in</span> <span class="nv">it</span>.
   <span class="k">call</span> <span class="nl">poly</span><span class="ss">(</span><span class="mi">4</span>, <span class="nv">parray</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">Draw</span> <span class="nv">a</span> <span class="mi">5</span> <span class="nv">sided</span> <span class="nv">figure</span> <span class="nv">by</span> <span class="nv">using</span> <span class="nv">move</span>, <span class="nv">draw</span> <span class="nv">and</span> <span class="nv">closepoly</span>.
   <span class="k">call</span> <span class="nl">makepoly</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">move</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">3</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">3</span>.<span class="mi">0</span>, <span class="mi">4</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="o">-</span><span class="mi">2</span>.<span class="mi">0</span>, <span class="mi">2</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">closepoly</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_MAGENTA</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">draw</span> <span class="nv">a</span> <span class="nv">sector</span> <span class="nv">representing</span> <span class="nv">a</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span> <span class="nv">circle</span>
   <span class="k">call</span> <span class="nl">sector</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">5</span>, <span class="o">-</span><span class="mi">7</span>.<span class="mi">0</span>, <span class="mi">3</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">90</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">my_drawpoly</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_polyfill</span>
</code></pre></div>

<h2 id="name_25">NAME</h2>
<div class="codehilite"><pre><span></span><code>polyhatch(3f) - [M_draw:POLYGONS] Set the polygon hatch flag
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_24">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code> subroutine polyhatch(onoff)
 logical onoff
</code></pre></div>

<h2 id="description_25">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Set the polygon hatch flag. This will always turn off fill. A
LOGICAL .true. turns polyhatch on. Note that hatched polygons
must initially be defined parallel to the X-Y plane.
</code></pre></div>

<h2 id="example_12">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_polyhatch</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">use</span> <span class="nv">M_drawplus</span>, <span class="nv">only</span> : <span class="nv">spirograph</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
<span class="nv">real</span> :: <span class="nv">N</span><span class="o">=</span><span class="mi">11</span>
<span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">600</span><span class="o">*</span><span class="mi">10</span><span class="o">/</span><span class="mi">6</span>,<span class="mi">200</span><span class="o">*</span><span class="mi">10</span><span class="o">/</span><span class="mi">6</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">page</span><span class="ss">(</span> <span class="o">-</span><span class="mi">15</span>.<span class="mi">0</span>, <span class="mi">15</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">100</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">spirograph</span><span class="ss">(</span><span class="o">-</span><span class="mi">10</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="nv">N</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="nv">N</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">1000</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">polyhatch</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span> <span class="o">!</span> <span class="nv">turn</span> <span class="nv">on</span> <span class="nv">polygon</span> <span class="nv">hatching</span>
<span class="k">call</span> <span class="nl">hatchang</span><span class="ss">(</span><span class="mi">45</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">hatchpitch</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">3</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">spirograph</span><span class="ss">(</span><span class="mi">10</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="nv">N</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="nv">N</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">1000</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">2</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">vflush</span><span class="ss">()</span>
<span class="nv">key</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_polyhatch</span>
</code></pre></div>

<h2 id="name_26">NAME</h2>
<div class="codehilite"><pre><span></span><code>hatchang(3f) - [M_draw:POLYGONS] Set the angle of the hatch lines.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_25">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>   subroutine hatchang(angle)
   real,intent(in) :: angle
</code></pre></div>

<h2 id="description_26">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Set</span> <span class="nv">the</span> <span class="nv">angle</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">hatch</span> <span class="nv">lines</span>. <span class="nv">The</span> <span class="nv">angle</span> <span class="nv">is</span> <span class="nv">in</span> <span class="nv">degrees</span>. <span class="nv">Zero</span> <span class="nv">degrees</span>
<span class="nv">is</span> <span class="nv">on</span> <span class="nv">the</span> <span class="nv">negative</span> <span class="nv">X</span> <span class="nv">axis</span>. <span class="nv">Positive</span> <span class="nv">values</span> <span class="nv">are</span> <span class="nv">counterclockwise</span>. <span class="nv">The</span>
<span class="nv">value</span> <span class="nv">is</span> <span class="mi">0</span> <span class="nv">at</span> <span class="nv">program</span> <span class="nv">initialization</span>. <span class="nv">The</span> <span class="nv">last</span> <span class="nv">value</span> <span class="nv">set</span> <span class="nv">is</span> <span class="nv">retained</span>
<span class="nv">even</span> <span class="k">if</span> <span class="nv">hatching</span> <span class="nv">is</span> <span class="nv">not</span> <span class="nv">active</span> <span class="nv">or</span> <span class="nv">is</span> <span class="nv">turned</span> <span class="nv">on</span> <span class="nv">and</span> <span class="nv">off</span>.
</code></pre></div>

<h2 id="example_13">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_hatchang</span>
<span class="nv">use</span> <span class="nv">M_drawplus</span>, <span class="nv">only</span> : <span class="nv">draw_interpret</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span>:<span class="ss">)</span>,<span class="nv">allocatable</span> :: <span class="nv">draw_cmds</span><span class="ss">(</span>:<span class="ss">)</span>

<span class="nv">DRAW_CMDS</span><span class="o">=</span>[ <span class="nv">CHARACTER</span><span class="ss">(</span><span class="nv">LEN</span><span class="o">=</span><span class="mi">128</span><span class="ss">)</span> :: <span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">prefsize 1000 200; vinit                                     </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">set b=.4; page -25-b 25+b -5-b 5+b; color 0;clear            </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">textsize .6 .7;font futura.l;centertext .true.               </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">leftjustify; linewidth 50; polyhatch .true.; hatchpitch 1/2  </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s"># draw circles with hatching                                 </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">linewidth 90;hatchang  90.1; color  7;  circle X=-20  Y=0  5 </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">move2  X-4.9 Y=-4.9;color 7;linewidth 60;drawstr  90 degrees </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">linewidth 90;hatchang  45  ; color  2;  circle X=-10  Y=0  5 </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">move2  X-4.9 Y=-4.9;color 7;linewidth 60;drawstr  45 degrees </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">linewidth 90;hatchang   0  ; color  6;  circle X=-0   Y=0  5 </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">move2  X-4.9 Y=-4.9;color 7;linewidth 60;drawstr   0 degrees </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">linewidth 90;hatchang -45  ; color  5;  circle X=10   Y=0  5 </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">move2  X-4.9 Y=-4.9;color 7;linewidth 60;drawstr -45 degrees </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">linewidth 90;hatchang -90  ; color  4;  circle X=20   Y=0  5 </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">move2  X-4.9 Y=-4.9;color 7;linewidth 60;drawstr -90 degrees </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">linewidth 130                                                </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">move2 0 0;draw2 -5 0                                         </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">move2 -5 0;draw2 -4.4  0.3                                   </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">move2 -5 0;draw2 -4.4 -0.3                                   </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">rightjustify                                                 </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">linewidth 60                                                 </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">move2 -5 0;drawstr 0 degrees                                 </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">getkey                                                       </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">vexit                                                        </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;&#39;</span>]

<span class="k">call</span> <span class="nl">draw_interpret</span><span class="ss">(</span><span class="nv">DRAW_CMDS</span>,<span class="nv">delimiters</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">;</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_hatchang</span>
</code></pre></div>

<h2 id="name_27">NAME</h2>
<div class="codehilite"><pre><span></span><code>hatchpitch(3f) - [M_draw:POLYGONS] Set the distance between hatch lines.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_26">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>   subroutine hatchpitch(pitch)
   real,intent(in) :: pitch
</code></pre></div>

<h2 id="description_27">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Set the distance between hatch lines. The distance is measured in
window units (as opposed to viewport or device units).
</code></pre></div>

<h2 id="example_14">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_hatchpitch</span>
<span class="nv">use</span> <span class="nv">M_drawplus</span>, <span class="nv">only</span> : <span class="nv">draw_interpret</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span>:<span class="ss">)</span>,<span class="nv">allocatable</span> :: <span class="nv">draw_cmds</span><span class="ss">(</span>:<span class="ss">)</span>

<span class="nv">DRAW_CMDS</span><span class="o">=</span>[ <span class="nv">CHARACTER</span><span class="ss">(</span><span class="nv">LEN</span><span class="o">=</span><span class="mi">128</span><span class="ss">)</span> :: <span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">prefsize 1000 200; vinit                                                    </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">set b=.1; page -25-b 25+b -5-b 5+b;color 0;clear                            </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">textsize .5 .6;font futura.l; leftjustify                                   </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">circleprecision 3                                                           </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s"># draw circles with hatching                                                </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">linewidth 150; polyhatch .true.; hatchang 30                                </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">hatchpitch 1/3 ; color 7; circle X=-20 0 5; move2 X-4.9 -4.9;color 7;drawstr 1/3</span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">hatchpitch 1/2 ; color 2; circle X=-10 0 5; move2 X-4.9 -4.9;color 7;drawstr 1/2</span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">hatchpitch  1  ; color 6; circle X=-0  0 5; move2 X-4.9 -4.9;color 7;drawstr 1</span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">hatchpitch  2  ; color 5; circle X=10  0 5; move2 X-4.9 -4.9;color 7;drawstr 2</span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">hatchpitch  3  ; color 4; circle X=20  0 5; move2 X-4.9 -4.9;color 7;drawstr 3</span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">getkey                                                                      </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">vexit                                                                       </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;&#39;</span>]

<span class="k">call</span> <span class="nl">draw_interpret</span><span class="ss">(</span><span class="nv">DRAW_CMDS</span>,<span class="nv">delimiters</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">;</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_hatchpitch</span>
</code></pre></div>

<h2 id="name_28">NAME</h2>
<div class="codehilite"><pre><span></span><code>poly2(3f) - [M_draw:POLYGONS] Construct an (x, y) polygon from an array of points
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_27">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>   subroutine poly2(n, points)
   integer,intent(in) :: n
   real,intent(in) :: points(2, n)
</code></pre></div>

<h2 id="description_28">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Construct an (x, y) polygon from an array of points provided by the user.
</code></pre></div>

<h2 id="example_15">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_poly2</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">integer</span> :: <span class="nv">i</span>,<span class="nv">j</span>
<span class="nv">integer</span> :: <span class="nv">ipaws</span>, <span class="nv">icolor</span>
<span class="nv">real</span>    :: <span class="nv">xx</span>,<span class="nv">yy</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">512</span>,<span class="mi">512</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
   <span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">256</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">256</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
   <span class="o">!</span> <span class="nv">step</span> <span class="nv">thru</span> <span class="nv">a</span> <span class="nv">series</span> <span class="nv">of</span> <span class="nv">rectangular</span> <span class="nv">cells</span>
   <span class="nv">icolor</span><span class="o">=</span><span class="mi">0</span>
   <span class="nv">xx</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">0</span>
   <span class="k">do</span> <span class="nv">i</span><span class="o">=</span><span class="mi">1</span>,<span class="mi">16</span>
      <span class="nv">yy</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">0</span>
      <span class="k">do</span> <span class="nv">j</span><span class="o">=</span><span class="mi">1</span>,<span class="mi">16</span>
         <span class="nv">yy</span><span class="o">=</span><span class="nv">yy</span><span class="o">+</span><span class="mi">16</span>.<span class="mi">0</span>
         <span class="nv">icolor</span><span class="o">=</span><span class="nv">icolor</span><span class="o">+</span><span class="mi">1</span>
         <span class="k">call</span> <span class="nl">setcolor</span><span class="ss">(</span><span class="nv">icolor</span>,<span class="nv">xx</span>,<span class="nv">yy</span><span class="ss">)</span>
      <span class="nv">enddo</span>
      <span class="nv">xx</span><span class="o">=</span><span class="nv">xx</span><span class="o">+</span><span class="mi">16</span>.<span class="mi">0</span>
   <span class="nv">enddo</span>
   <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="nv">contains</span>

<span class="nv">subroutine</span> <span class="nv">setcolor</span><span class="ss">(</span><span class="nv">iset</span>,<span class="nv">xx</span>,<span class="nv">yy</span><span class="ss">)</span>
<span class="nv">use</span> <span class="nv">M_strings</span>, <span class="nv">only</span> : <span class="nv">v2s</span>
<span class="nv">use</span> <span class="nv">M_color</span>,  <span class="nv">only</span> : <span class="nv">color_name2rgb</span>
<span class="nv">integer</span>,<span class="nv">intent</span><span class="ss">(</span><span class="nv">in</span><span class="ss">)</span> :: <span class="nv">iset</span>
<span class="nv">real</span>,<span class="nv">intent</span><span class="ss">(</span><span class="nv">in</span><span class="ss">)</span>    :: <span class="nv">xx</span>,<span class="nv">yy</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">80</span><span class="ss">)</span>  :: <span class="nv">echoname</span>
<span class="nv">real</span>    :: <span class="nv">points</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">100</span><span class="ss">)</span>
<span class="k">if</span><span class="ss">(</span><span class="nv">iset</span>.<span class="nv">gt</span>.<span class="mi">255</span><span class="ss">)</span><span class="k">return</span>
<span class="o">!</span> <span class="nv">determine</span> <span class="nv">coordinates</span> <span class="nv">of</span> <span class="k">next</span> <span class="nv">square</span>
<span class="nv">points</span><span class="ss">(</span><span class="mi">1</span>:<span class="mi">2</span>,<span class="mi">1</span><span class="ss">)</span><span class="o">=</span>[<span class="nv">xx</span>,      <span class="nv">yy</span>      ]
<span class="nv">points</span><span class="ss">(</span><span class="mi">1</span>:<span class="mi">2</span>,<span class="mi">2</span><span class="ss">)</span><span class="o">=</span>[<span class="nv">xx</span>,      <span class="nv">yy</span><span class="o">+</span><span class="mi">16</span>.<span class="mi">0</span> ]
<span class="nv">points</span><span class="ss">(</span><span class="mi">1</span>:<span class="mi">2</span>,<span class="mi">3</span><span class="ss">)</span><span class="o">=</span>[<span class="nv">xx</span><span class="o">+</span><span class="mi">16</span>.<span class="mi">0</span>, <span class="nv">yy</span><span class="o">+</span><span class="mi">16</span>.<span class="mi">0</span> ]
<span class="nv">points</span><span class="ss">(</span><span class="mi">1</span>:<span class="mi">2</span>,<span class="mi">4</span><span class="ss">)</span><span class="o">=</span>[<span class="nv">xx</span><span class="o">+</span><span class="mi">16</span>.<span class="mi">0</span>, <span class="nv">yy</span>      ]
<span class="nv">points</span><span class="ss">(</span><span class="mi">1</span>:<span class="mi">2</span>,<span class="mi">5</span><span class="ss">)</span><span class="o">=</span>[<span class="nv">xx</span>,      <span class="nv">yy</span>      ]
<span class="o">!</span> <span class="nv">get</span> <span class="nv">some</span> <span class="nv">nice</span> <span class="nv">RGB</span> <span class="nv">values</span> <span class="nv">to</span> <span class="nv">try</span> <span class="nv">from</span> <span class="nv">named</span> <span class="nv">colors</span> <span class="nv">known</span> <span class="nv">by</span> <span class="nv">M_color</span> <span class="nv">module</span>
<span class="k">call</span> <span class="nl">color_name2rgb</span><span class="ss">(</span><span class="nv">v2s</span><span class="ss">(</span><span class="nv">icolor</span><span class="ss">)</span>,<span class="nv">red</span>,<span class="nv">green</span>,<span class="nv">blue</span>,<span class="nv">echoname</span><span class="ss">)</span>
<span class="k">if</span><span class="ss">(</span><span class="nv">echoname</span>.<span class="nv">eq</span>.<span class="s1">&#39;</span><span class="s">Unknown</span><span class="s1">&#39;</span><span class="ss">)</span> <span class="k">return</span>
<span class="o">!</span> <span class="nv">set</span> <span class="nv">a</span> <span class="nv">color</span> <span class="nv">number</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">new</span> <span class="nv">RGB</span> <span class="nv">values</span>
<span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="nv">icolor</span>, <span class="nv">nint</span><span class="ss">(</span><span class="nv">red</span><span class="o">*</span><span class="mi">2</span>.<span class="mi">55</span><span class="ss">)</span>, <span class="nv">nint</span><span class="ss">(</span><span class="nv">green</span><span class="o">*</span><span class="mi">2</span>.<span class="mi">55</span><span class="ss">)</span>, <span class="nv">nint</span><span class="ss">(</span><span class="nv">blue</span><span class="o">*</span><span class="mi">2</span>.<span class="mi">55</span><span class="ss">)</span>,<span class="nv">trim</span><span class="ss">(</span><span class="nv">echoname</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span><span class="nv">icolor</span>, <span class="nv">nint</span><span class="ss">(</span><span class="nv">red</span><span class="o">*</span><span class="mi">2</span>.<span class="mi">55</span><span class="ss">)</span>, <span class="nv">nint</span><span class="ss">(</span><span class="nv">green</span><span class="o">*</span><span class="mi">2</span>.<span class="mi">55</span><span class="ss">)</span>, <span class="nv">nint</span><span class="ss">(</span><span class="nv">blue</span><span class="o">*</span><span class="mi">2</span>.<span class="mi">55</span><span class="ss">))</span>
<span class="o">!</span> <span class="nv">set</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">new</span> <span class="nv">color</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">icolor</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">fill</span> <span class="nv">the</span> <span class="nv">rectangle</span> <span class="nv">in</span> <span class="nv">that</span> <span class="nv">color</span>
<span class="k">call</span> <span class="nl">poly2</span><span class="ss">(</span><span class="mi">5</span>,<span class="nv">points</span><span class="ss">)</span>
<span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">setcolor</span>

<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_poly2</span>
</code></pre></div>

<h2 id="name_29">NAME</h2>
<div class="codehilite"><pre><span></span><code>poly(3f) - [M_draw:POLYGONS] Construct a polygon from an array of points
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_28">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>   subroutine poly(n, points)
   integer,intent(in) :: n
   real,intent(in) :: points(3, n)
</code></pre></div>

<h2 id="description_29">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Construct a polygon from an array of points provided by the user.
</code></pre></div>

<h2 id="example_16">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_poly</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="o">!</span> <span class="nv">Using</span> <span class="nv">polygons</span>, <span class="nv">hatching</span>, <span class="nv">and</span> <span class="nv">filling</span>.
<span class="nv">integer</span>           :: <span class="nv">ios</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">50</span><span class="ss">)</span> :: <span class="nv">device</span>
   <span class="nv">print</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">Enter output device:</span><span class="s1">&#39;</span>
   <span class="nv">read</span><span class="ss">(</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">(a)</span><span class="s1">&#39;</span>,<span class="nv">iostat</span><span class="o">=</span><span class="nv">ios</span><span class="ss">)</span><span class="nv">device</span>
   <span class="k">if</span><span class="ss">(</span><span class="nv">ios</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="k">then</span>
      <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">1000</span>,<span class="mi">1000</span><span class="ss">)</span>
      <span class="nv">device</span><span class="o">=</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span>
   <span class="k">endif</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="nv">device</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">clear</span> <span class="nv">to</span> <span class="nv">black</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
<span class="o">!</span> <span class="nv">world</span> <span class="nv">coordinates</span> <span class="nv">are</span> <span class="nv">now</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">range</span> <span class="o">-</span><span class="mi">10</span> <span class="nv">to</span> <span class="mi">10</span>
<span class="o">!</span> <span class="nv">in</span> <span class="nv">x</span>, <span class="nv">y</span>, <span class="nv">and</span> <span class="nv">z</span>. <span class="nv">Note</span> <span class="nv">that</span> <span class="nv">positive</span> <span class="nv">z</span> <span class="nv">is</span> <span class="nv">towards</span> <span class="nv">us</span>.
   <span class="k">call</span> <span class="nl">ortho</span><span class="ss">(</span><span class="o">-</span><span class="mi">10</span>.<span class="mi">0</span>, <span class="mi">10</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">10</span>.<span class="mi">0</span>, <span class="mi">10</span>.<span class="mi">0</span>, <span class="mi">10</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">10</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_YELLOW</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">write</span> <span class="nv">out</span> <span class="nv">the</span> <span class="nv">string</span> <span class="s2">&quot;</span><span class="s">Polygon from poly()</span><span class="s2">&quot;</span> <span class="nv">in</span> <span class="nv">the</span>
<span class="o">!</span> <span class="nv">starting</span> <span class="nv">at</span> <span class="ss">(</span><span class="o">-</span><span class="mi">8</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">4</span>.<span class="mi">0</span><span class="ss">)</span> <span class="nv">and</span> <span class="nv">scaled</span> <span class="nv">to</span> <span class="nv">be</span> <span class="mi">4</span>.<span class="mi">0</span> <span class="nv">units</span> <span class="nv">long</span>,
<span class="o">!</span> <span class="mi">0</span>.<span class="mi">5</span> <span class="nv">units</span> <span class="nv">high</span>.
   <span class="k">call</span> <span class="nl">boxtext</span><span class="ss">(</span><span class="o">-</span><span class="mi">8</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">4</span>.<span class="mi">0</span>, <span class="mi">4</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">5</span>, <span class="s1">&#39;</span><span class="s">Polygon from poly()</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">write</span> <span class="nv">out</span> <span class="nv">a</span> <span class="nv">scaled</span> <span class="nv">string</span> <span class="nv">starting</span> <span class="nv">at</span> <span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">6</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">boxtext</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">6</span>.<span class="mi">0</span>, <span class="mi">4</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">5</span>, <span class="s1">&#39;</span><span class="s">Polygon from move()/ draw()</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_MAGENTA</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">write</span> <span class="nv">out</span> <span class="nv">a</span> <span class="nv">scaled</span> <span class="nv">string</span> <span class="nv">starting</span> <span class="nv">at</span> <span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">6</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">boxtext</span><span class="ss">(</span><span class="mi">3</span>.<span class="mi">5</span>, <span class="o">-</span><span class="mi">3</span>.<span class="mi">5</span>, <span class="mi">1</span>.<span class="mi">9</span>, <span class="mi">0</span>.<span class="mi">5</span>, <span class="s1">&#39;</span><span class="s">Sector</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">draw</span> <span class="nv">some</span> <span class="nv">polygons</span>
   <span class="k">call</span> <span class="nl">drawpoly</span><span class="ss">()</span>
<span class="o">!</span> <span class="nv">turn</span> <span class="nv">on</span> <span class="nv">polygon</span> <span class="nv">hatching</span>
   <span class="k">call</span> <span class="nl">polyhatch</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
   <span class="k">call</span> <span class="nl">hatchang</span><span class="ss">(</span><span class="mi">45</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">hatchpitch</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">3</span><span class="ss">)</span>
<span class="o">!</span>  <span class="nv">Rotate</span> <span class="mi">20</span> <span class="nv">degrees</span> <span class="nv">around</span> <span class="nv">x</span> <span class="nv">and</span> <span class="mi">30</span> <span class="nv">around</span> <span class="nv">y</span>
   <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">20</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">x</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">30</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">y</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">draw</span> <span class="nv">some</span> <span class="nv">polygons</span> <span class="nv">with</span> <span class="nv">hatching</span>
   <span class="k">call</span> <span class="nl">drawpoly</span><span class="ss">()</span>
<span class="o">!</span> <span class="nv">turn</span> <span class="nv">on</span> <span class="nv">polygon</span> <span class="nv">filling</span> <span class="o">-</span> <span class="nv">this</span> <span class="nv">automatically</span> <span class="nv">turns</span> <span class="nv">off</span> <span class="nv">hatching</span>
   <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
<span class="o">!</span>  <span class="k">Do</span> <span class="nv">another</span> <span class="nv">set</span> <span class="nv">of</span> <span class="nv">rotations</span>.
   <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">20</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">x</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">30</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">y</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">draw</span> <span class="nv">some</span> <span class="nv">polygons</span> <span class="nv">with</span> <span class="nv">filling</span>
   <span class="k">call</span> <span class="nl">drawpoly</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="nv">contains</span>
<span class="nv">subroutine</span> <span class="nv">drawpoly</span><span class="ss">()</span>
   <span class="nv">real</span> <span class="nv">parray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">4</span><span class="ss">)</span>                   <span class="o">!</span> <span class="nv">An</span> <span class="nv">array</span> <span class="nv">of</span> <span class="nv">points</span> <span class="k">for</span> <span class="nv">a</span> <span class="nv">polygon</span>
   <span class="nv">data</span> <span class="nv">parray</span><span class="o">/</span> <span class="o">-</span><span class="mi">8</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">8</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>,  <span class="o">&amp;</span>
              <span class="o">&amp;</span> <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">8</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>,  <span class="o">&amp;</span>
              <span class="o">&amp;</span> <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>,  <span class="o">&amp;</span>
              <span class="o">&amp;</span> <span class="o">-</span><span class="mi">8</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span> <span class="o">/</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_YELLOW</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">Draw</span> <span class="nv">a</span> <span class="nv">polygon</span> <span class="nv">using</span> <span class="nv">poly</span>, <span class="nv">parray</span> <span class="nv">is</span> <span class="nv">our</span> <span class="nv">array</span> <span class="nv">of</span>
<span class="o">!</span> <span class="nv">points</span> <span class="nv">and</span> <span class="mi">4</span> <span class="nv">is</span> <span class="nv">the</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">points</span> <span class="nv">in</span> <span class="nv">it</span>.
   <span class="k">call</span> <span class="nl">poly</span><span class="ss">(</span><span class="mi">4</span>, <span class="nv">parray</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">Draw</span> <span class="nv">a</span> <span class="mi">5</span> <span class="nv">sided</span> <span class="nv">figure</span> <span class="nv">by</span> <span class="nv">using</span> <span class="nv">move</span>, <span class="nv">draw</span> <span class="nv">and</span> <span class="nv">closepoly</span>.
   <span class="k">call</span> <span class="nl">makepoly</span><span class="ss">()</span>
      <span class="k">call</span> <span class="nl">move</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">3</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">3</span>.<span class="mi">0</span>, <span class="mi">4</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="o">-</span><span class="mi">2</span>.<span class="mi">0</span>, <span class="mi">2</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">closepoly</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_MAGENTA</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">draw</span> <span class="nv">a</span> <span class="nv">sector</span> <span class="nv">representing</span> <span class="nv">a</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span> <span class="nv">circle</span>
   <span class="k">call</span> <span class="nl">sector</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">5</span>, <span class="o">-</span><span class="mi">7</span>.<span class="mi">0</span>, <span class="mi">3</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">90</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">drawpoly</span>

<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_poly</span>
</code></pre></div>

<h2 id="name_30">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="n">makepoly</span><span class="p">(</span><span class="mi">3</span><span class="n">f</span><span class="p">)</span> <span class="o">-</span> <span class="p">[</span><span class="n">M_draw</span><span class="p">:</span><span class="n">POLYGONS</span><span class="p">]</span> <span class="n">opens</span> <span class="n">polygon</span> <span class="n">constructed</span> <span class="n">by</span> <span class="n">a</span> <span class="n">series</span> <span class="n">of</span> <span class="n">move</span><span class="o">-</span><span class="n">draws</span> <span class="ow">and</span> <span class="n">closed</span> <span class="n">by</span> <span class="n">closepoly</span>
<span class="p">(</span><span class="n">LICENSE</span><span class="p">:</span><span class="n">PD</span><span class="p">)</span>
</code></pre></div>

<h2 id="synopsis_29">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>   subroutine makepoly()
</code></pre></div>

<h2 id="description_30">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="n">makepoly</span><span class="p">(</span><span class="mi">3</span><span class="n">f</span><span class="p">)</span>  <span class="n">opens</span> <span class="n">up</span> <span class="n">a</span> <span class="n">polygon</span> <span class="n">which</span> <span class="n">will</span> <span class="n">then</span> <span class="n">be</span> <span class="n">constructed</span> <span class="n">by</span> <span class="n">a</span> <span class="n">series</span>
<span class="n">of</span> <span class="n">move</span><span class="o">-</span><span class="n">draws</span> <span class="ow">and</span> <span class="n">closed</span> <span class="n">by</span> <span class="n">a</span> <span class="n">closepoly</span><span class="o">.</span>
</code></pre></div>

<h2 id="example_17">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_makepoly</span>
<span class="nv">use</span> :: <span class="nv">M_draw</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">integer</span>,<span class="nv">parameter</span> :: <span class="nv">wide</span><span class="o">=</span><span class="mi">640</span>, <span class="nv">tall</span><span class="o">=</span><span class="mi">640</span>
<span class="nv">integer</span> :: <span class="nv">rows</span>, <span class="nv">xoff</span>, <span class="nv">yoff</span>, <span class="nv">box_sz</span>
<span class="nv">integer</span> :: <span class="nv">i20</span>, <span class="nv">i30</span>, <span class="nv">ncols</span>, <span class="nv">nrows</span>, <span class="nv">ilines</span>
<span class="nv">real</span>    :: <span class="nv">bottom</span>, <span class="nv">left</span>, <span class="nv">sun_radius</span>, <span class="nv">planet_radius</span>, <span class="nv">planet_offset</span>
<span class="nv">integer</span> :: <span class="nv">ipaws</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="nv">wide</span>,<span class="nv">tall</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
   <span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="nv">real</span><span class="ss">(</span><span class="nv">wide</span><span class="ss">)</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="nv">real</span><span class="ss">(</span><span class="nv">tall</span><span class="ss">)</span> <span class="ss">)</span>
   <span class="o">!</span> <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">3</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">really</span> <span class="nv">slows</span> <span class="nv">down</span> <span class="nv">pbm</span> <span class="nv">driver</span> <span class="nv">because</span> <span class="nv">all</span> <span class="nv">lines</span> <span class="nv">are</span> <span class="nv">polygons</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
   <span class="nv">rows</span><span class="o">=</span><span class="mi">1</span>
   <span class="nv">box_sz</span><span class="o">=</span><span class="nv">MIN</span><span class="ss">(</span><span class="nv">wide</span>,<span class="nv">tall</span><span class="ss">)</span><span class="o">/</span><span class="nv">rows</span>       <span class="o">!</span> <span class="nv">size</span> <span class="nv">of</span> <span class="nv">biggest</span> <span class="nv">box</span> <span class="nv">to</span> <span class="nv">use</span> <span class="nv">and</span> <span class="nv">get</span> <span class="nv">specified</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">rows</span>
   <span class="nv">nrows</span> <span class="o">=</span> <span class="nv">tall</span><span class="o">/</span><span class="nv">box_sz</span>              <span class="o">!</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">rows</span> <span class="nv">of</span> <span class="nv">objects</span> <span class="nv">to</span> <span class="nv">draw</span>
   <span class="nv">ncols</span> <span class="o">=</span> <span class="nv">wide</span><span class="o">/</span><span class="nv">box_sz</span>              <span class="o">!</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">columns</span> <span class="nv">of</span> <span class="nv">objects</span> <span class="nv">to</span> <span class="nv">draw</span>
   <span class="nv">xoff</span> <span class="o">=</span> <span class="ss">(</span><span class="nv">wide</span> <span class="o">-</span> <span class="nv">ncols</span> <span class="o">*</span> <span class="nv">box_sz</span><span class="ss">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">!</span> <span class="nv">initial</span> <span class="nv">x</span> <span class="nv">offset</span> <span class="nv">to</span> <span class="nv">begin</span> <span class="nv">row</span> <span class="nv">at</span> <span class="nv">to</span> <span class="nv">center</span> <span class="nv">drawings</span>
   <span class="nv">yoff</span> <span class="o">=</span> <span class="ss">(</span><span class="nv">tall</span> <span class="o">-</span> <span class="nv">nrows</span> <span class="o">*</span> <span class="nv">box_sz</span><span class="ss">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">!</span> <span class="nv">initial</span> <span class="nv">x</span> <span class="nv">offset</span> <span class="nv">to</span> <span class="nv">begin</span> <span class="nv">column</span> <span class="nv">at</span> <span class="nv">to</span> <span class="nv">center</span> <span class="nv">drawings</span>
   <span class="nv">sun_radius</span> <span class="o">=</span> <span class="mi">148</span>
   <span class="nv">planet_radius</span> <span class="o">=</span> <span class="mi">1</span>
   <span class="k">do</span> <span class="nv">ilines</span> <span class="o">=</span> <span class="mi">1</span>, <span class="mi">300</span>
      <span class="k">do</span> <span class="nv">i20</span> <span class="o">=</span> <span class="mi">1</span>, <span class="nv">ncols</span>
         <span class="nv">left</span> <span class="o">=</span> <span class="ss">(</span><span class="nv">i20</span><span class="o">-</span><span class="mi">1</span><span class="ss">)</span><span class="o">*</span><span class="nv">box_sz</span><span class="o">+</span><span class="nv">xoff</span>
         <span class="k">do</span> <span class="nv">i30</span> <span class="o">=</span> <span class="mi">1</span>, <span class="nv">nrows</span>
            <span class="nv">bottom</span> <span class="o">=</span> <span class="ss">(</span><span class="nv">i30</span><span class="o">-</span><span class="mi">1</span><span class="ss">)</span><span class="o">*</span><span class="nv">box_sz</span><span class="o">+</span><span class="nv">yoff</span>
            <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
         <span class="k">call</span> <span class="nl">makepoly</span><span class="ss">()</span>
            <span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="nv">left</span>,<span class="nv">bottom</span>,<span class="nv">left</span><span class="o">+</span><span class="nv">box_sz</span>,<span class="nv">bottom</span><span class="o">+</span><span class="nv">box_sz</span><span class="ss">)</span>
         <span class="k">call</span> <span class="nl">closepoly</span><span class="ss">()</span>
            <span class="nv">planet_offset</span><span class="o">=</span> <span class="nv">sun_radius</span>
               <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">mod</span><span class="ss">(</span><span class="nv">ilines</span>,<span class="mi">15</span><span class="ss">)</span><span class="o">+</span><span class="mi">1</span><span class="ss">)</span>
               <span class="k">call</span> <span class="nl">hypoc</span><span class="ss">(</span><span class="nv">left</span> <span class="o">+</span> <span class="nv">box_sz</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">0</span>, <span class="nv">bottom</span> <span class="o">+</span> <span class="nv">box_sz</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">0</span>, <span class="o">&amp;</span>
            <span class="o">&amp;</span> <span class="nv">sun_radius</span>, <span class="nv">planet_radius</span>, <span class="nv">planet_offset</span>, <span class="o">&amp;</span>
            <span class="o">&amp;</span> <span class="nv">box_sz</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">0</span>, <span class="nv">ilines</span>,  <span class="o">&amp;</span>
            <span class="o">&amp;</span> <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">1</span><span class="ss">)</span>
         <span class="nv">enddo</span>
      <span class="nv">enddo</span>
      <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="nv">enddo</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="nv">contains</span>
<span class="o">!</span>
<span class="o">!</span>  <span class="nv">Make</span> <span class="nv">shapes</span> <span class="nv">using</span> <span class="nv">hypocycloidal</span> <span class="nv">curves</span>.
<span class="o">!</span>
<span class="nv">subroutine</span> <span class="nv">hypoc</span><span class="ss">(</span><span class="nv">xcenter</span>,<span class="nv">ycenter</span>,<span class="nv">sunr0</span>,<span class="nv">planet0</span>,<span class="nv">offset0</span>,<span class="nv">radius</span>,<span class="nv">ilines</span>,<span class="nv">ang</span>,<span class="nv">angs</span>,<span class="nv">ifill</span><span class="ss">)</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">real</span>,<span class="nv">parameter</span>     :: <span class="nv">PI</span><span class="o">=</span> <span class="mi">3</span>.<span class="mi">14159265358979323846264338327950288419716939937510</span>
<span class="nv">real</span>,<span class="nv">intent</span><span class="ss">(</span><span class="nv">in</span><span class="ss">)</span>    :: <span class="nv">xcenter</span>, <span class="nv">ycenter</span>      <span class="o">!</span> <span class="nv">center</span> <span class="nv">of</span> <span class="nv">curve</span>
<span class="nv">real</span>,<span class="nv">intent</span><span class="ss">(</span><span class="nv">in</span><span class="ss">)</span>    :: <span class="nv">sunr0</span>,<span class="nv">planet0</span>,<span class="nv">offset0</span> <span class="o">!</span> <span class="nv">radii</span> <span class="nv">of</span> <span class="nv">sun</span>, <span class="nv">planet</span>, <span class="nv">and</span> <span class="nv">planet</span> <span class="nv">offset</span>
<span class="nv">real</span>,<span class="nv">intent</span><span class="ss">(</span><span class="nv">in</span><span class="ss">)</span>    :: <span class="nv">radius</span>                <span class="o">!</span> <span class="nv">radius</span> <span class="nv">to</span> <span class="nv">fit</span> <span class="nv">the</span> <span class="nv">shape</span> <span class="nv">to</span> <span class="ss">(</span><span class="nv">no</span> <span class="nv">fit</span> <span class="k">if</span> <span class="nv">radius</span> <span class="nv">is</span> <span class="mi">0</span><span class="ss">)</span>
<span class="nv">integer</span>,<span class="nv">intent</span><span class="ss">(</span><span class="nv">in</span><span class="ss">)</span> :: <span class="nv">ilines</span>                <span class="o">!</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">points</span> <span class="nv">to</span> <span class="nv">sample</span> <span class="nv">along</span> <span class="nv">curve</span>
<span class="nv">real</span>,<span class="nv">intent</span><span class="ss">(</span><span class="nv">in</span><span class="ss">)</span>    :: <span class="nv">ang</span>                   <span class="o">!</span> <span class="nv">angle</span> <span class="nv">to</span> <span class="nv">rotate</span> <span class="nv">the</span> <span class="nv">shape</span> <span class="nv">by</span>, <span class="nv">to</span> <span class="nv">orientate</span> <span class="nv">it</span>.
<span class="nv">real</span>,<span class="nv">intent</span><span class="ss">(</span><span class="nv">in</span><span class="ss">)</span>    :: <span class="nv">angs</span>                  <span class="o">!</span> <span class="nv">angle</span> <span class="nv">to</span> <span class="nv">start</span> <span class="nv">sampling</span> <span class="nv">points</span> <span class="nv">at</span><span class="c1">; ccw is +; 0 is East</span>
<span class="nv">integer</span>,<span class="nv">intent</span><span class="ss">(</span><span class="nv">in</span><span class="ss">)</span> :: <span class="nv">ifill</span>                 <span class="o">!</span> <span class="mi">1</span> <span class="nv">make</span> <span class="nv">a</span> <span class="nv">filled</span> <span class="nv">polygon</span>, <span class="mi">2</span> <span class="nv">make</span> <span class="nv">a</span> <span class="nv">hatched</span> <span class="nv">polygon</span>
<span class="nv">integer</span>            :: <span class="nv">i10</span>
<span class="nv">real</span>               :: <span class="nv">ang1</span>, <span class="nv">con1</span>, <span class="nv">con2</span>, <span class="nv">factor</span>
<span class="nv">real</span>               :: <span class="nv">offset</span>, <span class="nv">planet</span>, <span class="nv">r</span>, <span class="nv">sunr</span>, <span class="nv">u</span>
<span class="nv">real</span>               :: <span class="nv">xpoin</span>, <span class="nv">xpoin1</span>, <span class="nv">ypoin</span>, <span class="nv">ypoin1</span>
   <span class="nv">sunr</span><span class="o">=</span><span class="nv">sunr0</span>
   <span class="nv">offset</span><span class="o">=</span><span class="nv">offset0</span>
   <span class="nv">planet</span><span class="o">=</span><span class="nv">planet0</span>
   <span class="k">if</span><span class="ss">(</span><span class="nv">ilines</span>.<span class="nv">eq</span>.<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span> <span class="k">return</span>
   <span class="k">if</span><span class="ss">(</span><span class="nv">planet</span>.<span class="nv">eq</span>.<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span> <span class="k">return</span>
   <span class="k">if</span><span class="ss">(</span><span class="nv">sunr</span>.<span class="nv">eq</span>.<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>   <span class="k">return</span>
   <span class="k">if</span><span class="ss">(</span><span class="nv">radius</span>.<span class="nv">ne</span>.<span class="mi">0</span>.<span class="nv">and</span>.<span class="nv">sunr</span><span class="o">-</span><span class="nv">planet</span><span class="o">+</span><span class="nv">offset</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="k">then</span>
      <span class="nv">factor</span><span class="o">=</span><span class="nv">radius</span><span class="o">/</span><span class="ss">(</span><span class="nv">sunr</span><span class="o">-</span><span class="nv">planet</span><span class="o">+</span><span class="nv">offset</span><span class="ss">)</span>
      <span class="nv">sunr</span><span class="o">=</span><span class="nv">factor</span><span class="o">*</span><span class="nv">sunr</span>
      <span class="nv">planet</span><span class="o">=</span><span class="nv">factor</span><span class="o">*</span><span class="nv">planet</span>
      <span class="nv">offset</span><span class="o">=</span><span class="nv">factor</span><span class="o">*</span><span class="nv">offset</span>
   <span class="k">endif</span>
   <span class="nv">u</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">0</span><span class="o">+</span><span class="nv">ang</span>
   <span class="nv">con1</span><span class="o">=</span><span class="nv">PI</span><span class="o">*</span><span class="mi">2</span>.<span class="o">*</span><span class="ss">(</span><span class="nv">sunr</span><span class="o">/</span><span class="nv">planet</span><span class="ss">)</span><span class="o">/</span><span class="nv">real</span><span class="ss">(</span><span class="nv">ilines</span><span class="ss">)</span>
   <span class="nv">con2</span><span class="o">=</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">planet</span><span class="o">/</span><span class="nv">sunr</span><span class="ss">)</span><span class="o">*</span><span class="nv">u</span>
   <span class="nv">xpoin1</span><span class="o">=</span><span class="ss">(</span><span class="nv">sunr</span><span class="o">-</span><span class="nv">planet</span><span class="ss">)</span><span class="o">*</span><span class="nv">cos</span><span class="ss">(</span><span class="nv">planet</span><span class="o">*</span><span class="nv">u</span><span class="o">/</span><span class="nv">sunr</span><span class="ss">)</span><span class="o">+</span><span class="nv">offset</span><span class="o">*</span><span class="nv">cos</span><span class="ss">(</span><span class="nv">con2</span><span class="ss">)</span>
   <span class="nv">ypoin1</span><span class="o">=</span><span class="ss">(</span><span class="nv">sunr</span><span class="o">-</span><span class="nv">planet</span><span class="ss">)</span><span class="o">*</span><span class="nv">sin</span><span class="ss">(</span><span class="nv">planet</span><span class="o">*</span><span class="nv">u</span><span class="o">/</span><span class="nv">sunr</span><span class="ss">)</span><span class="o">-</span><span class="nv">offset</span><span class="o">*</span><span class="nv">sin</span><span class="ss">(</span><span class="nv">con2</span><span class="ss">)</span>
   <span class="nv">ang1</span><span class="o">=</span><span class="nv">atan2</span><span class="ss">(</span><span class="nv">ypoin1</span>,<span class="nv">xpoin1</span><span class="ss">)</span><span class="o">+</span><span class="nv">angs</span>
   <span class="nv">r</span><span class="o">=</span><span class="nv">sqrt</span><span class="ss">(</span><span class="nv">xpoin1</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="nv">ypoin1</span><span class="o">**</span><span class="mi">2</span><span class="ss">)</span>
   <span class="nv">xpoin1</span><span class="o">=</span><span class="nv">r</span><span class="o">*</span><span class="nv">cos</span><span class="ss">(</span><span class="nv">ang1</span><span class="ss">)</span><span class="o">+</span><span class="nv">xcenter</span>
   <span class="nv">ypoin1</span><span class="o">=</span><span class="nv">r</span><span class="o">*</span><span class="nv">sin</span><span class="ss">(</span><span class="nv">ang1</span><span class="ss">)</span><span class="o">+</span><span class="nv">ycenter</span>
   <span class="nv">select</span> <span class="nv">case</span><span class="ss">(</span><span class="nv">ifill</span><span class="ss">)</span>
   <span class="nv">case</span><span class="ss">(</span>:<span class="mi">0</span><span class="ss">)</span>
   <span class="nv">case</span><span class="ss">(</span><span class="mi">1</span>:<span class="ss">)</span>
      <span class="k">call</span> <span class="nl">makepoly</span><span class="ss">()</span>
   <span class="k">end</span> <span class="nv">select</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">xpoin1</span>,<span class="nv">ypoin1</span><span class="ss">)</span>
   <span class="k">do</span> <span class="nv">i10</span><span class="o">=</span><span class="mi">1</span>,<span class="nv">ilines</span>
      <span class="nv">u</span><span class="o">=</span><span class="nv">con1</span><span class="o">*</span><span class="nv">i10</span><span class="o">+</span><span class="nv">ang</span>
      <span class="nv">con2</span><span class="o">=</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">planet</span><span class="o">/</span><span class="nv">sunr</span><span class="ss">)</span><span class="o">*</span><span class="nv">u</span>
      <span class="k">if</span><span class="ss">(</span><span class="nv">con2</span>.<span class="nv">ge</span>.<span class="mi">2</span><span class="o">**</span><span class="mi">24</span><span class="ss">)</span> <span class="nv">con2</span><span class="o">=</span><span class="nv">amod</span><span class="ss">(</span><span class="nv">con2</span>,<span class="nv">PI</span><span class="ss">)</span>
      <span class="nv">xpoin</span><span class="o">=</span><span class="ss">(</span><span class="nv">sunr</span><span class="o">-</span><span class="nv">planet</span><span class="ss">)</span><span class="o">*</span><span class="nv">cos</span><span class="ss">(</span><span class="nv">planet</span><span class="o">*</span><span class="nv">u</span><span class="o">/</span><span class="nv">sunr</span><span class="ss">)</span><span class="o">+</span><span class="nv">offset</span><span class="o">*</span><span class="nv">cos</span><span class="ss">(</span><span class="nv">con2</span><span class="ss">)</span>
      <span class="nv">ypoin</span><span class="o">=</span><span class="ss">(</span><span class="nv">sunr</span><span class="o">-</span><span class="nv">planet</span><span class="ss">)</span><span class="o">*</span><span class="nv">sin</span><span class="ss">(</span><span class="nv">planet</span><span class="o">*</span><span class="nv">u</span><span class="o">/</span><span class="nv">sunr</span><span class="ss">)</span><span class="o">-</span><span class="nv">offset</span><span class="o">*</span><span class="nv">sin</span><span class="ss">(</span><span class="nv">con2</span><span class="ss">)</span>
      <span class="nv">ang1</span><span class="o">=</span><span class="nv">atan2</span><span class="ss">(</span><span class="nv">ypoin</span>,<span class="nv">xpoin</span><span class="ss">)</span><span class="o">+</span><span class="nv">angs</span>
      <span class="nv">r</span><span class="o">=</span><span class="nv">sqrt</span><span class="ss">(</span><span class="nv">xpoin</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="nv">ypoin</span><span class="o">**</span><span class="mi">2</span><span class="ss">)</span>
      <span class="nv">xpoin</span><span class="o">=</span><span class="nv">r</span><span class="o">*</span><span class="nv">cos</span><span class="ss">(</span><span class="nv">ang1</span><span class="ss">)</span><span class="o">+</span><span class="nv">xcenter</span>
      <span class="nv">ypoin</span><span class="o">=</span><span class="nv">r</span><span class="o">*</span><span class="nv">sin</span><span class="ss">(</span><span class="nv">ang1</span><span class="ss">)</span><span class="o">+</span><span class="nv">ycenter</span>
      <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">xpoin</span>,<span class="nv">ypoin</span><span class="ss">)</span>
   <span class="nv">enddo</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">xpoin1</span>,<span class="nv">ypoin1</span><span class="ss">)</span>
   <span class="k">if</span><span class="ss">(</span><span class="nv">ifill</span>.<span class="nv">gt</span>.<span class="mi">0</span><span class="ss">)</span><span class="k">then</span>
     <span class="k">call</span> <span class="nl">closepoly</span><span class="ss">()</span>
   <span class="k">endif</span>
<span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">hypoc</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_makepoly</span>
</code></pre></div>

<h2 id="name_31">NAME</h2>
<div class="codehilite"><pre><span></span><code>closepoly(3f) - [M_draw:POLYGONS] Terminates a polygon opened by makepoly(3f)
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_30">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>   subroutine closepoly()
</code></pre></div>

<h2 id="description_31">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Terminates a polygon opened by makepoly(3f).
</code></pre></div>

<h2 id="name_32">NAME</h2>
<div class="codehilite"><pre><span></span><code>backface(3f) - [M_draw:POLYGONS] Turns on culling of backfacing polygons.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_31">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>   subroutine backface(onoff)
   logical onoff
</code></pre></div>

<h2 id="description_32">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Turns</span> <span class="nv">on</span> <span class="nv">culling</span> <span class="nv">of</span> <span class="nv">backfacing</span> <span class="nv">polygons</span>. <span class="nv">A</span> <span class="nv">polygon</span> <span class="nv">is</span> <span class="nv">backfacing</span> <span class="k">if</span>
<span class="nv">its</span> <span class="nv">orientation</span> <span class="nv">in</span> <span class="o">*</span><span class="nv">screen</span><span class="o">*</span> <span class="nv">coords</span> <span class="nv">is</span> <span class="nv">clockwise</span>, <span class="nv">unless</span> <span class="nv">a</span> <span class="nv">call</span>
<span class="nv">to</span> <span class="nv">backfacedir</span> <span class="nv">is</span> <span class="nv">made</span>.
</code></pre></div>

<h2 id="example_18">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_backface</span>
<span class="o">!</span>      <span class="nv">demonstrate</span> <span class="nv">double</span> <span class="nv">buffering</span> <span class="nv">and</span> <span class="nv">what</span> <span class="nv">happens</span> <span class="nv">when</span> <span class="nv">you</span> <span class="nv">hit</span> <span class="nv">clipping</span> <span class="nv">plane</span>
<span class="o">!</span>
<span class="o">!</span>      <span class="nv">Specifying</span> <span class="nv">an</span> <span class="nv">extra</span> <span class="nv">argument</span> <span class="nv">turns</span> <span class="nv">on</span> <span class="nv">the</span> <span class="nv">filling</span>.
<span class="o">!</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">30</span><span class="ss">)</span> :: <span class="nv">device</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">1</span><span class="ss">)</span>  :: <span class="nv">c</span>
<span class="nv">real</span>    <span class="nv">r</span>, <span class="nv">t</span>, <span class="nv">dr</span>, <span class="nv">dt</span>
<span class="nv">integer</span> <span class="nv">nplanes</span>
<span class="nv">logical</span> <span class="nv">fill</span>, <span class="nv">back</span>, <span class="nv">backdir</span>
<span class="nv">integer</span> :: <span class="nv">ios</span>
<span class="nv">integer</span> :: <span class="nv">ipaws</span>

<span class="nv">print</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">Enter output device:</span><span class="s1">&#39;</span>
<span class="nv">read</span><span class="ss">(</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">(a)</span><span class="s1">&#39;</span>,<span class="nv">iostat</span><span class="o">=</span><span class="nv">ios</span><span class="ss">)</span><span class="nv">device</span>
<span class="k">if</span><span class="ss">(</span><span class="nv">ios</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="nv">device</span><span class="o">=</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span>

<span class="nv">dr</span> <span class="o">=</span> <span class="mi">0</span>.<span class="mi">3</span>
<span class="nv">dt</span> <span class="o">=</span> <span class="mi">0</span>.<span class="mi">2</span>
<span class="nv">print</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">Enter delta in degrees (0.333 is typical):</span><span class="s1">&#39;</span>
<span class="nv">read</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span>,<span class="nv">iostat</span><span class="o">=</span><span class="nv">ios</span><span class="ss">)</span> <span class="nv">dr</span>
<span class="k">if</span><span class="ss">(</span><span class="nv">ios</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="nv">dr</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">333</span>
<span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">DR=</span><span class="s1">&#39;</span>,<span class="nv">dr</span>

<span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">300</span>, <span class="mi">300</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="nv">device</span><span class="ss">)</span>

<span class="nv">nplanes</span> <span class="o">=</span> <span class="nv">getdepth</span><span class="ss">()</span>

<span class="nv">fill</span> <span class="o">=</span> .<span class="nv">true</span>.
<span class="nv">back</span> <span class="o">=</span> .<span class="nv">true</span>.
<span class="nv">backdir</span> <span class="o">=</span> .<span class="nv">true</span>.

<span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span><span class="nv">fill</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">backface</span><span class="ss">(</span><span class="nv">back</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">backfacedir</span><span class="ss">(</span><span class="nv">backdir</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>

<span class="k">call</span> <span class="nl">window</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">5</span>, <span class="mi">1</span>.<span class="mi">5</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">5</span>, <span class="mi">1</span>.<span class="mi">5</span>, <span class="mi">9</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">lookat</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">12</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>

<span class="nv">t</span> <span class="o">=</span> <span class="mi">0</span>.<span class="mi">0</span>
<span class="nv">r</span> <span class="o">=</span> <span class="mi">30</span>.<span class="mi">0</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">Setup</span> <span class="nv">drawing</span> <span class="nv">into</span> <span class="nv">the</span> <span class="nv">backbuffer</span>....
<span class="o">!</span>
<span class="k">if</span> <span class="ss">(</span><span class="nv">backbuffer</span><span class="ss">()</span>.<span class="nv">lt</span>.<span class="mi">0</span><span class="ss">)</span> <span class="k">then</span>
   <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">Device can</span><span class="s1">&#39;&#39;</span><span class="s">t support doublebuffering</span><span class="s1">&#39;</span>
   <span class="o">!</span> <span class="nv">draw</span> <span class="nv">a</span> <span class="nv">single</span> <span class="nv">view</span> <span class="nv">so</span> <span class="nv">at</span> <span class="nv">least</span> <span class="nv">the</span> <span class="nv">cube</span> <span class="nv">is</span> <span class="nv">displayed</span>
   <span class="k">call</span> <span class="nl">frontbuffer</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="nv">t</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="nv">r</span>, <span class="s1">&#39;</span><span class="s">y</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="nv">r</span>, <span class="s1">&#39;</span><span class="s">z</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="nv">r</span>, <span class="s1">&#39;</span><span class="s">x</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawcube</span><span class="ss">(</span><span class="nv">nplanes</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawcube</span><span class="ss">(</span><span class="nv">nplanes</span><span class="ss">)</span>
   <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
   <span class="nv">stop</span>

<span class="k">endif</span>

<span class="k">do</span>
   <span class="k">if</span><span class="ss">(</span><span class="nv">r</span>.<span class="nv">ge</span>.<span class="mi">360</span><span class="ss">)</span> <span class="nv">r</span> <span class="o">=</span> <span class="mi">0</span>.<span class="mi">0</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>

   <span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>

   <span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="nv">t</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="nv">r</span>, <span class="s1">&#39;</span><span class="s">y</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="nv">r</span>, <span class="s1">&#39;</span><span class="s">z</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="nv">r</span>, <span class="s1">&#39;</span><span class="s">x</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">drawcube</span><span class="ss">(</span><span class="nv">nplanes</span><span class="ss">)</span>

   <span class="k">if</span> <span class="ss">(</span><span class="nv">nplanes</span> .<span class="nv">eq</span>. <span class="mi">1</span> .<span class="nv">and</span>. <span class="nv">fill</span><span class="ss">)</span> <span class="k">then</span>
      <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>
      <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">drawcube</span><span class="ss">(</span><span class="nv">nplanes</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span><span class="nv">fill</span><span class="ss">)</span>
   <span class="k">endif</span>

   <span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>

   <span class="nv">t</span> <span class="o">=</span> <span class="nv">t</span> <span class="o">+</span> <span class="nv">dt</span>
   <span class="k">if</span> <span class="ss">(</span><span class="nv">t</span>.<span class="nv">gt</span>.<span class="mi">3</span>.<span class="mi">0</span> .<span class="nv">or</span>. <span class="nv">t</span>.<span class="nv">lt</span>.<span class="o">-</span><span class="mi">18</span>.<span class="mi">0</span><span class="ss">)</span> <span class="nv">dt</span> <span class="o">=</span> <span class="o">-</span><span class="nv">dt</span>

   <span class="k">call</span> <span class="nl">swapbuffers</span><span class="ss">()</span>

   <span class="nv">c</span> <span class="o">=</span> <span class="nv">char</span><span class="ss">(</span><span class="nv">checkkey</span><span class="ss">())</span>
   <span class="k">if</span> <span class="ss">(</span><span class="nv">c</span> .<span class="nv">eq</span>. <span class="s1">&#39;</span><span class="s">f</span><span class="s1">&#39;</span><span class="ss">)</span> <span class="k">then</span>
      <span class="nv">fill</span> <span class="o">=</span> .<span class="nv">not</span>. <span class="nv">fill</span>
      <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span><span class="nv">fill</span><span class="ss">)</span>
   <span class="k">elseif</span> <span class="ss">(</span><span class="nv">c</span> .<span class="nv">eq</span>. <span class="s1">&#39;</span><span class="s">b</span><span class="s1">&#39;</span><span class="ss">)</span> <span class="k">then</span>
      <span class="nv">back</span> <span class="o">=</span> .<span class="nv">not</span>. <span class="nv">back</span>
      <span class="k">call</span> <span class="nl">backface</span><span class="ss">(</span><span class="nv">back</span><span class="ss">)</span>
   <span class="k">elseif</span> <span class="ss">(</span><span class="nv">c</span> .<span class="nv">eq</span>. <span class="s1">&#39;</span><span class="s">d</span><span class="s1">&#39;</span><span class="ss">)</span> <span class="k">then</span>
      <span class="nv">backdir</span> <span class="o">=</span> .<span class="nv">not</span>. <span class="nv">backdir</span>
      <span class="k">call</span> <span class="nl">backfacedir</span><span class="ss">(</span><span class="nv">backdir</span><span class="ss">)</span>
   <span class="k">elseif</span> <span class="ss">(</span><span class="nv">c</span> .<span class="nv">ne</span>. <span class="nv">char</span><span class="ss">(</span><span class="mi">0</span><span class="ss">))</span> <span class="k">then</span>
      <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
      <span class="nv">stop</span>
   <span class="k">endif</span>

   <span class="nv">r</span> <span class="o">=</span> <span class="nv">r</span> <span class="o">+</span> <span class="nv">dr</span>
<span class="nv">enddo</span>

<span class="nv">contains</span>
<span class="o">!</span> <span class="nv">this</span> <span class="nv">routine</span> <span class="nv">draws</span> <span class="nv">the</span> <span class="nv">cube</span>, <span class="nv">using</span> <span class="nv">colours</span> <span class="k">if</span> <span class="nv">available</span>
<span class="o">!</span>
<span class="nv">subroutine</span> <span class="nv">drawcube</span><span class="ss">(</span><span class="nv">nplanes</span><span class="ss">)</span>
   <span class="nv">integer</span> <span class="nv">nplanes</span>

   <span class="nv">real</span> <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>, <span class="mi">8</span><span class="ss">)</span>
   <span class="nv">data</span> <span class="nv">carray</span><span class="o">/</span>            <span class="o">&amp;</span>
   <span class="o">&amp;</span>   <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,  <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,   <span class="mi">1</span>.<span class="mi">0</span>,  <span class="o">&amp;</span>
   <span class="o">&amp;</span>    <span class="mi">1</span>.<span class="mi">0</span>,  <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,   <span class="mi">1</span>.<span class="mi">0</span>,  <span class="o">&amp;</span>
   <span class="o">&amp;</span>    <span class="mi">1</span>.<span class="mi">0</span>,   <span class="mi">1</span>.<span class="mi">0</span>,   <span class="mi">1</span>.<span class="mi">0</span>,  <span class="o">&amp;</span>
   <span class="o">&amp;</span>   <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,   <span class="mi">1</span>.<span class="mi">0</span>,   <span class="mi">1</span>.<span class="mi">0</span>,  <span class="o">&amp;</span>
   <span class="o">&amp;</span>   <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,  <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,  <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,  <span class="o">&amp;</span>
   <span class="o">&amp;</span>    <span class="mi">1</span>.<span class="mi">0</span>,  <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,  <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,  <span class="o">&amp;</span>
   <span class="o">&amp;</span>    <span class="mi">1</span>.<span class="mi">0</span>,   <span class="mi">1</span>.<span class="mi">0</span>,  <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,  <span class="o">&amp;</span>
   <span class="o">&amp;</span>   <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,   <span class="mi">1</span>.<span class="mi">0</span>,  <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="o">/</span>
   <span class="nv">save</span> <span class="nv">carray</span>

   <span class="k">if</span> <span class="ss">(</span><span class="nv">nplanes</span>.<span class="nv">gt</span>.<span class="mi">1</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">makepoly</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">move</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">1</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">1</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">1</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">2</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">2</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">2</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">3</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">3</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">3</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">4</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">4</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">4</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">1</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">1</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">1</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">closepoly</span><span class="ss">()</span>

   <span class="k">if</span> <span class="ss">(</span><span class="nv">nplanes</span>.<span class="nv">gt</span>.<span class="mi">1</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">makepoly</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">move</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">6</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">6</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">6</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">5</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">5</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">5</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">8</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">8</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">8</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">7</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">7</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">7</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">6</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">6</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">6</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">closepoly</span><span class="ss">()</span>

   <span class="k">if</span> <span class="ss">(</span><span class="nv">nplanes</span>.<span class="nv">gt</span>.<span class="mi">1</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_YELLOW</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">makepoly</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">move</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">2</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">2</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">2</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">6</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">6</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">6</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">7</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">7</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">7</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">3</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">3</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">3</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">2</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">2</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">2</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">closepoly</span><span class="ss">()</span>

   <span class="k">if</span> <span class="ss">(</span><span class="nv">nplanes</span>.<span class="nv">gt</span>.<span class="mi">1</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">makepoly</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">move</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">1</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">1</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">1</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">4</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">4</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">4</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">8</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">8</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">8</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">5</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">5</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">5</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">1</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">1</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">1</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">closepoly</span><span class="ss">()</span>

   <span class="k">if</span> <span class="ss">(</span><span class="nv">nplanes</span>.<span class="nv">gt</span>.<span class="mi">1</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_MAGENTA</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">makepoly</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">move</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">3</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">3</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">3</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">7</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">7</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">7</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">8</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">8</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">8</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">4</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">4</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">4</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">3</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">3</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">3</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">closepoly</span><span class="ss">()</span>

   <span class="k">if</span> <span class="ss">(</span><span class="nv">nplanes</span>.<span class="nv">gt</span>.<span class="mi">1</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_CYAN</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">makepoly</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">move</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">1</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">1</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">1</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">5</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">5</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">5</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">6</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">6</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">6</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">2</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">2</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">2</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">carray</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">1</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">1</span><span class="ss">)</span>, <span class="nv">carray</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">1</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">closepoly</span><span class="ss">()</span>

<span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">drawcube</span>

<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_backface</span>
</code></pre></div>

<p>!</p>
<h2 id="name_33">NAME</h2>
<div class="codehilite"><pre><span></span><code>backfacedir(3f) - [M_draw:POLYGONS] Sets backfacing direction to clockwise or anti-clockwise
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_32">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>   subroutine backfacedir(clockwise)
   integer,intent(in) :: clockwise
</code></pre></div>

<h2 id="description_33">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Sets the backfacing direction to clockwise or anti-clockwise depending
on whether clockwise is 1 or 0. 1 = clockwise (in screen coords)
0 = anticlockwise.
</code></pre></div>

<h2 id="name_34">NAME</h2>
<div class="codehilite"><pre><span></span><code> circleprecision(3f) - [M_draw:ARCS] Set number of line segments used to approximate a circle
 (LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_33">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     <span class="n">subroutine</span> <span class="n">circleprecision</span><span class="p">(</span><span class="n">nsegs</span><span class="p">)</span>
     <span class="n">integer</span><span class="p">,</span><span class="n">intent</span><span class="p">(</span><span class="ow">in</span><span class="p">)</span> <span class="p">::</span> <span class="n">nsegs</span>

<span class="n">Set</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">line</span> <span class="n">segments</span> <span class="n">making</span> <span class="n">up</span> <span class="n">a</span> <span class="n">circle</span><span class="o">.</span> <span class="n">Default</span> <span class="k">is</span>
<span class="n">currently</span> <span class="mf">32.</span> <span class="n">The</span> <span class="n">number</span> <span class="n">of</span> <span class="n">segments</span> <span class="ow">in</span> <span class="n">an</span> <span class="n">arc</span> <span class="ow">or</span> <span class="n">sector</span> <span class="k">is</span> <span class="n">calculated</span>
<span class="n">from</span> <span class="n">the</span> <span class="n">variable</span> <span class="s2">&quot;nsegs&quot;</span> <span class="n">according</span> <span class="n">to</span> <span class="n">the</span> <span class="n">span</span> <span class="n">of</span> <span class="n">the</span> <span class="n">arc</span> <span class="ow">or</span> <span class="n">sector</span><span class="o">.</span>
</code></pre></div>

<h2 id="options_6">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code>NSEGS   number of line segments making up a circle
</code></pre></div>

<h2 id="example_19">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_circleprecision</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
<span class="nv">real</span>    :: <span class="nv">b</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">5</span>
<span class="nv">real</span>    :: <span class="nv">y1</span>,<span class="nv">y2</span>,<span class="nv">ym</span>,<span class="nv">x1</span>,<span class="nv">x2</span>
<span class="nv">real</span>    :: <span class="nv">width</span><span class="o">=</span><span class="mi">50</span>.<span class="mi">0</span><span class="o">/</span><span class="mi">8</span>.<span class="mi">0</span>,<span class="nv">width2</span>
<span class="nv">integer</span>,<span class="nv">parameter</span> :: <span class="nv">ivals</span><span class="ss">(</span><span class="o">*</span><span class="ss">)</span><span class="o">=</span>[<span class="mi">3</span>,<span class="mi">5</span>,<span class="mi">7</span>,<span class="mi">10</span>,<span class="mi">20</span>,<span class="mi">30</span>,<span class="mi">60</span>,<span class="mi">100</span>]
<span class="nv">integer</span> :: <span class="nv">i</span>
<span class="nv">integer</span> :: <span class="nv">ipaws</span>
   <span class="o">!!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">long</span> <span class="nv">bar</span> <span class="nv">as</span> <span class="nv">plotting</span> <span class="nv">area</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">1000</span>,<span class="mi">200</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="o">-</span><span class="mi">25</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">b</span>, <span class="mi">25</span>.<span class="mi">0</span><span class="o">+</span><span class="nv">b</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">b</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="o">+</span><span class="nv">b</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span> <span class="mi">2</span>.<span class="mi">5</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">0</span>, <span class="mi">3</span>.<span class="mi">0</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">futura.l</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">centertext</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">30</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
   <span class="nv">y1</span><span class="o">=-</span><span class="mi">5</span>
   <span class="nv">y2</span><span class="o">=</span><span class="mi">5</span>
   <span class="nv">ym</span><span class="o">=</span><span class="mi">0</span>
   <span class="nv">x1</span><span class="o">=-</span><span class="mi">25</span><span class="o">+</span>.<span class="mi">05</span><span class="o">*</span><span class="nv">width</span>
   <span class="o">!</span> <span class="nv">draw</span> <span class="nv">colored</span> <span class="nv">rectangle</span> <span class="nv">and</span> <span class="nv">a</span> <span class="nv">circle</span> <span class="nv">and</span> <span class="nv">label</span> <span class="nv">center</span> <span class="nv">of</span> <span class="nv">circle</span> <span class="nv">repeat</span>
   <span class="nv">width2</span><span class="o">=</span><span class="nv">width</span><span class="o">*</span><span class="mi">0</span>.<span class="mi">95</span>
   <span class="k">do</span> <span class="nv">i</span><span class="o">=</span><span class="mi">1</span>,<span class="nv">size</span><span class="ss">(</span><span class="nv">ivals</span><span class="ss">)</span>
      <span class="nv">x2</span><span class="o">=</span><span class="nv">x1</span><span class="o">+</span><span class="nv">width2</span>
      <span class="k">call</span> <span class="nl">move2</span><span class="ss">((</span><span class="nv">x1</span><span class="o">+</span><span class="nv">x2</span><span class="ss">)</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">0</span>,<span class="nv">ym</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">circleprecision</span><span class="ss">(</span><span class="nv">ivals</span><span class="ss">(</span><span class="nv">i</span><span class="ss">))</span>
      <span class="k">call</span> <span class="nl">print</span><span class="ss">(</span><span class="nv">ivals</span><span class="ss">(</span><span class="nv">i</span><span class="ss">))</span>     <span class="o">!</span> <span class="nv">convert</span> <span class="nv">number</span> <span class="nv">to</span> <span class="nv">string</span> <span class="nv">and</span> <span class="nv">draw</span> <span class="nv">it</span>
      <span class="k">call</span> <span class="nl">circle</span><span class="ss">((</span><span class="nv">x1</span><span class="o">+</span><span class="nv">x2</span><span class="ss">)</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">0</span>, <span class="nv">ym</span>, <span class="ss">(</span><span class="nv">x2</span><span class="o">-</span><span class="nv">x1</span><span class="ss">)</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">10</span><span class="ss">)</span>
      <span class="nv">x1</span><span class="o">=</span><span class="nv">x1</span><span class="o">+</span><span class="nv">width</span>
   <span class="nv">enddo</span>
   <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_circleprecision</span>
</code></pre></div>

<h2 id="image">IMAGE</h2>
<div class="codehilite"><pre><span></span><code><span class="n">circles</span> <span class="n">are</span> <span class="n">drawn</span> <span class="n">with</span> <span class="n">various</span> <span class="n">circle</span> <span class="n">precision</span> <span class="n">values</span><span class="o">.</span>
</code></pre></div>

<h2 id="name_35">NAME</h2>
<div class="codehilite"><pre><span></span><code> arc(3f) - [M_draw:ARCS] Draw an arc in world units.
 (LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_34">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine arc(x, y, radius, startang, endang)
     real,intent(in) :: x
     real,intent(in) :: y
     real,intent(in) :: radius
     real,intent(in) :: startang
     real,intent(in) :: endang
</code></pre></div>

<h2 id="description_34">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Draw</span> <span class="nv">an</span> <span class="nv">arc</span>. <span class="nv">x</span>, <span class="nv">y</span>, <span class="nv">and</span> <span class="nv">radius</span> <span class="nv">are</span> <span class="nv">values</span> <span class="nv">in</span> <span class="nv">world</span> <span class="nv">units</span>
<span class="nv">using</span> <span class="nv">current</span> <span class="nv">line</span> <span class="nv">width</span> <span class="nv">and</span> <span class="nv">color</span>

<span class="nv">Angles</span> <span class="nv">are</span> <span class="nv">in</span> <span class="nv">degrees</span>, <span class="nv">positive</span> <span class="nv">measured</span> <span class="nv">counterclockwise</span> <span class="nv">from</span> <span class="nv">the</span>
<span class="o">+</span><span class="nv">X</span> <span class="nv">axis</span>. <span class="nv">The</span> <span class="nv">current</span> <span class="nv">position</span> <span class="nv">after</span> <span class="nv">the</span> <span class="nv">arc</span> <span class="nv">is</span> <span class="nv">drawn</span> <span class="nv">is</span> <span class="nv">at</span> <span class="nv">the</span> <span class="k">end</span>
<span class="nv">of</span> <span class="nv">the</span> <span class="nv">arc</span>.
</code></pre></div>

<h2 id="options_7">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code><span class="n">X</span><span class="p">,</span><span class="n">Y</span>        <span class="n">Coordinates</span> <span class="n">for</span> <span class="n">the</span> <span class="n">center</span> <span class="n">of</span> <span class="n">the</span> <span class="n">circle</span>
<span class="n">RADIUS</span>     <span class="n">Radius</span> <span class="n">of</span> <span class="n">the</span> <span class="n">circle</span>
<span class="n">STARTANG</span>   <span class="n">Start</span> <span class="n">angle</span>
<span class="n">ENDANG</span>     <span class="n">End</span> <span class="n">angle</span>
</code></pre></div>

<h2 id="example_20">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="n">program</span> <span class="n">demo_arc</span>
   <span class="n">use</span> <span class="n">M_draw</span>
   <span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="p">:</span> <span class="n">D_BLACK</span><span class="p">,</span>   <span class="n">D_WHITE</span>
   <span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="p">:</span> <span class="n">D_RED</span><span class="p">,</span>     <span class="n">D_GREEN</span><span class="p">,</span>    <span class="n">D_BLUE</span>
   <span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="p">:</span> <span class="n">D_YELLOW</span><span class="p">,</span>  <span class="n">D_MAGENTA</span><span class="p">,</span>  <span class="n">D_CYAN</span>
   <span class="n">implicit</span> <span class="n">none</span>
   <span class="n">integer</span>        <span class="p">::</span> <span class="n">icolor</span>
   <span class="n">real</span>           <span class="p">::</span> <span class="n">b</span><span class="o">=</span><span class="mf">0.5</span>
   <span class="n">real</span>           <span class="p">::</span> <span class="n">R</span><span class="o">=</span><span class="mf">4.9</span>
   <span class="n">real</span>           <span class="p">::</span> <span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">YY</span>
   <span class="n">integer</span>        <span class="p">::</span> <span class="n">key</span>
   <span class="n">call</span> <span class="n">prefsize</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">vinit</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_BLACK</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">clear</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_YELLOW</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">page</span><span class="p">(</span><span class="o">-</span><span class="mf">25.0</span><span class="o">-</span><span class="n">b</span><span class="p">,</span> <span class="mf">25.0</span><span class="o">+</span><span class="n">b</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.0</span><span class="o">-</span><span class="n">b</span><span class="p">,</span> <span class="mf">5.0</span><span class="o">+</span><span class="n">b</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">textsize</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.4</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">font</span><span class="p">(</span><span class="s2">&quot;futura.l&quot;</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">centertext</span><span class="p">(</span><span class="o">.</span><span class="n">true</span><span class="o">.</span><span class="p">)</span>
   <span class="o">!</span> <span class="n">draw</span> <span class="n">arcs</span> <span class="n">with</span> <span class="n">various</span> <span class="n">start</span> <span class="ow">and</span> <span class="n">end</span> <span class="n">angles</span>

   <span class="n">X</span><span class="o">=-</span><span class="mf">20.0</span><span class="p">;</span> <span class="n">Y</span><span class="o">=</span><span class="mf">0.0</span><span class="p">;</span> <span class="n">A</span><span class="o">=</span><span class="mf">0.0</span><span class="p">;</span> <span class="n">B</span><span class="o">=</span><span class="mf">30.0</span><span class="p">;</span>  <span class="n">icolor</span><span class="o">=</span><span class="mi">7</span><span class="p">;</span> <span class="n">YY</span><span class="o">=</span><span class="mi">4</span>
   <span class="n">call</span> <span class="n">drawit</span><span class="p">(</span><span class="s2">&quot;0 to 30 deg.&quot;</span><span class="p">)</span>

   <span class="n">X</span><span class="o">=-</span><span class="mf">10.0</span><span class="p">;</span> <span class="n">YY</span><span class="o">=-</span><span class="mi">4</span><span class="p">;</span> <span class="n">A</span><span class="o">=</span><span class="mf">0.0</span><span class="p">;</span> <span class="n">B</span><span class="o">=-</span><span class="mf">45.0</span><span class="p">;</span> <span class="n">icolor</span><span class="o">=</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">drawit</span><span class="p">(</span><span class="s2">&quot;0 to -45 deg.&quot;</span><span class="p">)</span>

   <span class="n">X</span><span class="o">=</span><span class="mf">0.0</span><span class="p">;</span> <span class="n">YY</span><span class="o">=-</span><span class="mi">4</span><span class="p">;</span> <span class="n">A</span><span class="o">=</span><span class="mf">100.0</span><span class="p">;</span> <span class="n">B</span><span class="o">=</span><span class="mf">200.0</span><span class="p">;</span> <span class="n">icolor</span><span class="o">=</span><span class="mi">2</span>
   <span class="n">call</span> <span class="n">drawit</span><span class="p">(</span><span class="s2">&quot;100 to 200 deg.&quot;</span><span class="p">)</span>

   <span class="n">X</span><span class="o">=</span><span class="mf">10.0</span><span class="p">;</span> <span class="n">YY</span><span class="o">=-</span><span class="mi">4</span><span class="p">;</span> <span class="n">A</span><span class="o">=-</span><span class="mf">30.0</span><span class="p">;</span> <span class="n">B</span><span class="o">=</span><span class="mf">30.0</span><span class="p">;</span><span class="n">icolor</span><span class="o">=</span><span class="mi">5</span>
   <span class="n">call</span> <span class="n">drawit</span><span class="p">(</span><span class="s2">&quot;-30 to 30 deg.&quot;</span><span class="p">)</span>

   <span class="n">YY</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span> <span class="n">X</span><span class="o">=</span><span class="mf">20.0</span><span class="p">;</span> <span class="n">A</span><span class="o">=</span><span class="mf">45.0</span><span class="p">;</span> <span class="n">B</span><span class="o">=-</span><span class="mf">45.0</span><span class="p">;</span> <span class="n">icolor</span><span class="o">=</span><span class="mi">6</span>
   <span class="n">call</span> <span class="n">drawit</span><span class="p">(</span><span class="s2">&quot;45 to -45 deg.&quot;</span><span class="p">)</span>

   <span class="n">call</span> <span class="n">vflush</span><span class="p">()</span>
   <span class="n">key</span><span class="o">=</span><span class="n">getkey</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">vexit</span><span class="p">()</span>
<span class="n">contains</span>
   <span class="n">subroutine</span> <span class="n">drawit</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
      <span class="n">character</span><span class="p">(</span><span class="n">len</span><span class="o">=*</span><span class="p">)</span> <span class="p">::</span> <span class="n">label</span>
      <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">icolor</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">arc</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">R</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">draw2</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">YY</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_WHITE</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
   <span class="n">end</span> <span class="n">subroutine</span> <span class="n">drawit</span>

<span class="n">end</span> <span class="n">program</span> <span class="n">demo_arc</span>
</code></pre></div>

<h2 id="name_36">NAME</h2>
<div class="codehilite"><pre><span></span><code>sector(3f) - [M_draw:ARCS] Draw a sector. Note: sectors are polygons.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_35">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine sector(x, y, radius, startang, endang)
     REAL x, y, radius, startang, endang
</code></pre></div>

<h2 id="description_35">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="n">Draw</span> <span class="n">a</span> <span class="n">sector</span><span class="p">.</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="k">and</span> <span class="n">radius</span> <span class="n">are</span> <span class="n">values</span> <span class="n">in</span> <span class="n">world</span> <span class="n">units</span><span class="p">.</span> <span class="nl">Note:</span> <span class="n">sectors</span>
<span class="n">are</span> <span class="n">regarded</span> <span class="n">as</span> <span class="n">polygons</span><span class="p">,</span> <span class="n">so</span> <span class="k">if</span> <span class="n">polyfill</span> <span class="k">or</span> <span class="n">polyhatch</span> <span class="n">has</span> <span class="n">been</span> <span class="n">called</span>
<span class="n">with</span> <span class="mh">1</span><span class="p">,</span> <span class="n">the</span> <span class="n">sectors</span> <span class="n">will</span> <span class="n">be</span> <span class="n">filled</span> <span class="k">or</span> <span class="n">hatched</span> <span class="n">accordingly</span><span class="p">.</span>
</code></pre></div>

<h2 id="example_21">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="n">program</span> <span class="n">demo_sector</span>
<span class="n">use</span> <span class="n">M_draw</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="p">:</span> <span class="n">D_BLACK</span><span class="p">,</span>   <span class="n">D_WHITE</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="p">:</span> <span class="n">D_RED</span><span class="p">,</span>     <span class="n">D_GREEN</span><span class="p">,</span>    <span class="n">D_BLUE</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="p">:</span> <span class="n">D_YELLOW</span><span class="p">,</span>  <span class="n">D_MAGENTA</span><span class="p">,</span>  <span class="n">D_CYAN</span>
<span class="n">implicit</span> <span class="n">none</span>
<span class="n">real</span>           <span class="p">::</span> <span class="n">b</span><span class="o">=</span><span class="mf">0.5</span>
<span class="n">real</span>           <span class="p">::</span> <span class="n">R</span><span class="o">=</span><span class="mf">4.9</span>
<span class="n">real</span>           <span class="p">::</span> <span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">A</span>
<span class="n">integer</span>        <span class="p">::</span> <span class="n">key</span>
   <span class="n">call</span> <span class="n">prefsize</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">vinit</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_BLACK</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">clear</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_YELLOW</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">page</span><span class="p">(</span><span class="o">-</span><span class="mf">25.0</span><span class="o">-</span><span class="n">b</span><span class="p">,</span> <span class="mf">25.0</span><span class="o">+</span><span class="n">b</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.0</span><span class="o">-</span><span class="n">b</span><span class="p">,</span> <span class="mf">5.0</span><span class="o">+</span><span class="n">b</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">textsize</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.4</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">font</span><span class="p">(</span><span class="s2">&quot;futura.l&quot;</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">centertext</span><span class="p">(</span><span class="o">.</span><span class="n">true</span><span class="o">.</span><span class="p">)</span>

   <span class="o">!</span> <span class="n">draw</span> <span class="n">sectors</span> <span class="n">with</span> <span class="n">various</span> <span class="n">start</span> <span class="ow">and</span> <span class="n">end</span> <span class="n">angles</span>

   <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_WHITE</span><span class="p">)</span>
   <span class="n">X</span><span class="o">=-</span><span class="mi">20</span><span class="p">;</span> <span class="n">Y</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">R</span><span class="o">=</span><span class="mf">5.0</span><span class="p">;</span> <span class="n">A</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">B</span><span class="o">=</span><span class="mi">30</span>
   <span class="n">call</span> <span class="n">sector</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">R</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="s2">&quot;0 to 30 deg.&quot;</span><span class="p">)</span>

   <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_RED</span><span class="p">)</span>
   <span class="n">X</span><span class="o">=-</span><span class="mi">10</span><span class="p">;</span> <span class="n">Y</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">R</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span> <span class="n">A</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">B</span><span class="o">=-</span><span class="mi">45</span>
   <span class="n">call</span> <span class="n">sector</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">R</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="o">-</span><span class="mf">4.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="s2">&quot;0 to -45 deg.&quot;</span><span class="p">)</span>

   <span class="n">call</span> <span class="n">polyfill</span><span class="p">(</span><span class="o">.</span><span class="n">true</span><span class="o">.</span><span class="p">)</span>

   <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_GREEN</span><span class="p">)</span>
   <span class="n">X</span><span class="o">=-</span><span class="mi">0</span><span class="p">;</span> <span class="n">Y</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">R</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span> <span class="n">A</span><span class="o">=</span><span class="mi">100</span><span class="p">;</span> <span class="n">B</span><span class="o">=</span><span class="mi">200</span>
   <span class="n">call</span> <span class="n">sector</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">R</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="o">-</span><span class="mf">4.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="s2">&quot;100 to 200 deg.&quot;</span><span class="p">)</span>

   <span class="n">call</span> <span class="n">polyhatch</span><span class="p">(</span><span class="o">.</span><span class="n">true</span><span class="o">.</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">hatchpitch</span><span class="p">(</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">2.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">hatchang</span><span class="p">(</span><span class="mf">90.0</span><span class="p">)</span>

   <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_MAGENTA</span><span class="p">)</span>
   <span class="n">X</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span> <span class="n">Y</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">R</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span> <span class="n">A</span><span class="o">=-</span><span class="mi">30</span><span class="p">;</span> <span class="n">B</span><span class="o">=</span><span class="mi">30</span>
   <span class="n">call</span> <span class="n">sector</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">R</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="o">-</span><span class="mf">4.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="s2">&quot;-30 to 30 deg.&quot;</span><span class="p">)</span>

   <span class="n">call</span> <span class="n">hatchang</span><span class="p">(</span><span class="mf">30.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_CYAN</span><span class="p">)</span>
   <span class="n">X</span><span class="o">=</span><span class="mi">20</span><span class="p">;</span> <span class="n">Y</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">R</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span> <span class="n">A</span><span class="o">=</span><span class="mi">45</span><span class="p">;</span> <span class="n">B</span><span class="o">=-</span><span class="mi">45</span>
   <span class="n">call</span> <span class="n">sector</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">R</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="s2">&quot; 45 to -45 deg.&quot;</span><span class="p">)</span>

   <span class="n">key</span><span class="o">=</span><span class="n">getkey</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">vexit</span><span class="p">()</span>
<span class="n">end</span> <span class="n">program</span> <span class="n">demo_sector</span>
</code></pre></div>

<h2 id="name_37">NAME</h2>
<div class="codehilite"><pre><span></span><code>circle(3f) - [M_draw:ARCS] Draw a circle.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_36">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine circle(x, y, radius)
     real,intent(in) :: x
     real,intent(in) :: y
     real,intent(in) :: radius
</code></pre></div>

<h2 id="description_36">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="n">Draw</span> <span class="n">a</span> <span class="n">circle</span><span class="p">.</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="k">and</span> <span class="n">radius</span> <span class="n">are</span> <span class="n">values</span> <span class="n">in</span> <span class="n">world</span> <span class="n">units</span><span class="p">.</span>

<span class="n">Draw</span> <span class="n">a</span> <span class="n">circle</span> <span class="n">using</span> <span class="n">current</span> <span class="n">line</span> <span class="n">width</span> <span class="k">and</span> <span class="n">color</span>

<span class="n">NOTE</span>

<span class="n">circles</span> <span class="n">are</span> <span class="n">regarded</span> <span class="n">as</span> <span class="n">polygons</span><span class="p">,</span> <span class="n">so</span> <span class="k">if</span> <span class="n">polyfill</span> <span class="k">or</span> <span class="n">polyhatch</span> <span class="n">has</span> <span class="n">been</span>
<span class="n">called</span> <span class="n">with</span> <span class="p">.</span><span class="n">true</span><span class="p">.,</span> <span class="n">the</span> <span class="n">circle</span> <span class="n">will</span> <span class="n">be</span> <span class="n">filled</span> <span class="k">or</span> <span class="n">hatched</span> <span class="n">accordingly</span><span class="p">.</span>
</code></pre></div>

<h2 id="options_8">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">X</span>,<span class="nv">Y</span>        <span class="nv">Coordinates</span> <span class="k">for</span> <span class="nv">the</span> <span class="nv">center</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">circle</span>
<span class="nv">RADIUS</span>     <span class="nv">Radius</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">circle</span>
</code></pre></div>

<h2 id="example_22">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_circle</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
   <span class="nv">implicit</span> <span class="nv">none</span>
   <span class="nv">real</span> :: <span class="nv">b</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">5</span>
   <span class="nv">real</span> :: <span class="nv">R</span><span class="o">=</span><span class="mi">5</span>
   <span class="nv">integer</span> :: <span class="nv">ipaws</span>
<span class="o">!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">drawing</span> <span class="nv">surface</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">1000</span>,<span class="mi">200</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="o">-</span><span class="mi">25</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">b</span>,<span class="mi">25</span>.<span class="mi">0</span><span class="o">+</span><span class="nv">b</span>,<span class="o">-</span><span class="nv">R</span><span class="o">-</span><span class="nv">b</span>,<span class="nv">R</span><span class="o">+</span><span class="nv">b</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">200</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_CYAN</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
<span class="o">!</span> <span class="nv">draw</span> <span class="nv">circles</span> <span class="nv">with</span> <span class="nv">hatching</span> <span class="nv">and</span> <span class="nv">fill</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="o">-</span><span class="mi">20</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>, <span class="nv">R</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="o">-</span><span class="mi">10</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>, <span class="nv">R</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="nv">R</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">20</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">polyhatch</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
   <span class="k">call</span> <span class="nl">hatchpitch</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_MAGENTA</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">10</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="nv">R</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">layer</span> <span class="nv">calls</span> <span class="nv">to</span> <span class="nv">get</span> <span class="nv">a</span> <span class="nv">filled</span> <span class="nv">crosshatched</span> <span class="nv">circle</span>
<span class="o">!</span> <span class="nv">first</span> <span class="nv">a</span> <span class="nv">solid</span> <span class="nv">colored</span> <span class="nv">circle</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_YELLOW</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
   <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">20</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="nv">R</span><span class="ss">)</span>

<span class="o">!</span> <span class="nv">draw</span> <span class="nv">hatch</span> <span class="nv">lines</span> <span class="nv">at</span> <span class="mi">45</span> <span class="nv">degrees</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">80</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">polyhatch</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
   <span class="k">call</span> <span class="nl">hatchpitch</span><span class="ss">(</span><span class="mi">2</span>.<span class="mi">0</span><span class="o">/</span><span class="mi">3</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">hatchang</span><span class="ss">(</span><span class="mi">45</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">20</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="nv">R</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">draw</span> <span class="nv">hatch</span> <span class="nv">lines</span> <span class="nv">at</span> <span class="o">-</span><span class="mi">45</span> <span class="nv">degrees</span>
   <span class="k">call</span> <span class="nl">hatchang</span><span class="ss">(</span><span class="o">-</span><span class="mi">45</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">20</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="nv">R</span><span class="ss">)</span>

<span class="o">!</span> <span class="nv">outline</span> <span class="nv">circle</span> <span class="nv">with</span> <span class="nv">a</span> <span class="nv">thick</span> <span class="nv">border</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">160</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">polyhatch</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>
   <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">20</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="nv">R</span><span class="ss">)</span>

   <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
<span class="o">!</span> <span class="k">exit</span> <span class="nv">graphics</span> <span class="nv">mode</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_circle</span>
</code></pre></div>

<h2 id="name_38">NAME</h2>
<div class="codehilite"><pre><span></span><code>point(3f) - [M_draw:POINT] Draw a point at x, y, z
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_37">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine point(x, y, z)
     real,intent(in) :: x, y, z
</code></pre></div>

<h2 id="description_37">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Draw</span> <span class="nv">a</span> <span class="nv">point</span> <span class="nv">at</span> <span class="nv">x</span>, <span class="nv">y</span>, <span class="nv">z</span>. <span class="nv">The</span> <span class="nv">size</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">point</span> <span class="nv">is</span> <span class="nv">not</span> <span class="nv">affected</span> <span class="nv">by</span>
<span class="nv">perspective</span>. <span class="nv">Draw</span> <span class="nv">a</span> <span class="nv">polygon</span> <span class="k">if</span> <span class="nv">you</span> <span class="nv">want</span> <span class="nv">perspective</span> <span class="nv">to</span> <span class="nv">be</span> <span class="nv">applied</span>.
<span class="nv">The</span> <span class="nv">size</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">point</span> <span class="nv">is</span> <span class="nv">controlled</span> <span class="nv">by</span> <span class="nv">the</span> <span class="nv">current</span> <span class="nv">linewidth</span>.
</code></pre></div>

<h2 id="example_23">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="n">program</span> <span class="n">demo_point</span>
<span class="n">use</span> <span class="n">M_draw</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="p">:</span> <span class="n">D_BLACK</span><span class="p">,</span>   <span class="n">D_WHITE</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="p">:</span> <span class="n">D_RED</span><span class="p">,</span>     <span class="n">D_GREEN</span><span class="p">,</span>    <span class="n">D_BLUE</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="p">:</span> <span class="n">D_YELLOW</span><span class="p">,</span>  <span class="n">D_MAGENTA</span><span class="p">,</span>  <span class="n">D_CYAN</span>
<span class="n">implicit</span> <span class="n">none</span>
<span class="n">integer</span> <span class="p">::</span> <span class="n">i</span>
<span class="n">integer</span> <span class="p">::</span> <span class="n">ikey</span>
   <span class="n">call</span> <span class="n">prefsize</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">vinit</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_BLACK</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">clear</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">page</span><span class="p">(</span><span class="o">-</span><span class="mf">25.0</span><span class="p">,</span> <span class="mf">25.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">)</span>

   <span class="o">!</span> <span class="n">draw</span> <span class="n">points</span> <span class="n">using</span> <span class="n">various</span> <span class="n">linewidths</span> <span class="ow">and</span> <span class="n">colors</span>
   <span class="n">do</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">300</span>
      <span class="n">call</span> <span class="n">randpoint</span><span class="p">()</span>
   <span class="n">enddo</span>

   <span class="n">ikey</span><span class="o">=</span><span class="n">getkey</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">vexit</span><span class="p">()</span>

<span class="n">contains</span>
   <span class="n">subroutine</span> <span class="n">randpoint</span><span class="p">()</span>
      <span class="n">real</span> <span class="p">::</span> <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span>
      <span class="n">call</span> <span class="n">random_number</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">random_number</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="nb nb-Type">int</span><span class="p">(</span><span class="n">r1</span><span class="o">*</span><span class="mi">500</span><span class="o">+</span><span class="mi">200</span><span class="p">))</span>
      <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">nint</span><span class="p">(</span><span class="n">r2</span><span class="o">*</span><span class="mi">7</span><span class="p">))</span>
      <span class="n">call</span> <span class="n">point</span><span class="p">(</span><span class="n">r1</span><span class="o">*</span><span class="mf">50.0</span><span class="o">-</span><span class="mf">25.0</span><span class="p">,</span><span class="n">r2</span><span class="o">*</span><span class="mf">10.0</span><span class="o">-</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)</span>
   <span class="n">end</span> <span class="n">subroutine</span> <span class="n">randpoint</span>

<span class="n">end</span> <span class="n">program</span> <span class="n">demo_point</span>
</code></pre></div>

<h2 id="name_39">NAME</h2>
<div class="codehilite"><pre><span></span><code>point2(3f) - [M_draw:POINT] Draw a point at x, y.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_38">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine point2(x, y)
     real,intent(in) :: x, y
</code></pre></div>

<h2 id="description_38">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Draw a point at x, y. Points are device-dependent and may not appear
at all. Generally points are drawn with the current color as a circle
with a diameter equal to the current linewidth.
</code></pre></div>

<h2 id="example_24">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_point2</span>
<span class="nv">use</span> :: <span class="nv">M_draw</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">integer</span> :: <span class="nv">i</span>
<span class="nv">integer</span> :: <span class="nv">ipaws</span>
<span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">300</span>,<span class="mi">300</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
<span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">20</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">20</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_MAGENTA</span><span class="ss">)</span>
<span class="k">do</span> <span class="nv">i</span><span class="o">=</span><span class="mi">1</span>,<span class="mi">20</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">20</span><span class="o">*</span><span class="nv">i</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">point2</span><span class="ss">(</span><span class="nv">real</span><span class="ss">(</span><span class="nv">i</span><span class="ss">)</span>,<span class="nv">real</span><span class="ss">(</span><span class="nv">i</span><span class="ss">))</span>
<span class="nv">enddo</span>
<span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_point2</span>
</code></pre></div>

<h2 id="name_40">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">curvebasis</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="o">-</span> [<span class="nv">M_draw</span>:<span class="nv">CURVE</span>] <span class="nv">Define</span> <span class="nv">a</span> <span class="nv">basis</span> <span class="nv">matrix</span> <span class="k">for</span> <span class="nv">a</span> <span class="nv">curve</span>.
<span class="ss">(</span><span class="nv">LICENSE</span>:<span class="nv">PD</span><span class="ss">)</span>
</code></pre></div>

<h2 id="synopsis_39">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine curvebasis(basis)
      real,intent(in) :: basis(4,4)
</code></pre></div>

<h2 id="description_39">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Define</span> <span class="nv">a</span> <span class="nv">basis</span> <span class="nv">matrix</span> <span class="k">for</span> <span class="nv">a</span> <span class="nv">curve</span>.
</code></pre></div>

<h2 id="name_41">NAME</h2>
<div class="codehilite"><pre><span></span><code>curveprecision(3f) - [M_draw:CURVE] Define number of line segments used to draw a curve.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_40">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine curveprecision(nsegs)
      integer nsegs
</code></pre></div>

<h2 id="description_40">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Define the number of line segments used to draw a curve.
</code></pre></div>

<h2 id="name_42">NAME</h2>
<div class="codehilite"><pre><span></span><code>rcurve(3f) - [M_draw:CURVE] Draw a rational curve.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_41">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine rcurve(geom)
      real geom(4,4)
</code></pre></div>

<h2 id="description_41">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Draw a rational curve.
</code></pre></div>

<h2 id="name_43">NAME</h2>
<div class="codehilite"><pre><span></span><code>curve(3f) - [M_draw:CURVE] Draw a curve.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_42">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>subroutine curve(geom)
real geom(3,4)
</code></pre></div>

<h2 id="description_42">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Draw a curve.
</code></pre></div>

<h2 id="example_25">EXAMPLE</h2>
<p>Sample Program:</p>
<div class="codehilite"><pre><span></span><code><span class="n">program</span> <span class="n">demo_curve</span>
<span class="o">!</span>
<span class="o">!</span>      <span class="n">using</span> <span class="n">curves</span>
<span class="o">!</span>
<span class="n">use</span> <span class="n">M_draw</span>

<span class="n">integer</span> <span class="n">i</span>
<span class="n">character</span><span class="p">(</span><span class="n">len</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span> <span class="p">::</span> <span class="n">buf</span>
<span class="n">real</span> <span class="n">bezier</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">cardinal</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">bspline</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">real</span> <span class="n">geom1</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">geom2</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">curve</span> <span class="n">basis</span> <span class="n">types</span>
<span class="o">!</span>
<span class="n">data</span> <span class="n">bezier</span> <span class="o">/</span>                                            <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>   <span class="mf">3.0</span><span class="p">,</span>    <span class="o">-</span><span class="mf">3.0</span><span class="p">,</span>   <span class="mf">1.0</span><span class="p">,</span>                  <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="mf">3.0</span><span class="p">,</span>    <span class="o">-</span><span class="mf">6.0</span><span class="p">,</span>   <span class="mf">3.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>                  <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="o">-</span><span class="mf">3.0</span><span class="p">,</span>   <span class="mf">3.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>                  <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="mf">1.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">0.0</span>                   <span class="o">&amp;</span>
<span class="o">&amp;</span>  <span class="o">/</span>

<span class="n">data</span> <span class="n">cardinal</span> <span class="o">/</span>                                          <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>   <span class="mf">1.5</span><span class="p">,</span>    <span class="o">-</span><span class="mf">1.5</span><span class="p">,</span>   <span class="mf">0.5</span><span class="p">,</span>                  <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="mf">1.0</span><span class="p">,</span>    <span class="o">-</span><span class="mf">2.5</span><span class="p">,</span>   <span class="mf">2.0</span><span class="p">,</span>    <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>                 <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>   <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">0.5</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>                  <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">1.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">0.0</span>                   <span class="o">&amp;</span>
<span class="o">&amp;</span>  <span class="o">/</span>

<span class="n">data</span> <span class="n">bspline</span> <span class="o">/</span>                                           <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="o">-</span><span class="mf">0.166666</span><span class="p">,</span>     <span class="mf">0.5</span><span class="p">,</span>     <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>     <span class="mf">0.166666</span><span class="p">,</span>   <span class="o">&amp;</span>
<span class="o">&amp;</span>           <span class="mf">0.5</span><span class="p">,</span>         <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>      <span class="mf">0.5</span><span class="p">,</span>     <span class="mf">0.0</span><span class="p">,</span>        <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>          <span class="mf">0.0</span><span class="p">,</span>      <span class="mf">0.5</span><span class="p">,</span>     <span class="mf">0.0</span><span class="p">,</span>        <span class="o">&amp;</span>
<span class="o">&amp;</span>           <span class="mf">0.166666</span><span class="p">,</span>     <span class="mf">0.666666</span><span class="p">,</span> <span class="mf">0.166666</span><span class="p">,</span> <span class="mf">0.0</span>        <span class="o">&amp;</span>
<span class="o">&amp;</span>  <span class="o">/</span>

<span class="o">!</span>
<span class="o">!</span> <span class="n">Geometry</span> <span class="n">matrix</span> <span class="n">to</span> <span class="n">demonstrate</span> <span class="n">basic</span> <span class="n">spline</span> <span class="n">segments</span>
<span class="o">!</span>
<span class="n">data</span> <span class="n">geom1</span> <span class="o">/</span>                      <span class="o">&amp;</span>
<span class="o">&amp;</span>           <span class="o">-</span><span class="mf">180.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>    <span class="o">&amp;</span>
<span class="o">&amp;</span>           <span class="o">-</span><span class="mf">100.0</span><span class="p">,</span> <span class="mf">110.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>   <span class="o">&amp;</span>
<span class="o">&amp;</span>           <span class="o">-</span><span class="mf">100.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">90.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>   <span class="o">&amp;</span>
<span class="o">&amp;</span>           <span class="mf">0.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">,</span> <span class="mf">0.0</span>        <span class="o">&amp;</span>
<span class="o">&amp;</span>  <span class="o">/</span>

<span class="o">!</span>
<span class="o">!</span> <span class="n">Geometry</span> <span class="n">matrix</span> <span class="n">to</span> <span class="n">demonstrate</span> <span class="n">overlapping</span> <span class="n">control</span> <span class="n">points</span> <span class="n">to</span>
<span class="o">!</span> <span class="n">produce</span> <span class="n">continuous</span> <span class="p">(</span><span class="n">Well</span><span class="p">,</span> <span class="n">except</span> <span class="k">for</span> <span class="n">the</span> <span class="n">bezier</span> <span class="n">ones</span><span class="p">)</span> <span class="n">curves</span>
<span class="o">!</span> <span class="n">from</span> <span class="n">spline</span> <span class="n">segments</span>
<span class="o">!</span>
<span class="n">data</span> <span class="n">geom2</span> <span class="o">/</span>                      <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="mf">200.0</span><span class="p">,</span> <span class="mf">480.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>     <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="mf">380.0</span><span class="p">,</span> <span class="mf">180.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>     <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="mf">250.0</span><span class="p">,</span> <span class="mf">430.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>     <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="mf">100.0</span><span class="p">,</span> <span class="mf">130.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>     <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="mf">50.0</span><span class="p">,</span>  <span class="mf">280.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>     <span class="o">&amp;</span>
<span class="o">&amp;</span>          <span class="mf">150.0</span><span class="p">,</span> <span class="mf">380.0</span><span class="p">,</span> <span class="mf">0.0</span>      <span class="o">&amp;</span>
<span class="o">&amp;</span>  <span class="o">/</span>


<span class="nb">print</span><span class="o">*</span><span class="p">,</span><span class="s1">&#39;Enter output device:&#39;</span>
<span class="n">read</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="s1">&#39;(a)&#39;</span><span class="p">,</span><span class="n">iostat</span><span class="o">=</span><span class="n">ios</span><span class="p">)</span> <span class="n">buf</span>
<span class="k">if</span><span class="p">(</span><span class="n">ios</span><span class="o">.</span><span class="n">ne</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span><span class="n">buf</span><span class="o">=</span><span class="s1">&#39; &#39;</span>

<span class="n">call</span> <span class="n">vinit</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span>

<span class="n">call</span> <span class="n">ortho2</span><span class="p">(</span><span class="o">-</span><span class="mf">200.0</span><span class="p">,</span> <span class="mf">400.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">100.0</span><span class="p">,</span> <span class="mf">500.0</span><span class="p">)</span>

<span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_BLACK</span><span class="p">)</span>
<span class="n">call</span> <span class="n">clear</span><span class="p">()</span>

<span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_YELLOW</span><span class="p">)</span>

<span class="n">call</span> <span class="n">textsize</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">label</span> <span class="n">the</span> <span class="n">control</span> <span class="n">points</span> <span class="ow">in</span> <span class="n">geom1</span>
<span class="o">!</span>
<span class="n">do</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span>
   <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="n">geom1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span> <span class="n">geom1</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>
   <span class="n">write</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s1">&#39;(i1)&#39;</span><span class="p">)</span><span class="n">i</span>
   <span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span>
<span class="n">enddo</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">label</span> <span class="n">the</span> <span class="n">control</span> <span class="n">points</span> <span class="ow">in</span> <span class="n">geom2</span>
<span class="o">!</span>
<span class="n">do</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span>
   <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="n">geom2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span> <span class="n">geom2</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>
   <span class="n">write</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s1">&#39;(i1)&#39;</span><span class="p">)</span><span class="n">i</span>
   <span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span>
<span class="n">enddo</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">scale</span> <span class="n">the</span> <span class="n">current</span> <span class="n">font</span> <span class="n">so</span> <span class="n">that</span> <span class="mi">30</span> <span class="n">of</span> <span class="n">the</span> <span class="n">largest</span> <span class="n">characters</span>
<span class="o">!</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">current</span> <span class="n">font</span> <span class="n">will</span> <span class="n">fit</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">region</span> <span class="mi">300</span> <span class="n">world</span> <span class="n">units</span> <span class="n">wide</span><span class="p">,</span>
<span class="o">!</span> <span class="mi">20</span> <span class="n">high</span><span class="o">.</span>
<span class="o">!</span>
<span class="n">call</span> <span class="n">boxfit</span><span class="p">(</span><span class="mf">300.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

<span class="o">!</span>
<span class="o">!</span> <span class="n">set</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">line</span> <span class="n">segments</span> <span class="n">appearing</span> <span class="ow">in</span> <span class="n">each</span> <span class="n">curve</span> <span class="n">to</span> <span class="mi">20</span>
<span class="o">!</span>
<span class="n">call</span> <span class="n">curveprecision</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>

<span class="o">!</span>
<span class="o">!</span> <span class="n">copy</span> <span class="n">the</span> <span class="n">bezier</span> <span class="n">basis</span> <span class="n">matrix</span> <span class="n">into</span> <span class="n">the</span> <span class="n">curve</span> <span class="n">basis</span> <span class="n">matrix</span><span class="o">.</span>
<span class="o">!</span>
<span class="n">call</span> <span class="n">curvebasis</span><span class="p">(</span><span class="n">bezier</span><span class="p">)</span>

<span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_RED</span><span class="p">)</span>

<span class="o">!</span>
<span class="o">!</span> <span class="n">draw</span> <span class="n">a</span> <span class="n">curve</span> <span class="n">using</span> <span class="n">the</span> <span class="n">current</span> <span class="n">basis</span> <span class="n">matrix</span> <span class="p">(</span><span class="n">bezier</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">case</span><span class="p">)</span>
<span class="o">!</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">control</span> <span class="n">points</span> <span class="ow">in</span> <span class="n">geom1</span>
<span class="o">!</span>
<span class="n">call</span> <span class="n">curve</span><span class="p">(</span><span class="n">geom1</span><span class="p">)</span>

<span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="mf">70.0</span><span class="p">,</span> <span class="mf">60.0</span><span class="p">)</span>
<span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="s1">&#39;Bezier Curve Segment&#39;</span><span class="p">)</span>

<span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="o">-</span><span class="mf">190.0</span><span class="p">,</span> <span class="mf">450.0</span><span class="p">)</span>
<span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="s1">&#39;Three overlapping Bezier Curves&#39;</span><span class="p">)</span>

<span class="o">!</span>
<span class="o">!</span> <span class="n">curven</span> <span class="n">draws</span> <span class="n">overlapping</span> <span class="n">curve</span> <span class="n">segments</span> <span class="n">according</span> <span class="n">to</span> <span class="n">geom2</span><span class="p">,</span> <span class="n">the</span>
<span class="o">!</span> <span class="n">number</span> <span class="n">of</span> <span class="n">curve</span> <span class="n">segments</span> <span class="n">drawn</span> <span class="k">is</span> <span class="n">three</span> <span class="n">less</span> <span class="n">than</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span>
<span class="o">!</span> <span class="n">points</span> <span class="n">passed</span><span class="p">,</span> <span class="n">assuming</span> <span class="n">there</span> <span class="n">are</span> <span class="n">a</span> <span class="n">least</span> <span class="n">four</span> <span class="n">points</span> <span class="ow">in</span> <span class="n">the</span>
<span class="o">!</span> <span class="n">geometry</span> <span class="n">matrix</span> <span class="p">(</span><span class="ow">in</span> <span class="n">this</span> <span class="n">case</span> <span class="n">geom2</span><span class="p">)</span><span class="o">.</span> <span class="n">This</span> <span class="n">call</span> <span class="n">will</span> <span class="n">draw</span> <span class="mi">3</span>
<span class="o">!</span> <span class="n">overlapping</span> <span class="n">curve</span> <span class="n">segments</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">current</span> <span class="n">basis</span> <span class="n">matrix</span> <span class="o">-</span> <span class="n">still</span>
<span class="o">!</span> <span class="n">bezier</span><span class="o">.</span>
<span class="o">!</span>
<span class="n">call</span> <span class="n">curven</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">geom2</span><span class="p">)</span>

<span class="n">idum</span><span class="o">=</span><span class="n">getkey</span><span class="p">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nb">load</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">cardinal</span> <span class="n">basis</span> <span class="n">matrix</span>
<span class="o">!</span>
<span class="n">call</span> <span class="n">curvebasis</span><span class="p">(</span><span class="n">cardinal</span><span class="p">)</span>

<span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_MAGENTA</span><span class="p">)</span>

<span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="mf">70.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="s1">&#39;Cardinal Curve Segment&#39;</span><span class="p">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">plot</span> <span class="n">out</span> <span class="n">a</span> <span class="n">curve</span> <span class="n">segment</span> <span class="n">using</span> <span class="n">the</span> <span class="n">cardinal</span> <span class="n">basis</span> <span class="n">matrix</span>
<span class="o">!</span>
<span class="n">call</span> <span class="n">curve</span><span class="p">(</span><span class="n">geom1</span><span class="p">)</span>

<span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="o">-</span><span class="mf">190.0</span><span class="p">,</span> <span class="mf">400.0</span><span class="p">)</span>
<span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="s1">&#39;Three overlapping Cardinal Curves&#39;</span><span class="p">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">now</span> <span class="n">draw</span> <span class="n">a</span> <span class="n">bunch</span> <span class="n">of</span> <span class="n">them</span> <span class="n">again</span><span class="o">.</span>
<span class="o">!</span>
<span class="n">call</span> <span class="n">curven</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">geom2</span><span class="p">)</span>

<span class="n">idum</span><span class="o">=</span><span class="n">getkey</span><span class="p">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">change</span> <span class="n">the</span> <span class="n">basis</span> <span class="n">matrix</span> <span class="n">again</span>
<span class="o">!</span>
<span class="n">call</span> <span class="n">curvebasis</span><span class="p">(</span><span class="n">bspline</span><span class="p">)</span>

<span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_GREEN</span><span class="p">)</span>

<span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="mf">70.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">40.0</span><span class="p">)</span>
<span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="s1">&#39;Bspline Curve Segment&#39;</span><span class="p">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">now</span> <span class="n">draw</span> <span class="n">our</span> <span class="n">curve</span> <span class="n">segment</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">new</span> <span class="n">basis</span><span class="o">...</span>
<span class="o">!</span>
<span class="n">call</span> <span class="n">curve</span><span class="p">(</span><span class="n">geom1</span><span class="p">)</span>

<span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="o">-</span><span class="mf">190.0</span><span class="p">,</span> <span class="mf">350.0</span><span class="p">)</span>
<span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="s1">&#39;Three overlapping Bspline Curves&#39;</span><span class="p">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="o">...</span><span class="ow">and</span> <span class="n">do</span> <span class="n">some</span> <span class="n">overlapping</span> <span class="n">ones</span>
<span class="o">!</span>
<span class="n">call</span> <span class="n">curven</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">geom2</span><span class="p">)</span>

<span class="n">idum</span><span class="o">=</span><span class="n">getkey</span><span class="p">()</span>

<span class="n">call</span> <span class="n">vexit</span><span class="p">()</span>

<span class="n">end</span> <span class="n">program</span> <span class="n">demo_curve</span>
</code></pre></div>

<h2 id="name_44">NAME</h2>
<div class="codehilite"><pre><span></span><code>curven(3f) - [M_draw:CURVE] Draw n-3 overlapping curve segments. Note: n must be at least 4.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_43">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine curven(n, geom)
      integer n
      real geom(3,n)
</code></pre></div>

<h2 id="description_43">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Draw n-3 overlapping curve segments. Note: n must be at least 4.
</code></pre></div>

<h2 id="name_45">NAME</h2>
<div class="codehilite"><pre><span></span><code>font(3f) - [M_draw:TEXT] Set the current font by name
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_44">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine font(fontname)
     character(len=*),intent(in) :: fontname
</code></pre></div>

<h2 id="description_44">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="n">Set</span> <span class="n">the</span> <span class="n">current</span> <span class="n">font</span><span class="o">.</span>

<span class="n">M_draw</span> <span class="n">supports</span> <span class="n">hardware</span> <span class="ow">and</span> <span class="n">software</span> <span class="n">fonts</span><span class="o">.</span> <span class="n">The</span> <span class="n">software</span> <span class="n">fonts</span> <span class="n">are</span> <span class="n">based</span>
<span class="n">on</span> <span class="n">the</span> <span class="n">character</span> <span class="n">set</span> <span class="n">digitized</span> <span class="n">by</span> <span class="n">Dr</span> <span class="n">Allen</span> <span class="n">V</span><span class="o">.</span> <span class="n">Hershey</span> <span class="k">while</span> <span class="n">working</span> <span class="n">at</span>
<span class="n">the</span> <span class="n">U</span><span class="o">.</span> <span class="n">S</span><span class="o">.</span> <span class="n">National</span> <span class="n">Bureau</span> <span class="n">of</span> <span class="n">Standards</span><span class="o">.</span> <span class="n">Exactly</span> <span class="n">what</span> <span class="n">hardware</span> <span class="n">fonts</span> <span class="n">are</span>
<span class="n">supported</span> <span class="n">depends</span> <span class="n">on</span> <span class="n">the</span> <span class="n">device</span><span class="p">,</span> <span class="n">but</span> <span class="n">it</span> <span class="k">is</span> <span class="n">guaranteed</span> <span class="n">that</span> <span class="n">the</span> <span class="n">names</span>
<span class="s2">&quot;large&quot;</span> <span class="ow">and</span> <span class="s2">&quot;small&quot;</span> <span class="n">will</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">something</span> <span class="n">readable</span><span class="o">.</span> <span class="n">For</span> <span class="n">X11</span> <span class="n">displays</span>
<span class="n">the</span> <span class="n">default</span> <span class="n">large</span> <span class="ow">and</span> <span class="n">small</span> <span class="n">fonts</span> <span class="n">used</span> <span class="n">by</span> <span class="n">the</span> <span class="n">program</span> <span class="n">can</span> <span class="n">be</span> <span class="n">overridden</span>
<span class="n">by</span> <span class="n">placing</span> <span class="n">the</span> <span class="n">following</span> <span class="n">defaults</span> <span class="ow">in</span> <span class="n">the</span> <span class="o">~/.</span><span class="n">Xdefaults</span> <span class="n">file</span><span class="p">:</span>

  <span class="n">draw</span><span class="o">.</span><span class="n">smallfont</span><span class="p">:</span> <span class="n">X11</span><span class="o">-</span><span class="n">font</span><span class="o">-</span><span class="n">name</span>
  <span class="n">draw</span><span class="o">.</span><span class="n">largefont</span><span class="p">:</span> <span class="n">X11</span><span class="o">-</span><span class="n">font</span><span class="o">-</span><span class="n">name</span>

<span class="n">It</span> <span class="k">is</span> <span class="n">noted</span> <span class="n">here</span> <span class="n">that</span> <span class="n">hardware</span> <span class="n">text</span> <span class="k">is</span> <span class="n">always</span> <span class="n">assumed</span> <span class="n">to</span> <span class="n">be</span> <span class="n">drawn</span>
<span class="n">parallel</span> <span class="n">to</span> <span class="n">the</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="n">plane</span><span class="p">,</span> <span class="n">using</span> <span class="n">whatever</span> <span class="n">the</span> <span class="n">current</span> <span class="n">z</span> <span class="n">coordinate</span>
<span class="k">is</span><span class="o">.</span> <span class="n">The</span> <span class="n">following</span> <span class="n">software</span> <span class="n">fonts</span> <span class="n">are</span> <span class="n">supported</span><span class="p">:</span>

   <span class="n">astrology</span>       <span class="n">cursive</span>         <span class="n">cyrillic</span>        <span class="n">futura</span><span class="o">.</span><span class="n">l</span>
   <span class="n">futura</span><span class="o">.</span><span class="n">m</span>        <span class="n">gothic</span><span class="o">.</span><span class="n">eng</span>      <span class="n">gothic</span><span class="o">.</span><span class="n">ger</span>      <span class="n">gothic</span><span class="o">.</span><span class="n">ita</span>
   <span class="n">greek</span>           <span class="n">markers</span>         <span class="n">math</span><span class="o">.</span><span class="n">low</span>        <span class="n">math</span><span class="o">.</span><span class="n">upp</span>
   <span class="n">meteorology</span>     <span class="n">music</span>           <span class="n">script</span>          <span class="n">symbolic</span>
   <span class="n">times</span><span class="o">.</span><span class="n">g</span>         <span class="n">times</span><span class="o">.</span><span class="n">i</span>         <span class="n">times</span><span class="o">.</span><span class="n">ib</span>        <span class="n">times</span><span class="o">.</span><span class="n">r</span>
   <span class="n">times</span><span class="o">.</span><span class="n">rb</span>        <span class="n">japanese</span>

<span class="n">A</span> <span class="n">markers</span> <span class="n">font</span> <span class="s2">&quot;markers&quot;</span> <span class="k">is</span> <span class="n">also</span> <span class="n">provided</span> <span class="k">for</span> <span class="n">doing</span> <span class="n">markers</span> <span class="o">-</span> <span class="n">you</span> <span class="n">need</span>
<span class="n">to</span> <span class="n">have</span> <span class="n">centertext</span> <span class="n">mode</span> <span class="n">on</span> <span class="k">for</span> <span class="n">this</span> <span class="n">to</span> <span class="n">give</span> <span class="n">sensible</span> <span class="n">results</span> <span class="n">when</span> <span class="n">placing</span>
<span class="n">the</span> <span class="n">markers</span><span class="o">.</span>

<span class="n">If</span> <span class="n">the</span> <span class="n">environment</span> <span class="n">variable</span> <span class="s2">&quot;M_DRAW_FONTPATH&quot;</span> <span class="k">is</span> <span class="n">set</span> <span class="n">M_draw</span> <span class="n">looks</span> <span class="k">for</span> <span class="n">the</span> <span class="n">software</span>
<span class="n">fonts</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">directory</span> <span class="n">given</span> <span class="n">by</span> <span class="n">this</span> <span class="n">value</span><span class="o">.</span>

<span class="n">WHEN</span> <span class="n">ASKED</span> <span class="n">FOR</span> <span class="n">NON</span><span class="o">-</span><span class="n">EXISTENT</span> <span class="n">FONT</span> <span class="n">NAMES</span><span class="p">,</span> <span class="n">FONT</span><span class="p">(</span><span class="mi">3</span><span class="n">f</span><span class="p">)</span> <span class="n">STOPS</span> <span class="n">THE</span> <span class="n">PROGRAM</span><span class="o">.</span>
</code></pre></div>

<h2 id="example_26">EXAMPLE</h2>
<p>Sample Program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_font</span>
<span class="nv">use</span> :: <span class="nv">M_draw</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
<span class="nv">real</span>    :: <span class="nv">left</span>
<span class="nv">real</span>    :: <span class="nv">baseline</span><span class="o">=</span><span class="mi">80</span>.<span class="mi">0</span>
<span class="nv">integer</span> :: <span class="nv">icolor</span><span class="o">=</span><span class="mi">1</span>
<span class="nv">integer</span> :: <span class="nv">ipaws</span>
   <span class="o">!!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">drawing</span> <span class="nv">surface</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">400</span>, <span class="mi">400</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="o">-</span><span class="mi">100</span>.<span class="mi">0</span>, <span class="mi">100</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">100</span>.<span class="mi">0</span>, <span class="mi">100</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">10</span>.<span class="mi">0</span>, <span class="mi">10</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="o">!!</span> <span class="nv">place</span> <span class="nv">a</span> <span class="nv">vertical</span> <span class="nv">line</span> <span class="nv">along</span> <span class="nv">the</span> <span class="nv">edge</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">90</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">90</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="o">-</span><span class="mi">90</span>.<span class="mi">0</span>, <span class="mi">90</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="o">!!</span> <span class="nv">make</span> <span class="nv">a</span> <span class="nv">centered</span> <span class="nv">title</span> <span class="nv">at</span> <span class="nv">top</span> <span class="nv">a</span> <span class="nv">bit</span> <span class="nv">bolder</span> <span class="nv">and</span> <span class="nv">bigger</span>
   <span class="k">call</span> <span class="nl">xcentertext</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">13</span>.<span class="mi">0</span>, <span class="mi">13</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">90</span><span class="ss">)</span>
   <span class="nv">left</span><span class="o">=</span><span class="mi">0</span>
   <span class="k">call</span> <span class="nl">nextline</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">Font Samples</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="o">!!</span> <span class="nv">print</span> <span class="nv">the</span> <span class="nv">font</span> <span class="nv">samples</span>
   <span class="nv">left</span><span class="o">=-</span><span class="mi">90</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">40</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">10</span>.<span class="mi">0</span>, <span class="mi">10</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">centertext</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>
   <span class="nv">icolor</span><span class="o">=</span><span class="nv">icolor</span><span class="o">-</span><span class="mi">1</span>
   <span class="k">call</span> <span class="nl">nextline</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">DEFAULT (ie. futura.l)</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="nv">icolor</span><span class="o">=</span><span class="nv">icolor</span><span class="o">-</span><span class="mi">1</span>
   <span class="k">call</span> <span class="nl">nextline</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">now call font(3f) ...</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">nextline</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">A nice SIMPLEX font, futura.l</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">nextline</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">A COMPLEX font, times.r</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">nextline</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">ITALIC letters,  times.i</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">nextline</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">DUPLEX is in between, futura.m</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="nv">contains</span>
<span class="nv">subroutine</span> <span class="nv">nextline</span><span class="ss">(</span><span class="nv">string</span><span class="ss">)</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=*</span><span class="ss">)</span> :: <span class="nv">string</span>
<span class="o">!!</span> <span class="nv">reduce</span> <span class="nv">some</span> <span class="nv">duplicate</span> <span class="nv">code</span><span class="c1">; very specific to this EXAMPLE</span>
   <span class="nv">integer</span> :: <span class="nv">iend</span>
   <span class="nv">iend</span><span class="o">=</span><span class="nv">index</span><span class="ss">(</span><span class="nv">string</span>,<span class="s1">&#39;</span><span class="s">,</span><span class="s1">&#39;</span><span class="ss">)</span>  <span class="o">!</span> <span class="k">if</span> <span class="nv">comma</span>, <span class="nv">assume</span> <span class="nv">font</span> <span class="nv">name</span> <span class="nv">found</span>
   <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">FONT=</span><span class="s1">&#39;</span>,<span class="nv">string</span><span class="ss">(</span><span class="nv">iend</span><span class="o">+</span><span class="mi">1</span>:<span class="ss">)</span>,<span class="nv">iend</span>
   <span class="k">if</span><span class="ss">(</span><span class="nv">iend</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="nv">trim</span><span class="ss">(</span><span class="nv">adjustl</span><span class="ss">(</span><span class="nv">string</span><span class="ss">(</span><span class="nv">iend</span><span class="o">+</span><span class="mi">1</span>:<span class="ss">))))</span> <span class="o">!</span> <span class="nv">change</span> <span class="nv">font</span>
   <span class="nv">icolor</span><span class="o">=</span><span class="nv">icolor</span><span class="o">+</span><span class="mi">1</span>         <span class="o">!</span> <span class="nv">set</span> <span class="nv">pen</span> <span class="nv">color</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">icolor</span><span class="ss">)</span>
   <span class="nv">baseline</span><span class="o">=</span><span class="nv">baseline</span><span class="o">-</span><span class="mi">20</span>    <span class="o">!</span> <span class="nv">move</span> <span class="nv">down</span> <span class="nv">before</span> <span class="nv">drawing</span> <span class="nv">line</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">left</span>, <span class="nv">baseline</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="nv">string</span><span class="ss">)</span>    <span class="o">!</span> <span class="nv">draw</span> <span class="nv">string</span>
<span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">nextline</span>

<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_font</span>
</code></pre></div>

<h2 id="name_46">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">numchars</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="o">-</span> [<span class="nv">M_draw</span>:<span class="nv">TEXT</span>] <span class="k">Return</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">characters</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">current</span> <span class="nv">SOFTWARE</span> <span class="nv">font</span>.
<span class="ss">(</span><span class="nv">LICENSE</span>:<span class="nv">PD</span><span class="ss">)</span>
</code></pre></div>

<h2 id="synopsis_45">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     integer function numchars()
</code></pre></div>

<h2 id="description_45">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="k">Return</span> <span class="nv">the</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">characters</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">current</span> <span class="nv">font</span>. <span class="nv">Applicable</span> <span class="nv">only</span> <span class="nv">to</span>
<span class="nv">software</span> <span class="nv">fonts</span>.
</code></pre></div>

<h2 id="name_47">NAME</h2>
<div class="codehilite"><pre><span></span><code>textsize(3f) - [M_draw:TEXT] Set text size of a character in the current SOFTWARE font in world units.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_46">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine textsize(width, height)
     real,intent(in) :: width
     real,intent(in) :: height
</code></pre></div>

<h2 id="description_46">DESCRIPTION</h2>
<p>Set the maximum size of a character in the current font. Width and height
 are values in world units. This applies to software text, but may not apply
 to hardware fonts depending upon the output device. This must
 be done after the font being scaled is loaded. To keep text of different
 sizes aligned along the same baseline not that you typically need to
 subtract the descender height from the Y position</p>
<h2 id="example_27">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_textsize</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">integer</span> :: <span class="nv">i</span>,<span class="nv">ii</span>
<span class="nv">integer</span> :: <span class="nv">ipaws</span>
   <span class="o">!!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">long</span> <span class="nv">bar</span> <span class="nv">as</span> <span class="nv">plotting</span> <span class="nv">area</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">900</span>,<span class="mi">150</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
   <span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">30</span>.<span class="mi">0</span>, <span class="mi">30</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">times.r</span><span class="s1">&#39;</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">23</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">4</span>.<span class="mi">5</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">2</span>.<span class="mi">0</span>,<span class="mi">2</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">27</span>.<span class="mi">5</span>,<span class="o">-</span><span class="mi">3</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span> <span class="mi">27</span>.<span class="mi">5</span>,<span class="o">-</span><span class="mi">3</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">27</span>.<span class="mi">5</span>,<span class="o">-</span><span class="mi">3</span>.<span class="mi">0</span><span class="ss">)</span>

   <span class="k">do</span> <span class="nv">i</span><span class="o">=</span><span class="mi">1</span>,<span class="mi">7</span>
      <span class="nv">ii</span><span class="o">=</span><span class="nv">nint</span><span class="ss">((</span><span class="nv">i</span><span class="o">*</span><span class="mi">20</span><span class="ss">)</span><span class="o">*</span><span class="mi">0</span>.<span class="mi">30</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="nv">nint</span><span class="ss">(</span><span class="nv">ii</span><span class="o">*</span><span class="mi">2</span>.<span class="mi">35</span><span class="ss">))</span>
      <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="nv">real</span><span class="ss">(</span><span class="nv">i</span><span class="ss">)</span>,<span class="nv">real</span><span class="ss">(</span><span class="nv">i</span><span class="ss">))</span>
      <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_MAGENTA</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">aA</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="nv">enddo</span>

   <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>

   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>

<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_textsize</span>
</code></pre></div>

<h2 id="name_48">NAME</h2>
<div class="codehilite"><pre><span></span><code>textang(3f) - [M_draw:TEXT] Set the SOFTWARE text angle.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_47">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine textang(ang)
     real,intent(in) :: ang
</code></pre></div>

<h2 id="description_47">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Set the text angle. This angles strings and chars. This routine only
affects software text. Angle is in degrees
</code></pre></div>

<h2 id="options_9">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code>ANG   The angle in degrees to draw text with when using drawstr(3f).
      Angles are measured counterclockwise with zero degrees at the horizontal
      line to the right of the original.
</code></pre></div>

<h2 id="example_28">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_textang</span>
<span class="nv">use</span> :: <span class="nv">M_draw</span>
<span class="nv">use</span> :: <span class="nv">M_units</span>, <span class="nv">only</span> : <span class="nv">cosd</span>, <span class="nv">sind</span>
<span class="nv">integer</span> :: <span class="nv">ipaws</span>

<span class="o">!!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">drawing</span> <span class="nv">environment</span>
<span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">600</span>,<span class="mi">600</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
<span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">100</span>.<span class="mi">0</span>,<span class="mi">100</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">100</span>.<span class="mi">0</span>,<span class="mi">100</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">7</span>.<span class="mi">0</span>,<span class="mi">7</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">20</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>

<span class="k">do</span> <span class="nv">i</span><span class="o">=</span><span class="mi">1</span>,<span class="mi">30</span>
   <span class="o">!!</span> <span class="nv">draw</span> <span class="nv">radial</span> <span class="nv">lines</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="mi">100</span>.<span class="mi">0</span><span class="o">*</span><span class="nv">cosd</span><span class="ss">(</span><span class="nv">i</span><span class="o">*</span><span class="mi">12</span><span class="ss">)</span>,<span class="mi">100</span>.<span class="mi">0</span><span class="o">*</span><span class="nv">sind</span><span class="ss">(</span><span class="nv">i</span><span class="o">*</span><span class="mi">12</span><span class="ss">))</span>
   <span class="o">!!</span> <span class="nv">draw</span> <span class="nv">rotated</span> <span class="nv">text</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">30</span>.<span class="mi">0</span><span class="o">*</span><span class="nv">cosd</span><span class="ss">(</span><span class="nv">i</span><span class="o">*</span><span class="mi">12</span><span class="ss">)</span>,<span class="mi">30</span>.<span class="mi">0</span><span class="o">*</span><span class="nv">sind</span><span class="ss">(</span><span class="nv">i</span><span class="o">*</span><span class="mi">12</span><span class="ss">))</span>
   <span class="k">call</span> <span class="nl">textang</span><span class="ss">(</span><span class="nv">i</span><span class="o">*</span><span class="mi">12</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">angled text</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="nv">enddo</span>

<span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>

<span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>

<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_textang</span>
</code></pre></div>

<h2 id="name_49">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">fixedwidth</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="o">-</span> [<span class="nv">M_draw</span>:<span class="nv">TEXT</span>] <span class="nv">Turns</span> <span class="nv">fixedwidth</span> <span class="nv">mode</span> <span class="nv">on</span> <span class="nv">or</span> <span class="nv">off</span> <span class="k">for</span> <span class="nv">SOFTWARE</span> <span class="nv">fonts</span>.
<span class="ss">(</span><span class="nv">LICENSE</span>:<span class="nv">PD</span><span class="ss">)</span>
</code></pre></div>

<h2 id="synopsis_48">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine fixedwidth(onoff)
     logical onoff
</code></pre></div>

<h2 id="description_48">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Turns</span> <span class="nv">fixedwidth</span> <span class="nv">text</span> <span class="nv">on</span> <span class="nv">or</span> <span class="nv">off</span>. .<span class="nv">TRUE</span>. <span class="nv">causes</span> <span class="nv">all</span> <span class="nv">text</span> <span class="nv">to</span>
<span class="nv">be</span> <span class="nv">printed</span> <span class="nv">with</span> <span class="nv">a</span> <span class="nv">fixed</span> <span class="nv">width</span> <span class="k">for</span> <span class="nv">each</span> <span class="nv">character</span>. <span class="nv">Otherwise</span>, <span class="nv">the</span> <span class="nv">text</span>
<span class="nv">is</span> <span class="nv">spaced</span> <span class="nv">proportionally</span>, <span class="nv">where</span> <span class="nv">each</span> <span class="nv">character</span> <span class="nv">has</span> <span class="nv">a</span> <span class="nv">unique</span> <span class="nv">width</span> <span class="nv">less</span>
<span class="nv">than</span> <span class="nv">or</span> <span class="nv">equal</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">current</span> <span class="nv">fixed</span> <span class="nv">font</span> <span class="nv">width</span>. <span class="nv">This</span> <span class="nv">routine</span> <span class="nv">only</span> <span class="nv">affects</span>
<span class="nv">software</span> <span class="nv">text</span>.

<span class="nv">The</span> <span class="nv">default</span> <span class="nv">at</span> <span class="nv">program</span> <span class="nv">initialization</span> <span class="nv">is</span> <span class="nv">fixedwidth</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>
</code></pre></div>

<h2 id="example_29">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_fixedwidth</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>
   <span class="nv">implicit</span> <span class="nv">none</span>
   <span class="nv">real</span>,<span class="nv">parameter</span> :: <span class="nv">x1</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">0</span>,  <span class="nv">x2</span><span class="o">=</span><span class="mi">40</span>.<span class="mi">0</span>,  <span class="nv">y1</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">0</span>,  <span class="nv">y2</span><span class="o">=</span><span class="mi">4</span>.<span class="mi">0</span>
   <span class="nv">real</span>,<span class="nv">parameter</span> :: <span class="nv">scl</span><span class="o">=</span><span class="mi">3</span><span class="o">*</span><span class="mi">0</span>.<span class="mi">7</span>
   <span class="nv">integer</span> :: <span class="nv">idum</span>
<span class="o">!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">display</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">1000</span>,<span class="mi">100</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="nv">x1</span>,<span class="nv">x2</span>,<span class="nv">y1</span>,<span class="nv">y2</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">set</span> <span class="nv">font</span> <span class="nv">appearance</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">200</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">times.rb</span><span class="s2">&quot;</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">draw</span> <span class="nv">a</span> <span class="nv">string</span> <span class="nv">using</span> <span class="nv">proportional</span> <span class="nv">and</span> <span class="nv">fixed</span> <span class="nv">spacing</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">x1</span><span class="o">+</span><span class="mi">0</span>.<span class="mi">3</span>,<span class="nv">y1</span><span class="o">+</span><span class="mi">0</span>.<span class="mi">4</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">8</span><span class="o">*</span><span class="nv">scl</span>,<span class="mi">1</span>.<span class="mi">2</span><span class="o">*</span><span class="nv">scl</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">fixedwidth</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">fixedwidth(.false.)</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">6</span><span class="o">*</span><span class="nv">scl</span>,<span class="mi">1</span>.<span class="mi">2</span><span class="o">*</span><span class="nv">scl</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="mi">2</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">fixedwidth</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s"> fixedwidth(.true.)</span><span class="s2">&quot;</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">wrap</span> <span class="nv">up</span>
   <span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_fixedwidth</span>
</code></pre></div>

<h2 id="name_50">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">centertext</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="o">-</span> [<span class="nv">M_draw</span>:<span class="nv">TEXT</span>] <span class="nv">Turns</span> <span class="nv">centertext</span> <span class="nv">mode</span> <span class="nv">on</span> <span class="nv">or</span> <span class="nv">off</span> <span class="k">for</span> <span class="nv">SOFTWARE</span> <span class="nv">fonts</span>.
<span class="ss">(</span><span class="nv">LICENSE</span>:<span class="nv">PD</span><span class="ss">)</span>
</code></pre></div>

<h2 id="synopsis_49">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine centertext(onoff)
     logical,intent(in) :: onoff
</code></pre></div>

<h2 id="description_49">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Turns centertext text on or off. .TRUE. is on. This centers
strings and chars. This routine only affects software text.
</code></pre></div>

<h2 id="options_10">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code>ONOFF  set centering mode on or off
</code></pre></div>

<h2 id="example_30">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_centertext</span>
<span class="nv">use</span> :: <span class="nv">M_draw</span>
<span class="nv">use</span> :: <span class="nv">M_units</span>, <span class="nv">only</span> : <span class="nv">cosd</span>, <span class="nv">sind</span>
<span class="o">!!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">drawing</span> <span class="nv">environment</span>
<span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">600</span>,<span class="mi">600</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
<span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="mi">300</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="mi">300</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">8</span>.<span class="mi">0</span>,<span class="mi">8</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">30</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>

<span class="nv">x1</span><span class="o">=-</span><span class="mi">150</span>
<span class="nv">y1</span><span class="o">=-</span><span class="mi">150</span>
<span class="k">do</span> <span class="nv">j</span><span class="o">=</span><span class="mi">1</span>,<span class="mi">4</span>
   <span class="nv">select</span> <span class="nv">case</span><span class="ss">(</span><span class="nv">j</span><span class="ss">)</span>
   <span class="nv">case</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span><span class="c1">;  call  xcentertext();        x1=-150;  y1=-150;  r=100</span>
   <span class="nv">case</span><span class="ss">(</span><span class="mi">2</span><span class="ss">)</span><span class="c1">;  call  ycentertext();        x1=+150;  y1=-150;  r= 30</span>
   <span class="nv">case</span><span class="ss">(</span><span class="mi">3</span><span class="ss">)</span><span class="c1">;  call  centertext(.true.);   x1=-150;  y1=+150;  r=100</span>
   <span class="nv">case</span><span class="ss">(</span><span class="mi">4</span><span class="ss">)</span><span class="c1">;  call  centertext(.false.);  x1=+150;  y1=+150;  r= 30</span>
   <span class="k">end</span> <span class="nv">select</span>
   <span class="o">!!</span> <span class="nv">draw</span> <span class="nv">radial</span> <span class="nv">lines</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
   <span class="k">do</span> <span class="nv">i</span><span class="o">=</span><span class="mi">1</span>,<span class="mi">80</span>
      <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">x1</span>,<span class="nv">y1</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">x1</span><span class="o">+</span><span class="mi">150</span>.<span class="mi">0</span><span class="o">*</span><span class="nv">cosd</span><span class="ss">(</span><span class="nv">i</span><span class="o">*</span><span class="mi">12</span><span class="ss">)</span>, <span class="nv">y1</span><span class="o">+</span><span class="mi">150</span>.<span class="mi">0</span><span class="o">*</span><span class="nv">sind</span><span class="ss">(</span><span class="nv">i</span><span class="o">*</span><span class="mi">12</span><span class="ss">))</span>
   <span class="nv">enddo</span>

   <span class="o">!!</span> <span class="nv">draw</span> <span class="nv">rotated</span> <span class="nv">text</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
   <span class="k">do</span> <span class="nv">i</span><span class="o">=</span><span class="mi">1</span>,<span class="mi">30</span>
      <span class="nv">ang</span><span class="o">=</span><span class="nv">i</span><span class="o">*</span><span class="mi">12</span>.<span class="mi">0</span>
      <span class="nv">xx</span><span class="o">=</span><span class="nv">x1</span><span class="o">+</span><span class="nv">r</span><span class="o">*</span><span class="nv">cosd</span><span class="ss">(</span><span class="nv">ang</span><span class="ss">)</span>
      <span class="nv">yy</span><span class="o">=</span><span class="nv">y1</span><span class="o">+</span><span class="nv">r</span><span class="o">*</span><span class="nv">sind</span><span class="ss">(</span><span class="nv">ang</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">xx</span>,<span class="nv">yy</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">textang</span><span class="ss">(</span><span class="nv">ang</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">This is angled text</span><span class="s1">&#39;</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
   <span class="nv">enddo</span>
<span class="nv">enddo</span>

<span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>

<span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>

<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_centertext</span>
</code></pre></div>

<h2 id="name_51">NAME</h2>
<div class="codehilite"><pre><span></span><code>getcharsize(3f) - [M_draw:TEXT] Get the width and height of a character.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_50">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine getcharsize(c, width, height)
     character*1 c
     real width, height
</code></pre></div>

<h2 id="description_50">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Get the width and height of a character. At the moment the height
returned is always that of the difference between the maximum descender
and ascender.
</code></pre></div>

<h2 id="name_52">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">getfontdec</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="o">-</span> [<span class="nv">M_draw</span>:<span class="nv">TEXT</span>] <span class="k">Return</span> <span class="nv">size</span> <span class="nv">of</span> <span class="nv">maximum</span> <span class="nv">font</span> <span class="nv">descender</span>
<span class="ss">(</span><span class="nv">LICENSE</span>:<span class="nv">PD</span><span class="ss">)</span>
</code></pre></div>

<h2 id="synopsis_51">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     real function getfontdec()
</code></pre></div>

<h2 id="description_51">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Get the descender size of a character in a font.
</code></pre></div>

<h2 id="name_53">NAME</h2>
<div class="codehilite"><pre><span></span><code>getfontsize(3f) - [M_draw:TEXT] Get maximum width and height of a character in a font.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_52">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine getfontsize(width, height)
     real width, height
</code></pre></div>

<h2 id="description_52">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Get the maximum width and height of a character in a font.
</code></pre></div>

<h2 id="name_54">NAME</h2>
<div class="codehilite"><pre><span></span><code>drawchar(3f) - [M_draw:TEXT] Draw the character c and update current position.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_53">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine drawchar(ch)
     character(len=1),intent(in) :: ch
</code></pre></div>

<h2 id="description_53">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Draw the character c at the current position. The current graphics
position represents the bottom left hand corner of the character space.

Uses current line color and thickness and text justification mode.
</code></pre></div>

<h2 id="example_31">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="s s-Atom">program</span> <span class="s s-Atom">demo_drawchar</span>
<span class="p">!</span>
<span class="p">!</span>      <span class="s s-Atom">display</span> <span class="s s-Atom">all</span> <span class="s s-Atom">the</span> <span class="s s-Atom">hershey</span> <span class="s s-Atom">fonts</span> <span class="s s-Atom">and</span> <span class="s s-Atom">demonstrate</span> <span class="s s-Atom">textang</span>
<span class="p">!</span>

<span class="s s-Atom">use</span> <span class="nv">M_draw</span><span class="p">,</span> <span class="nn">only</span><span class="p">:</span> <span class="s s-Atom">vinit</span><span class="p">,</span> <span class="s s-Atom">vsetflush</span><span class="p">,</span> <span class="s s-Atom">color</span><span class="p">,</span> <span class="s s-Atom">clear</span><span class="p">,</span> <span class="s s-Atom">font</span><span class="p">,</span> <span class="s s-Atom">vexit</span><span class="p">,</span> <span class="s s-Atom">vflush</span>
<span class="s s-Atom">use</span> <span class="nv">M_draw</span><span class="p">,</span> <span class="nn">only</span><span class="p">:</span> <span class="s s-Atom">ortho2</span><span class="p">,</span> <span class="s s-Atom">textang</span><span class="p">,</span> <span class="s s-Atom">boxtext</span><span class="p">,</span> <span class="s s-Atom">rect</span><span class="p">,</span> <span class="s s-Atom">textsize</span><span class="p">,</span> <span class="s s-Atom">getkey</span>
<span class="s s-Atom">use</span> <span class="nv">M_draw</span><span class="p">,</span>    <span class="s s-Atom">only</span>  <span class="s s-Atom">:</span> <span class="nv">D_BLACK</span><span class="p">,</span>   <span class="nv">D_WHITE</span>
<span class="s s-Atom">use</span> <span class="nv">M_draw</span><span class="p">,</span>    <span class="s s-Atom">only</span>  <span class="s s-Atom">:</span> <span class="nv">D_RED</span><span class="p">,</span>     <span class="nv">D_GREEN</span><span class="p">,</span>    <span class="nv">D_BLUE</span>
<span class="s s-Atom">use</span> <span class="nv">M_draw</span><span class="p">,</span>    <span class="s s-Atom">only</span>  <span class="s s-Atom">:</span> <span class="nv">D_YELLOW</span><span class="p">,</span>  <span class="nv">D_MAGENTA</span><span class="p">,</span>  <span class="nv">D_CYAN</span>
<span class="s s-Atom">use</span> <span class="nv">M_draw</span>

<span class="nf">character</span><span class="p">(</span><span class="s s-Atom">len</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>   <span class="s s-Atom">::</span> <span class="s s-Atom">str1</span><span class="p">,</span> <span class="s s-Atom">str2</span><span class="p">,</span> <span class="s s-Atom">str3</span><span class="p">,</span> <span class="s s-Atom">str4</span><span class="p">,</span> <span class="nf">fonts</span><span class="p">(</span><span class="mi">22</span><span class="p">)</span>
<span class="nf">character</span><span class="p">(</span><span class="s s-Atom">len</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>  <span class="s s-Atom">::</span> <span class="s s-Atom">buf</span>
<span class="nf">character</span><span class="p">(</span><span class="s s-Atom">len</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>    <span class="s s-Atom">::</span> <span class="s s-Atom">c</span>
<span class="s s-Atom">integer</span>             <span class="s s-Atom">::</span> <span class="s s-Atom">i</span>
<span class="s s-Atom">data</span> <span class="s s-Atom">fonts</span><span class="o">/</span> <span class="s s-Atom">&#39;astrology&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;cursive&#39;</span><span class="p">,</span>    <span class="s s-Atom">&#39;futura.l&#39;</span><span class="p">,</span>               <span class="s s-Atom">&amp;</span>
<span class="s s-Atom">&amp;</span>      <span class="s s-Atom">&#39;futura.m&#39;</span><span class="p">,</span>  <span class="s s-Atom">&#39;gothic.eng&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;gothic.ger&#39;</span><span class="p">,</span>             <span class="s s-Atom">&amp;</span>
<span class="s s-Atom">&amp;</span>      <span class="s s-Atom">&#39;gothic.ita&#39;</span><span class="p">,</span><span class="s s-Atom">&#39;greek&#39;</span><span class="p">,</span>      <span class="s s-Atom">&#39;japanese&#39;</span><span class="p">,</span>    <span class="s s-Atom">&#39;markers&#39;</span><span class="p">,</span> <span class="s s-Atom">&amp;</span>
<span class="s s-Atom">&amp;</span>      <span class="s s-Atom">&#39;math.low&#39;</span><span class="p">,</span>  <span class="s s-Atom">&#39;math.upp&#39;</span><span class="p">,</span>   <span class="s s-Atom">&#39;meteorology&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;music&#39;</span><span class="p">,</span>   <span class="s s-Atom">&amp;</span>
<span class="s s-Atom">&amp;</span>      <span class="s s-Atom">&#39;cyrillic&#39;</span><span class="p">,</span>  <span class="s s-Atom">&#39;script&#39;</span><span class="p">,</span>     <span class="s s-Atom">&#39;symbolic&#39;</span><span class="p">,</span>    <span class="s s-Atom">&#39;times.g&#39;</span><span class="p">,</span> <span class="s s-Atom">&amp;</span>
<span class="s s-Atom">&amp;</span>      <span class="s s-Atom">&#39;times.ib&#39;</span><span class="p">,</span>  <span class="s s-Atom">&#39;times.i&#39;</span><span class="p">,</span>    <span class="s s-Atom">&#39;times.r&#39;</span><span class="p">,</span>     <span class="s s-Atom">&#39;times.rb&#39;</span> <span class="o">/</span>

<span class="s s-Atom">data</span> <span class="s s-Atom">str1</span><span class="o">/</span> <span class="s s-Atom">&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;</span> <span class="o">/</span>
<span class="s s-Atom">data</span> <span class="s s-Atom">str2</span><span class="o">/</span> <span class="s s-Atom">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span> <span class="o">/</span>
<span class="s s-Atom">data</span> <span class="s s-Atom">str3</span><span class="o">/</span> <span class="s s-Atom">&#39;1234567890+-=!@#$%^&amp;*(){}[]&#39;</span> <span class="o">/</span>
<span class="s s-Atom">data</span> <span class="s s-Atom">str4</span><span class="o">/</span> <span class="s s-Atom">&#39;&lt;&gt;,./?~`\|_BONK,blark&#39;</span> <span class="o">/</span>
<span class="s s-Atom">integer</span> <span class="s s-Atom">::</span> <span class="s s-Atom">idum</span>
<span class="s s-Atom">print*</span><span class="p">,</span><span class="s s-Atom">&#39;Enter output device:&#39;</span>
<span class="nf">read</span><span class="p">(</span><span class="s s-Atom">*</span><span class="p">,</span><span class="s s-Atom">&#39;(a)&#39;</span><span class="p">,</span><span class="s s-Atom">iostat</span><span class="o">=</span><span class="s s-Atom">ios</span><span class="p">)</span><span class="s s-Atom">buf</span>
<span class="nf">if</span><span class="p">(</span><span class="s s-Atom">ios</span><span class="p">.</span><span class="s s-Atom">ne</span><span class="mf">.0</span><span class="p">)</span><span class="s s-Atom">buf=&#39; &#39;</span>
<span class="s s-Atom">call</span> <span class="nf">prefsize</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">vinit</span><span class="p">(</span><span class="s s-Atom">buf</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">vsetflush</span><span class="p">(.</span><span class="s s-Atom">false</span><span class="p">.)</span>
<span class="s s-Atom">call</span> <span class="nf">linewidth</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">clear</span><span class="p">()</span>
<span class="p">!</span> <span class="s s-Atom">define</span> <span class="s s-Atom">the</span> <span class="s s-Atom">world</span> <span class="s s-Atom">space</span>
<span class="s s-Atom">call</span> <span class="nf">ortho2</span><span class="p">(</span><span class="o">-</span><span class="mf">14.0</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">14.0</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">)</span>
<span class="s s-Atom">do</span> <span class="s s-Atom">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">22</span>
   <span class="p">!</span> <span class="s s-Atom">do</span> <span class="s s-Atom">the</span> <span class="s s-Atom">title</span>
   <span class="s s-Atom">call</span> <span class="nf">textang</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>                 <span class="p">!</span> <span class="s s-Atom">reset</span> <span class="s s-Atom">text</span> <span class="s s-Atom">angle</span> <span class="s s-Atom">so</span> <span class="s s-Atom">title</span> <span class="o">is</span> <span class="s s-Atom">straight</span>
   <span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_CYAN</span><span class="p">)</span>
   <span class="s s-Atom">call</span> <span class="nf">font</span><span class="p">(</span><span class="s s-Atom">&#39;futura.m&#39;</span><span class="p">)</span>
   <span class="nf">write</span><span class="p">(</span><span class="s s-Atom">buf</span><span class="p">,</span> <span class="s s-Atom">&#39;(&#39;&#39;This is Hershey font &#39;&#39;,a)&#39;</span><span class="p">)</span> <span class="nf">fonts</span><span class="p">(</span><span class="s s-Atom">i</span><span class="p">)</span>
   <span class="p">!</span><span class="s s-Atom">call</span> <span class="nf">printattribs</span><span class="p">(</span><span class="s s-Atom">&#39;before&#39;</span><span class="p">)</span>
   <span class="s s-Atom">call</span> <span class="nf">boxtext</span><span class="p">(</span><span class="o">-</span><span class="mf">11.0</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s s-Atom">buf</span><span class="p">)</span>
   <span class="p">!</span><span class="s s-Atom">call</span> <span class="nf">printattribs</span><span class="p">(</span><span class="s s-Atom">&#39;after&#39;</span><span class="p">)</span>
   <span class="s s-Atom">call</span> <span class="nf">rect</span><span class="p">(</span><span class="o">-</span><span class="mf">11.0</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">13.0</span><span class="p">)</span> <span class="p">!</span> <span class="s s-Atom">draw</span> <span class="s s-Atom">a</span> <span class="s s-Atom">box</span> <span class="s s-Atom">around</span> <span class="s s-Atom">the</span> <span class="s s-Atom">title</span>
   <span class="s s-Atom">call</span> <span class="nf">font</span><span class="p">(</span><span class="nf">fonts</span><span class="p">(</span><span class="s s-Atom">i</span><span class="p">))</span>               <span class="p">!</span> <span class="s s-Atom">grab</span> <span class="s s-Atom">a</span> <span class="s s-Atom">font</span> <span class="s s-Atom">from</span> <span class="s s-Atom">the</span> <span class="s s-Atom">table</span>
   <span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_BLUE</span><span class="p">)</span>
   <span class="p">!</span> <span class="s s-Atom">show</span> <span class="s s-Atom">the</span> <span class="s s-Atom">outer</span> <span class="s s-Atom">ring</span>
   <span class="s s-Atom">call</span> <span class="nf">textsize</span><span class="p">(</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span>
   <span class="s s-Atom">call</span> <span class="nv">ShowCircularText</span><span class="p">(</span><span class="mf">11.0</span><span class="p">,</span> <span class="s s-Atom">str1</span><span class="p">)</span>
   <span class="p">!</span> <span class="s s-Atom">show</span> <span class="s s-Atom">the</span> <span class="s s-Atom">second</span> <span class="s s-Atom">ring</span>
   <span class="s s-Atom">call</span> <span class="nf">textsize</span><span class="p">(</span><span class="mf">1.3</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">)</span>
   <span class="s s-Atom">call</span> <span class="nv">ShowCircularText</span><span class="p">(</span><span class="mf">8.5</span><span class="p">,</span> <span class="s s-Atom">str2</span><span class="p">)</span>
   <span class="p">!</span> <span class="s s-Atom">show</span> <span class="s s-Atom">the</span> <span class="s s-Atom">third</span> <span class="s s-Atom">ring</span>
   <span class="s s-Atom">call</span> <span class="nf">textsize</span><span class="p">(</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">)</span>
   <span class="s s-Atom">call</span> <span class="nv">ShowCircularText</span><span class="p">(</span><span class="mf">7.0</span><span class="p">,</span> <span class="s s-Atom">str3</span><span class="p">)</span>
   <span class="p">!</span> <span class="s s-Atom">show</span> <span class="s s-Atom">the</span> <span class="s s-Atom">inside</span> <span class="s s-Atom">ring</span>
   <span class="s s-Atom">call</span> <span class="nf">textsize</span><span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
   <span class="s s-Atom">call</span> <span class="nv">ShowCircularText</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="s s-Atom">str4</span><span class="p">)</span>
   <span class="s s-Atom">call</span> <span class="nf">vflush</span><span class="p">()</span>

   <span class="s s-Atom">idum</span><span class="o">=</span> <span class="nf">getkey</span><span class="p">()</span>
   <span class="s s-Atom">select</span> <span class="nf">case</span><span class="p">(</span><span class="s s-Atom">idum</span><span class="p">)</span>
    <span class="nf">case</span><span class="p">(:-</span><span class="mi">1</span><span class="p">,</span><span class="nf">ichar</span><span class="p">(</span><span class="s s-Atom">&#39;q&#39;</span><span class="p">),</span><span class="nf">ichar</span><span class="p">(</span><span class="s s-Atom">&#39;Q&#39;</span><span class="p">))</span>
      <span class="s s-Atom">exit</span>
   <span class="s s-Atom">end</span> <span class="s s-Atom">select</span>

   <span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_BLACK</span><span class="p">)</span>
   <span class="s s-Atom">call</span> <span class="nf">clear</span><span class="p">()</span>
<span class="s s-Atom">enddo</span>
<span class="s s-Atom">call</span> <span class="nf">vexit</span><span class="p">()</span>
<span class="s s-Atom">contains</span>

<span class="s s-Atom">subroutine</span> <span class="nv">ShowCircularText</span><span class="p">(</span><span class="s s-Atom">r</span><span class="p">,</span> <span class="s s-Atom">str</span><span class="p">)</span>  <span class="p">!</span> <span class="s s-Atom">show</span> <span class="s s-Atom">a</span> <span class="s s-Atom">ring</span> <span class="s s-Atom">of</span> <span class="s s-Atom">text</span>
   <span class="s s-Atom">use</span> <span class="nv">M_draw</span><span class="p">,</span> <span class="s s-Atom">only</span> <span class="s s-Atom">:</span> <span class="s s-Atom">move2</span><span class="p">,</span> <span class="s s-Atom">textang</span><span class="p">,</span> <span class="s s-Atom">drawchar</span>

   <span class="s s-Atom">real</span>              <span class="s s-Atom">::</span> <span class="s s-Atom">r</span>
   <span class="nf">character</span><span class="p">(</span><span class="s s-Atom">len=*</span><span class="p">)</span>  <span class="s s-Atom">::</span> <span class="s s-Atom">str</span>
   <span class="s s-Atom">real</span>              <span class="s s-Atom">::</span> <span class="s s-Atom">i</span><span class="p">,</span> <span class="s s-Atom">inc</span><span class="p">,</span> <span class="s s-Atom">x</span><span class="p">,</span> <span class="s s-Atom">y</span><span class="p">,</span> <span class="s s-Atom">a</span>
   <span class="s s-Atom">integer</span>           <span class="s s-Atom">::</span> <span class="s s-Atom">j</span>
   <span class="nf">character</span><span class="p">(</span><span class="s s-Atom">len</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="s s-Atom">::</span> <span class="s s-Atom">c</span>
   <span class="s s-Atom">real</span><span class="p">,</span><span class="s s-Atom">parameter</span>    <span class="s s-Atom">::</span> <span class="s s-Atom">pi</span> <span class="o">=</span> <span class="mf">3.1415926535</span>

   <span class="s s-Atom">j</span> <span class="o">=</span> <span class="mi">1</span>
   <span class="s s-Atom">inc</span> <span class="o">=</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="nf">len_trim</span><span class="p">(</span><span class="s s-Atom">str</span><span class="p">)</span>

   <span class="s s-Atom">i</span><span class="o">=</span><span class="mf">0.0</span>
   <span class="s s-Atom">do</span> <span class="s s-Atom">i10</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="nf">len_trim</span><span class="p">(</span><span class="s s-Atom">str</span><span class="p">)</span>
      <span class="p">!</span>
      <span class="p">!</span> <span class="s s-Atom">calculate</span> <span class="s s-Atom">the</span> <span class="s s-Atom">next</span> <span class="s s-Atom">drawing</span> <span class="s s-Atom">position</span>
      <span class="s s-Atom">c</span> <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="nn">j</span><span class="p">:</span><span class="s s-Atom">j</span><span class="p">)</span>
      <span class="s s-Atom">x</span> <span class="o">=</span> <span class="s s-Atom">r</span> <span class="o">*</span> <span class="nf">cos</span><span class="p">(</span><span class="s s-Atom">i</span> <span class="o">*</span> <span class="s s-Atom">pi</span> <span class="o">/</span> <span class="mf">180.0</span><span class="p">)</span>
      <span class="s s-Atom">y</span> <span class="o">=</span> <span class="s s-Atom">r</span> <span class="o">*</span> <span class="nf">sin</span><span class="p">(</span><span class="s s-Atom">i</span> <span class="o">*</span> <span class="s s-Atom">pi</span> <span class="o">/</span> <span class="mf">180.0</span><span class="p">)</span>
      <span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="s s-Atom">x</span><span class="p">,</span> <span class="s s-Atom">y</span><span class="p">)</span>
      <span class="p">!</span>
      <span class="p">!</span> <span class="s s-Atom">calculate</span> <span class="s s-Atom">angle</span> <span class="s s-Atom">for</span> <span class="s s-Atom">next</span> <span class="s s-Atom">character</span>
      <span class="s s-Atom">a</span> <span class="o">=</span> <span class="mf">90.0</span> <span class="o">+</span> <span class="s s-Atom">i</span>
      <span class="p">!</span>
      <span class="p">!</span> <span class="s s-Atom">set</span> <span class="s s-Atom">the</span> <span class="s s-Atom">orientation</span> <span class="s s-Atom">of</span> <span class="s s-Atom">the</span> <span class="s s-Atom">next</span> <span class="s s-Atom">character</span>
      <span class="s s-Atom">call</span> <span class="nf">textang</span><span class="p">(</span><span class="s s-Atom">a</span><span class="p">)</span>
      <span class="p">!</span>
      <span class="p">!</span> <span class="s s-Atom">draw</span> <span class="s s-Atom">the</span> <span class="s s-Atom">character</span>
      <span class="s s-Atom">call</span> <span class="nf">drawchar</span><span class="p">(</span><span class="s s-Atom">c</span><span class="p">)</span>
      <span class="s s-Atom">j</span> <span class="o">=</span> <span class="s s-Atom">j</span> <span class="o">+</span> <span class="mi">1</span>
      <span class="s s-Atom">i</span><span class="o">=</span><span class="s s-Atom">i</span><span class="o">+</span><span class="s s-Atom">inc</span>
   <span class="s s-Atom">enddo</span>

<span class="s s-Atom">end</span> <span class="s s-Atom">subroutine</span> <span class="nv">ShowCircularText</span>

<span class="s s-Atom">end</span> <span class="s s-Atom">program</span> <span class="s s-Atom">demo_drawchar</span>
</code></pre></div>

<h2 id="name_55">NAME</h2>
<div class="codehilite"><pre><span></span><code>drawstr(3f) - [M_draw:TEXT] Draw the text in string at the current position.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_54">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine drawstr(str)
     character(len=*),intent(in) :: str
</code></pre></div>

<h2 id="description_54">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Draw a text string at the current position. Uses current line color
and thickness and text centering mode.
</code></pre></div>

<h2 id="example_32">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code>   <span class="nv">program</span> <span class="nv">demo_drawstr</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;&#39;</span><span class="ss">)</span>
   <span class="o">!</span> <span class="nv">by</span> <span class="nv">default</span> <span class="nv">the</span> <span class="nv">drawing</span> <span class="nv">surface</span> <span class="nv">is</span>
   <span class="o">!</span> <span class="nv">a</span> <span class="nv">square</span> <span class="nv">ranging</span> <span class="nv">from</span> <span class="o">-</span><span class="mi">1</span> <span class="nv">to</span> <span class="mi">1</span> <span class="nv">in</span> <span class="nv">both</span>
   <span class="o">!</span> <span class="nv">the</span> <span class="nv">X</span> <span class="nv">and</span> <span class="nv">Y</span> <span class="nv">axis</span>

   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>    <span class="o">!</span> <span class="nv">set</span> <span class="nv">current</span> <span class="nv">color</span> <span class="nv">to</span> <span class="nv">black</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>           <span class="o">!</span> <span class="nv">clear</span> <span class="nv">to</span> <span class="nv">current</span> <span class="nv">color</span>

   <span class="o">!</span> <span class="nv">SET</span> <span class="nv">COMMON</span> <span class="nv">TEXT</span> <span class="nv">ATTRIBUTES</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>    <span class="o">!</span> <span class="nv">we</span> <span class="nv">want</span> <span class="nv">to</span> <span class="nv">draw</span> <span class="nv">in</span> <span class="nv">green</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">futura.m</span><span class="s1">&#39;</span><span class="ss">)</span>  <span class="o">!</span> <span class="nv">set</span> <span class="nv">font</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">1</span>,<span class="mi">0</span>.<span class="mi">1</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">font</span> <span class="nv">size</span>

   <span class="o">!</span> <span class="nv">DRAW</span> <span class="nv">A</span> <span class="nv">STRING</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">Hello</span><span class="s1">&#39;</span><span class="ss">)</span>  <span class="o">!</span> <span class="nv">draw</span> <span class="nv">string</span> <span class="nv">at</span> <span class="nv">current</span> <span class="nv">position</span>
   <span class="o">!</span> <span class="nv">note</span> <span class="nv">that</span> <span class="nv">current</span> <span class="nv">position</span> <span class="nv">is</span> <span class="nv">now</span> <span class="nv">at</span> <span class="k">end</span> <span class="nv">of</span> <span class="nv">this</span> <span class="nv">string</span>

   <span class="o">!</span> <span class="nv">CHANGE</span> <span class="nv">SOME</span> <span class="nv">TEXT</span> <span class="nv">ATTRIBUTES</span> <span class="nv">AGAIN</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">20</span><span class="ss">)</span>     <span class="o">!</span> <span class="nv">set</span> <span class="nv">line</span> <span class="nv">width</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>      <span class="o">!</span> <span class="nv">change</span> <span class="nv">color</span>
   <span class="k">call</span> <span class="nl">textang</span><span class="ss">(</span><span class="mi">45</span>.<span class="mi">0</span><span class="ss">)</span>     <span class="o">!</span> <span class="nv">change</span> <span class="nv">text</span> <span class="nv">angle</span>

   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> World!</span><span class="s1">&#39;</span><span class="ss">)</span><span class="o">!</span> <span class="nv">draw</span> <span class="nv">string</span> <span class="nv">at</span> <span class="nv">current</span> <span class="nv">position</span>
   <span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>          <span class="o">!</span> <span class="k">pause</span>

   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>           <span class="o">!</span>  <span class="nv">wrap</span> <span class="nv">up</span> <span class="nv">and</span> <span class="k">exit</span> <span class="nv">graphics</span> <span class="nv">mode</span>

   <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_drawstr</span>
</code></pre></div>

<h2 id="name_56">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">strlength</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="o">-</span> [<span class="nv">M_draw</span>:<span class="nv">TEXT</span>] <span class="k">return</span> <span class="nv">length</span> <span class="nv">of</span> <span class="nv">string</span>
<span class="ss">(</span><span class="nv">LICENSE</span>:<span class="nv">PD</span><span class="ss">)</span>
</code></pre></div>

<h2 id="synopsis_55">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>   real function strlength(string)
   character(len=*),intent(in) :: string
</code></pre></div>

<h2 id="description_55">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="k">Return</span> <span class="nv">the</span> <span class="nv">length</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">string</span> <span class="s2">&quot;</span><span class="s">STRING</span><span class="s2">&quot;</span> <span class="nv">in</span> <span class="nv">world</span> <span class="nv">units</span>.
</code></pre></div>

<h2 id="returns">RETURNS</h2>
<div class="codehilite"><pre><span></span><code>STRLENGTH  length of string using current font size
</code></pre></div>

<h2 id="example_33">EXAMPLE</h2>
<p>Sample Program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_strlength</span>
<span class="nv">use</span> :: <span class="nv">M_draw</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
<span class="nv">real</span>    :: <span class="nv">left</span>
<span class="nv">real</span>    :: <span class="nv">baseline</span>
<span class="nv">integer</span> :: <span class="nv">icolor</span><span class="o">=</span><span class="mi">0</span>
<span class="nv">real</span>    :: <span class="nv">texth</span><span class="o">=</span><span class="mi">10</span>.<span class="mi">0</span>
   <span class="o">!!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">drawing</span> <span class="nv">surface</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">800</span>, <span class="mi">400</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="o">-</span><span class="mi">100</span>.<span class="mi">0</span>, <span class="mi">300</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">100</span>.<span class="mi">0</span>, <span class="mi">100</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">40</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="nv">texth</span>, <span class="nv">texth</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">xcentertext</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>

   <span class="nv">baseline</span><span class="o">=</span><span class="mi">85</span>.<span class="mi">0</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="nv">baseline</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">If I Can Stop One Heart</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="nv">baseline</span><span class="o">=</span> <span class="nv">baseline</span><span class="o">-</span><span class="nv">texth</span><span class="o">*</span><span class="mi">1</span>.<span class="mi">20</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="nv">baseline</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">by Emily Dickinson</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">centertext</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>

   <span class="nv">texth</span><span class="o">=</span><span class="mi">8</span>.<span class="mi">5</span>
   <span class="nv">baseline</span><span class="o">=</span><span class="nv">baseline</span><span class="o">-</span><span class="nv">texth</span><span class="o">*</span><span class="mi">1</span>.<span class="mi">50</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="nv">texth</span>, <span class="nv">texth</span><span class="ss">)</span>
   <span class="nv">left</span><span class="o">=-</span><span class="mi">90</span>.<span class="mi">0</span>

   <span class="k">call</span> <span class="nl">nextline</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">If I can stop one heart from breaking,</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">nextline</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">I shall not live in vain;</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">nextline</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">If I can ease one life the aching,</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">nextline</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">Or cool one pain,</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">nextline</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">Or help one fainting robin</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">nextline</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">Unto his nest again,</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">nextline</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">I shall not live in vain.</span><span class="s1">&#39;</span><span class="ss">)</span>

   <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="nv">contains</span>
<span class="nv">subroutine</span> <span class="nv">nextline</span><span class="ss">(</span><span class="nv">string</span><span class="ss">)</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=*</span><span class="ss">)</span> :: <span class="nv">string</span>
<span class="nv">real</span> :: <span class="nv">xx</span>
<span class="o">!!</span> <span class="nv">reduce</span> <span class="nv">some</span> <span class="nv">duplicate</span> <span class="nv">code</span><span class="c1">; very specific to this EXAMPLE</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">icolor</span><span class="ss">)</span>
   <span class="nv">baseline</span><span class="o">=</span><span class="nv">baseline</span><span class="o">-</span><span class="nv">texth</span><span class="o">*</span><span class="mi">1</span>.<span class="mi">5</span>    <span class="o">!</span> <span class="nv">move</span> <span class="nv">down</span> <span class="nv">before</span> <span class="nv">drawing</span> <span class="nv">line</span>
      <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
         <span class="k">call</span> <span class="nl">makepoly</span><span class="ss">()</span>
            <span class="nv">xx</span><span class="o">=</span><span class="nv">strlength</span><span class="ss">(</span><span class="nv">string</span><span class="ss">)</span>
            <span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="nv">left</span>,<span class="nv">baseline</span><span class="o">-</span><span class="nv">texth</span><span class="o">*</span><span class="mi">0</span>.<span class="mi">3</span>,<span class="nv">left</span><span class="o">+</span><span class="nv">xx</span>,<span class="nv">baseline</span><span class="o">+</span><span class="nv">texth</span><span class="ss">)</span>
         <span class="k">call</span> <span class="nl">closepoly</span><span class="ss">()</span>
      <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">left</span>, <span class="nv">baseline</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="nv">string</span><span class="ss">)</span>    <span class="o">!</span> <span class="nv">draw</span> <span class="nv">string</span>
   <span class="nv">icolor</span><span class="o">=</span><span class="nv">icolor</span><span class="o">+</span><span class="mi">1</span>         <span class="o">!</span> <span class="nv">set</span> <span class="nv">pen</span> <span class="nv">color</span>
<span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">nextline</span>

<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_strlength</span>
</code></pre></div>

<h2 id="name_57">NAME</h2>
<div class="codehilite"><pre><span></span><code>boxtext(3f) - [M_draw:TEXT] stretch and draw the SOFTWARE string s so that it fits in the imaginary box
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_56">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine boxtext(x, y, l, h, s)
     real x, y, l, h, s
</code></pre></div>

<h2 id="description_56">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Draw the string S so that it fits in the imaginary box defined with
bottom left hand corner at (x, y), length l, and height h. This only
applies to software text. The textsize is temporarily resized so that
the string fills the specified box.
</code></pre></div>

<h2 id="options_11">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code>X,Y   position of lower left corner of box in world coordinates
L     length of box in world coordinates
H     height of box in world coordinates
S     string to stretch into box and draw
</code></pre></div>

<h2 id="example_34">EXAMPLE</h2>
<p>Simple program:</p>
<div class="codehilite"><pre><span></span><code> <span class="nv">program</span> <span class="nv">demo_boxtext</span>
 <span class="nv">use</span> <span class="nv">M_draw</span>,     <span class="nv">only</span> : <span class="nv">vinit</span>,<span class="nv">vexit</span>,<span class="nv">prefsize</span>,<span class="nv">vgetdev</span>,<span class="nv">clear</span>,<span class="nv">page</span>
 <span class="nv">use</span> <span class="nv">M_draw</span>,     <span class="nv">only</span> : <span class="nv">centertext</span>,<span class="nv">polyfill</span>,<span class="nv">font</span>,<span class="nv">linewidth</span>,<span class="nv">color</span>
 <span class="nv">use</span> <span class="nv">M_draw</span>,     <span class="nv">only</span> : <span class="nv">getkey</span>
 <span class="nv">use</span> <span class="nv">M_draw</span>,     <span class="nv">only</span> : <span class="nv">color</span>,<span class="nv">rect</span>,<span class="nv">boxtext</span>
 <span class="nv">use</span> <span class="nv">M_draw</span>,     <span class="nv">only</span> : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
 <span class="nv">use</span> <span class="nv">M_draw</span>,     <span class="nv">only</span> : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
 <span class="nv">use</span> <span class="nv">M_draw</span>,     <span class="nv">only</span> : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
 <span class="nv">implicit</span> <span class="nv">none</span>
 <span class="nv">real</span>              :: <span class="nv">x1</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">0</span>,    <span class="nv">x2</span><span class="o">=</span><span class="mi">40</span>.<span class="mi">0</span>,    <span class="nv">y1</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">0</span>,    <span class="nv">y2</span><span class="o">=</span><span class="mi">7</span>.<span class="mi">0</span>
 <span class="nv">real</span>              :: <span class="nv">xmin</span><span class="o">=</span><span class="mi">1</span>.<span class="mi">0</span>,  <span class="nv">xmax</span><span class="o">=</span><span class="mi">39</span>.<span class="mi">0</span>,  <span class="nv">ymin</span><span class="o">=</span><span class="mi">1</span>.<span class="mi">0</span>,  <span class="nv">ymax</span><span class="o">=</span><span class="mi">6</span>.<span class="mi">0</span>
 <span class="nv">integer</span>           :: <span class="nv">idum</span>
    <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="nv">int</span><span class="ss">(</span><span class="nv">x2</span><span class="o">-</span><span class="nv">x1</span><span class="ss">)</span><span class="o">*</span><span class="mi">25</span>,<span class="nv">int</span><span class="ss">(</span><span class="nv">y2</span><span class="o">-</span><span class="nv">y1</span><span class="ss">)</span><span class="o">*</span><span class="mi">25</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="nv">x1</span>,<span class="nv">x2</span>,<span class="nv">y1</span>,<span class="nv">y2</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">centertext</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
    <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">times.rb</span><span class="s2">&quot;</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
    <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">200</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_CYAN</span><span class="ss">)</span><span class="c1">; call polyfill(.false.); call rect(xmin,ymin,xmax,ymax)</span>
    <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span><span class="c1">; call polyfill(.true.);  call rect(xmin,ymin,xmax,ymax)</span>
    <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">boxtext</span><span class="ss">(</span><span class="nv">xmin</span>,<span class="nv">ymin</span>,<span class="nv">xmax</span><span class="o">-</span><span class="nv">xmin</span>,<span class="nv">ymax</span><span class="o">-</span><span class="nv">ymin</span>,<span class="s2">&quot;</span><span class="s">This text is in the box</span><span class="s2">&quot;</span><span class="ss">)</span>
    <span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
    <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
 <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_boxtext</span>
</code></pre></div>

<h2 id="name_58">NAME</h2>
<div class="codehilite"><pre><span></span><code>boxfit(3f) - [M_draw:TEXT] resize the SOFTWARE text size so it fits in a box
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_57">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine boxfit(l, h, nchars)
     real l, h
     integer nchars
</code></pre></div>

<h2 id="description_57">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Set</span> <span class="nv">scale</span> <span class="k">for</span> <span class="nv">text</span> <span class="nv">so</span> <span class="nv">that</span> <span class="nv">a</span> <span class="nv">string</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">biggest</span> <span class="nv">characters</span> <span class="nv">in</span>
<span class="nv">the</span> <span class="nv">font</span> <span class="nv">will</span> <span class="nv">fit</span> <span class="nv">in</span> <span class="nv">a</span> <span class="nv">box</span> <span class="nv">l</span> <span class="nv">by</span> <span class="nv">h</span>. <span class="nv">l</span> <span class="nv">and</span> <span class="nv">h</span> <span class="nv">are</span> <span class="nv">real</span> <span class="nv">values</span> <span class="nv">in</span> <span class="nv">world</span>
<span class="nv">dimensions</span>. <span class="nv">This</span> <span class="nv">only</span> <span class="nv">applies</span> <span class="nv">to</span> <span class="nv">software</span> <span class="nv">text</span>.
</code></pre></div>

<h2 id="name_59">NAME</h2>
<div class="codehilite"><pre><span></span><code>textjustify(3f) - [M_draw:TEXT] general text justification (C only)
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_58">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>    subroutine textjustify(val)
    character(kind=c_short) :: ival
    character(kind=c_char) :: val
</code></pre></div>

<h2 id="description_58">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="n">General</span> <span class="p">(</span><span class="n">direct</span><span class="p">)</span> <span class="n">control</span> <span class="n">of</span> <span class="n">text</span> <span class="n">justification</span><span class="o">.</span> <span class="n">The</span> <span class="n">value</span> <span class="n">of</span> <span class="n">val</span> <span class="k">is</span> <span class="n">made</span>
<span class="n">up</span> <span class="n">of</span> <span class="n">the</span> <span class="n">logical</span> <span class="n">OR</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">predefined</span> <span class="n">constants</span> <span class="ow">in</span> <span class="n">draw</span><span class="o">.</span><span class="n">h</span>
<span class="p">(</span><span class="n">FOR</span> <span class="n">C</span> <span class="ow">and</span> <span class="n">Fortran</span> <span class="n">only</span><span class="p">)</span><span class="o">.</span> <span class="n">D_LEFT</span><span class="p">,</span> <span class="n">D_RIGHT</span><span class="p">,</span> <span class="n">D_XCENTERED</span><span class="p">,</span> <span class="n">D_TOP</span><span class="p">,</span> <span class="n">D_BOTTOM</span><span class="p">,</span>
<span class="n">D_YCENTERED</span><span class="o">.</span> <span class="n">Centering</span> <span class="n">takes</span> <span class="n">priority</span><span class="p">,</span> <span class="k">as</span> <span class="n">does</span> <span class="n">RIGHT</span> <span class="ow">and</span> <span class="n">TOP</span> <span class="n">justification</span>
<span class="p">(</span><span class="k">if</span> <span class="n">you</span> <span class="n">were</span> <span class="n">silly</span> <span class="n">enough</span> <span class="n">to</span> <span class="n">set</span> <span class="n">it</span> <span class="n">to</span> <span class="n">D_LEFT</span><span class="o">|</span><span class="n">D_RIGHT</span> <span class="k">for</span> <span class="n">EXAMPLE</span> <span class="n">that</span>
<span class="k">is</span><span class="p">)</span><span class="o">.</span> <span class="n">A</span> <span class="n">value</span> <span class="n">of</span> <span class="mi">0</span> <span class="p">(</span><span class="n">zero</span><span class="p">)</span> <span class="p">(</span><span class="ow">in</span> <span class="n">all</span> <span class="n">languages</span><span class="p">)</span> <span class="n">resets</span> <span class="n">the</span> <span class="n">textjustification</span>
<span class="n">to</span> <span class="n">the</span> <span class="n">default</span><span class="o">.</span>

    <span class="o">!</span> <span class="n">from</span> <span class="n">Fortran</span><span class="p">,</span> <span class="n">use</span> <span class="n">IANY</span><span class="p">()</span> <span class="n">to</span> <span class="n">OR</span> <span class="n">the</span> <span class="n">array</span> <span class="n">of</span> <span class="n">options</span><span class="p">,</span> <span class="ow">and</span> <span class="n">CHAR</span><span class="p">()</span>
    <span class="o">!</span> <span class="n">to</span> <span class="nb">convert</span> <span class="n">the</span> <span class="n">integer</span> <span class="n">result</span> <span class="n">to</span> <span class="n">a</span> <span class="n">C_CHAR</span> <span class="n">type</span><span class="o">.</span> <span class="n">KIND</span> <span class="n">C_CHAR</span> <span class="k">is</span>
    <span class="o">!</span> <span class="n">defined</span> <span class="n">by</span> <span class="n">loading</span> <span class="n">a</span> <span class="n">the</span> <span class="n">intrinsic</span> <span class="n">module</span> <span class="k">for</span> <span class="n">C</span> <span class="n">bindings</span> <span class="p">(</span><span class="s2">&quot;USE ISO_C_BINDING&quot;</span><span class="p">)</span><span class="o">.</span>
    <span class="n">ival</span><span class="o">=</span><span class="n">iany</span><span class="p">([</span><span class="n">D_XCENTERED</span><span class="p">,</span><span class="n">D_YCENTERED</span><span class="p">])</span>
    <span class="n">val</span><span class="o">=</span><span class="nb">char</span><span class="p">(</span><span class="n">ival</span><span class="p">)</span>
    <span class="n">call</span> <span class="n">textjustify</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
</code></pre></div>

<h2 id="example_35">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_textjustify</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
<span class="nv">use</span> <span class="nv">iso_c_binding</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">real</span> :: <span class="nv">x1</span><span class="o">=-</span><span class="mi">20</span>.<span class="mi">0</span>, <span class="nv">x2</span><span class="o">=</span><span class="mi">20</span>.<span class="mi">0</span>, <span class="nv">y1</span><span class="o">=-</span><span class="mi">20</span>.<span class="mi">0</span>, <span class="nv">y2</span><span class="o">=</span><span class="mi">20</span>.<span class="mi">0</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="nv">int</span><span class="ss">(</span><span class="nv">x2</span><span class="o">-</span><span class="nv">x1</span><span class="ss">)</span><span class="o">*</span><span class="mi">30</span>,<span class="nv">int</span><span class="ss">(</span><span class="nv">y2</span><span class="o">-</span><span class="nv">y1</span><span class="ss">)</span><span class="o">*</span><span class="mi">30</span><span class="ss">)</span>
   <span class="o">!!</span><span class="k">call</span> <span class="nl">voutput</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">|ppmtogif &gt;textjustify.3M_draw.gif</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="o">!!</span><span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">p6</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="nv">x1</span>,<span class="nv">x2</span>,<span class="nv">y1</span>,<span class="nv">y2</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">9</span>, <span class="mi">1</span>.<span class="mi">4</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">times.rb</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">20</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">seejustify</span><span class="ss">(</span> <span class="s2">&quot;</span><span class="s">right|top</span><span class="s2">&quot;</span>,           <span class="nv">iany</span><span class="ss">(</span>[<span class="nv">d_right</span>,<span class="nv">d_top</span>]<span class="ss">)</span>,           <span class="o">-</span><span class="mi">10</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">10</span>.<span class="mi">0</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">seejustify</span><span class="ss">(</span> <span class="s2">&quot;</span><span class="s">right|ycentered</span><span class="s2">&quot;</span>,     <span class="nv">iany</span><span class="ss">(</span>[<span class="nv">d_right</span>,<span class="nv">d_ycentered</span>]<span class="ss">)</span>,     <span class="o">-</span><span class="mi">10</span>.<span class="mi">0</span>,   <span class="mi">0</span>.<span class="mi">0</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">seejustify</span><span class="ss">(</span> <span class="s2">&quot;</span><span class="s">right|bottom</span><span class="s2">&quot;</span>,        <span class="nv">iany</span><span class="ss">(</span>[<span class="nv">d_right</span>,<span class="nv">d_bottom</span>]<span class="ss">)</span>,        <span class="o">-</span><span class="mi">10</span>.<span class="mi">0</span>, <span class="o">+</span><span class="mi">10</span>.<span class="mi">0</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">seejustify</span><span class="ss">(</span> <span class="s2">&quot;</span><span class="s">xcentered|top</span><span class="s2">&quot;</span>,       <span class="nv">iany</span><span class="ss">(</span>[<span class="nv">d_xcentered</span>,<span class="nv">d_top</span>]<span class="ss">)</span>,         <span class="mi">0</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">10</span>.<span class="mi">0</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">seejustify</span><span class="ss">(</span> <span class="s2">&quot;</span><span class="s">xcentered|ycentered</span><span class="s2">&quot;</span>, <span class="nv">iany</span><span class="ss">(</span>[<span class="nv">d_xcentered</span>,<span class="nv">d_ycentered</span>]<span class="ss">)</span>,   <span class="mi">0</span>.<span class="mi">0</span>,   <span class="mi">0</span>.<span class="mi">0</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">seejustify</span><span class="ss">(</span> <span class="s2">&quot;</span><span class="s">xcentered|bottom</span><span class="s2">&quot;</span>,    <span class="nv">iany</span><span class="ss">(</span>[<span class="nv">d_xcentered</span>,<span class="nv">d_bottom</span>]<span class="ss">)</span>,      <span class="mi">0</span>.<span class="mi">0</span>, <span class="o">+</span><span class="mi">10</span>.<span class="mi">0</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">seejustify</span><span class="ss">(</span> <span class="s2">&quot;</span><span class="s">left|top</span><span class="s2">&quot;</span>,            <span class="nv">iany</span><span class="ss">(</span>[<span class="nv">d_left</span>,<span class="nv">d_top</span>]<span class="ss">)</span>,            <span class="o">+</span><span class="mi">10</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">10</span>.<span class="mi">0</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">seejustify</span><span class="ss">(</span> <span class="s2">&quot;</span><span class="s">left|ycentered</span><span class="s2">&quot;</span>,      <span class="nv">iany</span><span class="ss">(</span>[<span class="nv">d_left</span>,<span class="nv">d_ycentered</span>]<span class="ss">)</span>,      <span class="o">+</span><span class="mi">10</span>.<span class="mi">0</span>,   <span class="mi">0</span>.<span class="mi">0</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">seejustify</span><span class="ss">(</span> <span class="s2">&quot;</span><span class="s">left|bottom</span><span class="s2">&quot;</span>,         <span class="nv">iany</span><span class="ss">(</span>[<span class="nv">d_left</span>,<span class="nv">d_bottom</span>]<span class="ss">)</span>,         <span class="o">+</span><span class="mi">10</span>.<span class="mi">0</span>, <span class="o">+</span><span class="mi">10</span>.<span class="mi">0</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="nv">contains</span>
   <span class="nv">subroutine</span> <span class="nv">seejustify</span><span class="ss">(</span><span class="nv">string</span>,<span class="nv">justify</span>,<span class="nv">x</span>,<span class="nv">y</span><span class="ss">)</span>
      <span class="nv">implicit</span> <span class="nv">none</span>
      <span class="nv">real</span>                    :: <span class="nv">x</span>, <span class="nv">y</span>
      <span class="nv">real</span>                    :: <span class="nv">height</span>, <span class="nv">width</span>
      <span class="nv">integer</span><span class="ss">(</span><span class="nv">kind</span><span class="o">=</span><span class="nv">c_short</span><span class="ss">)</span>   :: <span class="nv">justify</span>
      <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=*</span><span class="ss">)</span>        :: <span class="nv">string</span>
      <span class="nv">character</span><span class="ss">(</span><span class="nv">kind</span><span class="o">=</span><span class="nv">c_char</span><span class="ss">)</span>  :: <span class="nv">byte</span>
      <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">x</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,<span class="nv">y</span><span class="ss">)</span><span class="c1">; call draw2(x+1.0,y); call move2(x,y-1.0); call draw2(x,y+1.0)</span>
      <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="nv">x</span>,<span class="nv">y</span>,<span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">x</span>,<span class="nv">y</span><span class="ss">)</span>
      <span class="nv">byte</span><span class="o">=</span><span class="nv">char</span><span class="ss">(</span><span class="nv">justify</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">textjustify</span><span class="ss">(</span><span class="nv">byte</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="nv">string</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">rmove2</span><span class="ss">(</span><span class="o">-</span><span class="nv">strlength</span><span class="ss">(</span><span class="nv">string</span><span class="ss">)</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">rdraw2</span><span class="ss">(</span><span class="o">+</span><span class="nv">strlength</span><span class="ss">(</span><span class="nv">string</span><span class="ss">)</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">getfontsize</span><span class="ss">(</span><span class="nv">width</span>, <span class="nv">height</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">rmove2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="nv">height</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">rmove2</span><span class="ss">(</span><span class="o">-</span><span class="nv">strlength</span><span class="ss">(</span><span class="nv">string</span><span class="ss">)</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">rdraw2</span><span class="ss">(</span><span class="o">+</span><span class="nv">strlength</span><span class="ss">(</span><span class="nv">string</span><span class="ss">)</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">seejustify</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_textjustify</span>
</code></pre></div>

<h2 id="name_60">NAME</h2>
<div class="codehilite"><pre><span></span><code>leftjustify(3f) - [M_draw:TEXT] left justify text
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_59">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine leftjustify()
</code></pre></div>

<h2 id="description_59">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Left justifies text. The text string will begin at the current position
and extend to the notional right. Right justification and X centering
are turned off.
</code></pre></div>

<h2 id="example_36">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_leftjustify</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">real</span>    :: <span class="nv">x1</span>, <span class="nv">x2</span>, <span class="nv">y1</span>, <span class="nv">y2</span>
<span class="nv">real</span>    :: <span class="nv">scl</span>, <span class="nv">ax</span>, <span class="nv">bx</span>
<span class="nv">integer</span> :: <span class="nv">key</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">1200</span>,<span class="mi">120</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="nv">x1</span><span class="o">=</span><span class="mi">0</span><span class="c1">; x2=40; y1=0; y2=4; scl=1.9</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="nv">x1</span>,<span class="nv">x2</span>,<span class="nv">y1</span>,<span class="nv">y2</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">9</span><span class="o">*</span><span class="nv">scl</span>,<span class="mi">1</span>.<span class="mi">4</span><span class="o">*</span><span class="nv">scl</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">times.rb</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">200</span><span class="ss">)</span>
   <span class="nv">AX</span><span class="o">=</span><span class="ss">(</span><span class="nv">x1</span><span class="o">+</span><span class="nv">x2</span><span class="ss">)</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="c1">; BX=y1+1.3</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">leftjustify</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">leftjustify()</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">AX</span><span class="o">+</span><span class="mi">1</span>.<span class="mi">0</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="o">+</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vflush</span><span class="ss">()</span>
   <span class="nv">key</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_leftjustify</span>
</code></pre></div>

<h2 id="name_61">NAME</h2>
<div class="codehilite"><pre><span></span><code>rightjustify(3f) - [M_draw:TEXT] right justify text
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_60">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>    subroutine rightjustify()
</code></pre></div>

<h2 id="description_60">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Right justifies text. The text string will begin at a point to the
notional left of the current position and finish at the current
position. Left justification and X centering are turned off.
</code></pre></div>

<h2 id="example_37">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_rightjustify</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,    <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">real</span>    :: <span class="nv">x1</span>, <span class="nv">x2</span>, <span class="nv">y1</span>, <span class="nv">y2</span>
<span class="nv">real</span>    :: <span class="nv">scl</span>, <span class="nv">ax</span>, <span class="nv">bx</span>
<span class="nv">integer</span> :: <span class="nv">key</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">1200</span>,<span class="mi">120</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="nv">x1</span><span class="o">=</span><span class="mi">0</span><span class="c1">; x2=40; y1=0; y2=4; scl=1.9</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="nv">x1</span>,<span class="nv">x2</span>,<span class="nv">y1</span>,<span class="nv">y2</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">9</span><span class="o">*</span><span class="nv">scl</span>,<span class="mi">1</span>.<span class="mi">4</span><span class="o">*</span><span class="nv">scl</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">times.rb</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">200</span><span class="ss">)</span>
   <span class="nv">AX</span><span class="o">=</span><span class="ss">(</span><span class="nv">x1</span><span class="o">+</span><span class="nv">x2</span><span class="ss">)</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">6</span><span class="c1">; BX=y1+1.3</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">rightjustify</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">rightjustify()</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">AX</span><span class="o">+</span><span class="mi">1</span>.<span class="mi">0</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="o">+</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vflush</span><span class="ss">()</span>
   <span class="nv">key</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_rightjustify</span>
</code></pre></div>

<h2 id="name_62">NAME</h2>
<div class="codehilite"><pre><span></span><code>xcentertext(3f) - [M_draw:TEXT] set text centering mode on in X direction
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_61">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>    subroutine xcentertext()
</code></pre></div>

<h2 id="description_61">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Set text centering mode on in X direction. Y justification is
turned off.

Centers text in the X direction. The text string will begin at a
point to the notional left of the current position and finish at a
point to the right of the current position. Left justification and
Right justification are turned off.
</code></pre></div>

<h2 id="example_38">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_xcentertext</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">real</span>    :: <span class="nv">x1</span>, <span class="nv">x2</span>, <span class="nv">y1</span>, <span class="nv">y2</span>
<span class="nv">real</span>    :: <span class="nv">scl</span>, <span class="nv">ax</span>, <span class="nv">bx</span>
<span class="nv">integer</span> :: <span class="nv">key</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">1200</span>,<span class="mi">120</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="nv">x1</span><span class="o">=</span><span class="mi">0</span><span class="c1">; x2=40; y1=0; y2=4; scl=1.9</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="nv">x1</span>,<span class="nv">x2</span>,<span class="nv">y1</span>,<span class="nv">y2</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">9</span><span class="o">*</span><span class="nv">scl</span>,<span class="mi">1</span>.<span class="mi">4</span><span class="o">*</span><span class="nv">scl</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">times.rb</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">200</span><span class="ss">)</span>
   <span class="nv">AX</span><span class="o">=</span><span class="ss">(</span><span class="nv">x1</span><span class="o">+</span><span class="nv">x2</span><span class="ss">)</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">4</span><span class="c1">; BX=y1+1.3</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">xcentertext</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">xcentertext()</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">AX</span><span class="o">+</span><span class="mi">1</span>.<span class="mi">0</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="o">+</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vflush</span><span class="ss">()</span>
   <span class="nv">key</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_xcentertext</span>
</code></pre></div>

<h2 id="name_63">NAME</h2>
<div class="codehilite"><pre><span></span><code>topjustify(3f) - [M_draw:TEXT] top justify text
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_62">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine topjustify()
</code></pre></div>

<h2 id="description_62">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Top justifies text. The text string will be drawn with its upper edge
aligned with the current Y position. Bottom justification and Y centering
are turned off.
</code></pre></div>

<h2 id="example_39">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_topjustify</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">real</span>    :: <span class="nv">x1</span>, <span class="nv">x2</span>, <span class="nv">y1</span>, <span class="nv">y2</span>
<span class="nv">real</span>    :: <span class="nv">scl</span>, <span class="nv">ax</span>, <span class="nv">bx</span>
<span class="nv">integer</span> :: <span class="nv">key</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">1200</span>,<span class="mi">120</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="nv">x1</span><span class="o">=</span><span class="mi">0</span><span class="c1">; x2=40; y1=0; y2=4; scl=1.9</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="nv">x1</span>,<span class="nv">x2</span>,<span class="nv">y1</span>,<span class="nv">y2</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">9</span><span class="o">*</span><span class="nv">scl</span>,<span class="mi">1</span>.<span class="mi">4</span><span class="o">*</span><span class="nv">scl</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">times.rb</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">200</span><span class="ss">)</span>
   <span class="nv">AX</span><span class="o">=</span><span class="ss">(</span><span class="nv">x1</span><span class="o">+</span><span class="nv">x2</span><span class="ss">)</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">0</span>.<span class="mi">3</span><span class="c1">; BX=y1+3.3</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">topjustify</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">topjustify()</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">AX</span><span class="o">+</span><span class="mi">1</span>.<span class="mi">0</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="o">+</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vflush</span><span class="ss">()</span>
   <span class="nv">key</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_topjustify</span>
</code></pre></div>

<h2 id="name_64">NAME</h2>
<div class="codehilite"><pre><span></span><code>bottomjustify(3f) - [M_draw:TEXT] bottom justify text
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_63">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>    subroutine bottomjustify()
</code></pre></div>

<h2 id="description_63">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Bottom justifies text. The text string will be drawn with the lower
edge aligned with the current Y position. Top justification and Y
centering are turned off.
</code></pre></div>

<h2 id="example_40">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_bottomjustify</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">real</span>    :: <span class="nv">x1</span>, <span class="nv">x2</span>, <span class="nv">y1</span>, <span class="nv">y2</span>
<span class="nv">real</span>    :: <span class="nv">scl</span>, <span class="nv">ax</span>, <span class="nv">bx</span>
<span class="nv">integer</span> :: <span class="nv">key</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">1200</span>,<span class="mi">120</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="nv">x1</span><span class="o">=</span><span class="mi">0</span><span class="c1">; x2=40; y1=0; y2=4; scl=1.9</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="nv">x1</span>,<span class="nv">x2</span>,<span class="nv">y1</span>,<span class="nv">y2</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">9</span><span class="o">*</span><span class="nv">scl</span>,<span class="mi">1</span>.<span class="mi">4</span><span class="o">*</span><span class="nv">scl</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">times.rb</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">200</span><span class="ss">)</span>
   <span class="nv">AX</span><span class="o">=</span><span class="ss">(</span><span class="nv">x1</span><span class="o">+</span><span class="nv">x2</span><span class="ss">)</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="c1">; BX=y1+1.3</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">bottomjustify</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">bottomjustify()</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">AX</span><span class="o">+</span><span class="mi">1</span>.<span class="mi">0</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="o">+</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vflush</span><span class="ss">()</span>
   <span class="nv">key</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_bottomjustify</span>
</code></pre></div>

<h2 id="name_65">NAME</h2>
<div class="codehilite"><pre><span></span><code>ycentertext(3f) - [M_draw:TEXT] center text in the Y direction
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_64">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>    subroutine ycentertext()
</code></pre></div>

<h2 id="description_64">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Centers text in the Y direction. The text string will so that its
center line is aligned with the current y position. Top justification
and Bottom justification are turned off.
</code></pre></div>

<h2 id="example_41">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_ycentertext</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">real</span>    :: <span class="nv">x1</span>, <span class="nv">x2</span>, <span class="nv">y1</span>, <span class="nv">y2</span>
<span class="nv">real</span>    :: <span class="nv">scl</span>, <span class="nv">ax</span>, <span class="nv">bx</span>
<span class="nv">integer</span> :: <span class="nv">key</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">1200</span>,<span class="mi">120</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
   <span class="nv">x1</span><span class="o">=</span><span class="mi">0</span><span class="c1">; x2=40; y1=0; y2=4; scl=1.9</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="nv">x1</span>,<span class="nv">x2</span>,<span class="nv">y1</span>,<span class="nv">y2</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">9</span><span class="o">*</span><span class="nv">scl</span>,<span class="mi">1</span>.<span class="mi">4</span><span class="o">*</span><span class="nv">scl</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">times.rb</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">200</span><span class="ss">)</span>
   <span class="nv">AX</span><span class="o">=</span><span class="ss">(</span><span class="nv">x1</span><span class="o">+</span><span class="nv">x2</span><span class="ss">)</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">0</span><span class="c1">; BX=(y1+y2)/2.0</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">ycentertext</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_MAGENTA</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">ycentertext()</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_CYAN</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">AX</span><span class="o">+</span><span class="mi">1</span>.<span class="mi">0</span>,<span class="nv">BX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">AX</span>,<span class="nv">BX</span><span class="o">+</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vflush</span><span class="ss">()</span>
   <span class="nv">key</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_ycentertext</span>
</code></pre></div>

<h2 id="name_66">NAME</h2>
<div class="codehilite"><pre><span></span><code>textslant(3f) - [M_draw:TEXT] Defines the obliqueness of the fonts.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_65">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>    <span class="n">subroutine</span> <span class="n">textslant</span><span class="p">(</span><span class="k">var</span><span class="p">)</span>
    <span class="n">real</span> <span class="k">var</span>
</code></pre></div>

<h2 id="description_65">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Defines the obliqueness of the fonts. This is a simplistic method that
allows you to generate italicized versions of the software fonts. The x-
values of the software font coordinates after the current textsize()
values are applied are multiplied by (1+val).

Note that this means the same value tilts the characters less the taller
the characters are relative to their width.

Generally, practical values are generally between -1 and 1 times the
</code></pre></div>

<h2 id="example_42">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_textslant</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">real</span>    :: <span class="nv">x1</span>, <span class="nv">x2</span>, <span class="nv">y1</span>, <span class="nv">y2</span>
<span class="nv">real</span>    :: <span class="nv">scl</span>
<span class="nv">integer</span> :: <span class="nv">key</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">1200</span>,<span class="mi">300</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
   <span class="nv">x1</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">0</span><span class="c1">; x2=40.0; y1=0.0; y2=10.0; scl=3*0.7</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="nv">x1</span>,<span class="nv">x2</span>,<span class="nv">y1</span>,<span class="nv">y2</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">times.rb</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">180</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">8</span><span class="o">*</span><span class="nv">scl</span>,<span class="mi">1</span>.<span class="mi">2</span><span class="o">*</span><span class="nv">scl</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span> <span class="nv">x1</span><span class="o">+</span>.<span class="mi">3</span>,<span class="nv">y1</span><span class="o">+</span>.<span class="mi">4</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span><span class="c1">; call textslant(0.0);  call drawstr(&quot;textslant(0.0); &quot;)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span><span class="c1">; call textslant(-1.0); call drawstr(&quot; textslant(-1.0);&quot;)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span><span class="c1">; call textslant(1.0);  call drawstr(&quot; textslant(1.0);&quot;)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">8</span><span class="o">*</span><span class="nv">scl</span>,<span class="mi">1</span>.<span class="mi">2</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="nv">scl</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">x1</span><span class="o">+</span>.<span class="mi">3</span>,<span class="nv">y1</span><span class="o">+</span><span class="mi">3</span><span class="o">+</span>.<span class="mi">4</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_MAGENTA</span><span class="ss">)</span><span class="c1">; call textslant(1.0); call drawstr(&quot; textslant(1.0);&quot;)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">8</span><span class="o">*</span><span class="nv">scl</span>,<span class="mi">1</span>.<span class="mi">2</span><span class="o">*</span><span class="nv">scl</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_CYAN</span><span class="ss">)</span><span class="c1">; call textslant(0.3); call drawstr(&quot; textslant(0.3);&quot;)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span><span class="c1">; call textslant(0.5); call drawstr(&quot; textslant(0.5);&quot;)</span>
   <span class="k">call</span> <span class="nl">vflush</span><span class="ss">()</span>
   <span class="nv">key</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_textslant</span>
</code></pre></div>

<h2 id="name_67">NAME</h2>
<div class="codehilite"><pre><span></span><code>textweight(3f) - [M_draw:TEXT] Defines the weight of the fonts.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_66">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>    subroutine textweight(ival)
    integer ival
</code></pre></div>

<h2 id="description_66">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code> <span class="n">Defines</span> <span class="n">the</span> <span class="n">weight</span> <span class="n">of</span> <span class="n">the</span> <span class="n">fonts</span><span class="o">.</span> <span class="n">Currently</span><span class="p">,</span> <span class="n">the</span> <span class="n">predefined</span> <span class="n">constants</span>
 <span class="ow">in</span> <span class="n">C</span> <span class="ow">and</span> <span class="n">Fortran</span> <span class="n">are</span> <span class="n">D_NORMAL</span> <span class="ow">and</span> <span class="n">D_BOLD</span><span class="p">;</span> <span class="n">which</span> <span class="n">correspond</span> <span class="n">to</span> <span class="mi">0</span>
 <span class="ow">and</span> <span class="mf">1.</span> <span class="n">This</span> <span class="k">is</span> <span class="ow">not</span> <span class="n">the</span> <span class="n">same</span> <span class="k">as</span> <span class="n">using</span> <span class="n">linethickess</span> <span class="n">to</span> <span class="n">change</span> <span class="n">the</span>
 <span class="n">appearance</span> <span class="n">of</span> <span class="n">a</span> <span class="n">software</span> <span class="n">font</span><span class="o">.</span> <span class="n">The</span> <span class="n">font</span> <span class="k">is</span> <span class="n">redrawn</span> <span class="n">multiple</span> <span class="n">times</span>
 <span class="n">with</span> <span class="n">a</span> <span class="n">slight</span> <span class="n">offset</span> <span class="n">to</span> <span class="n">create</span> <span class="n">the</span> <span class="n">bold</span> <span class="n">appearance</span><span class="o">.</span>
</code></pre></div>

<h2 id="example_43">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_textweight</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">real</span>,<span class="nv">parameter</span> :: <span class="nv">w</span><span class="o">=</span><span class="mi">40</span>.<span class="mi">0</span>
<span class="nv">integer</span>        :: <span class="nv">key</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">600</span>,<span class="mi">600</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_YELLOW</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="o">-</span><span class="nv">w</span>,<span class="nv">w</span>,<span class="o">-</span><span class="nv">w</span>,<span class="nv">w</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">times.rb</span><span class="s2">&quot;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">180</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">15</span>.<span class="mi">0</span>,<span class="mi">15</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">centertext</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">0</span><span class="ss">)</span><span class="c1">;call color(D_BLUE)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="nv">W</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">0</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">textweight</span><span class="ss">(</span><span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">NORMAL</span><span class="s1">&#39;</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">0</span><span class="ss">)</span><span class="c1">;call color(D_MAGENTA)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">W</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">0</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">textweight</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">BOLD</span><span class="s1">&#39;</span><span class="ss">)</span>

   <span class="k">call</span> <span class="nl">vflush</span><span class="ss">()</span>
   <span class="nv">key</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_textweight</span>
</code></pre></div>

<h2 id="name_68">NAME</h2>
<div class="codehilite"><pre><span></span><code>linewidth(3f) - [M_draw:LINESTYLE] set line width in rasters
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_67">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine linewidth(iwidth)
     integer iwidth
</code></pre></div>

<h2 id="description_67">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Set the current line width in units of 1/10,000 of the X size of the
display surface
</code></pre></div>

<h2 id="example_44">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_linewidth</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,     <span class="nv">only</span> : <span class="nv">prefsize</span>, <span class="nv">vinit</span>, <span class="nv">clear</span>, <span class="nv">getkey</span>, <span class="nv">drawstr</span>, <span class="nv">page</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,     <span class="nv">only</span> : <span class="nv">textsize</span>, <span class="nv">ycentertext</span>, <span class="nv">rdraw2</span>, <span class="nv">rmove2</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,     <span class="nv">only</span> : <span class="nv">move2</span>, <span class="nv">draw2</span>, <span class="nv">vexit</span>, <span class="nv">color</span>, <span class="nv">linewidth</span>, <span class="nv">font</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,     <span class="nv">only</span> : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,     <span class="nv">only</span> : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
<span class="nv">use</span> <span class="nv">M_draw</span>,     <span class="nv">only</span> : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
<span class="nv">implicit</span> <span class="nv">none</span>
<span class="nv">real</span>    :: <span class="nv">b</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">5</span>
<span class="nv">integer</span> :: <span class="nv">ipaws</span>
<span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">1000</span>,<span class="mi">200</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
<span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="o">-</span><span class="mi">25</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">b</span>, <span class="mi">25</span>.<span class="mi">0</span><span class="o">+</span><span class="nv">b</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">b</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="o">+</span><span class="nv">b</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_YELLOW</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">2</span>.<span class="mi">4</span>,<span class="mi">3</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">futura.m</span><span class="s2">&quot;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">ycentertext</span><span class="ss">()</span>
<span class="o">!</span> <span class="nv">draw</span> <span class="nv">circles</span> <span class="nv">with</span> <span class="nv">different</span> <span class="nv">precisions</span> <span class="nv">and</span> <span class="nv">label</span> <span class="nv">center</span> <span class="nv">of</span> <span class="nv">circles</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">20</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">3</span>.<span class="mi">5</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rdraw2</span><span class="ss">(</span><span class="mi">10</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rmove2</span><span class="ss">(</span><span class="mi">3</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">180</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">0</span><span class="s2">&quot;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">100</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">20</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rdraw2</span><span class="ss">(</span><span class="mi">10</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rmove2</span><span class="ss">(</span><span class="mi">3</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">180</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">100</span><span class="s2">&quot;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">200</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">20</span>.<span class="mi">0</span>,<span class="mi">3</span>.<span class="mi">5</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rdraw2</span><span class="ss">(</span><span class="mi">10</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rmove2</span><span class="ss">(</span><span class="mi">3</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">180</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">200</span><span class="s2">&quot;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">300</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">3</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">3</span>.<span class="mi">5</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rdraw2</span><span class="ss">(</span><span class="mi">10</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rmove2</span><span class="ss">(</span><span class="mi">3</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">180</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">300</span><span class="s2">&quot;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_MAGENTA</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">400</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">3</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rdraw2</span><span class="ss">(</span><span class="mi">10</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rmove2</span><span class="ss">(</span><span class="mi">3</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">180</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">400</span><span class="s2">&quot;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_CYAN</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">500</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">3</span>.<span class="mi">0</span>,<span class="mi">3</span>.<span class="mi">5</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rdraw2</span><span class="ss">(</span><span class="mi">10</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rmove2</span><span class="ss">(</span><span class="mi">3</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">180</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">500</span><span class="s2">&quot;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">200</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">25</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="o">-</span><span class="mi">25</span>.<span class="mi">0</span>,<span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="mi">25</span>.<span class="mi">0</span>,<span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="mi">25</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="o">-</span><span class="mi">25</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
<span class="o">!</span> <span class="k">exit</span> <span class="nv">graphics</span> <span class="nv">mode</span>
<span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_linewidth</span>
</code></pre></div>

<h2 id="name_69">NAME</h2>
<div class="codehilite"><pre><span></span><code>dashcode(3f) - [M_draw:LINESTYLE] set dash pattern length
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_68">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine dashcode(dashlen)
     real dashlen
</code></pre></div>

<h2 id="description_68">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Set the current dash length (in world units) to be dashlen.
</code></pre></div>

<h2 id="image_1">IMAGE</h2>
<div class="codehilite"><pre><span></span><code>The sample graphic shows a line segment being drawn using the same
linestyle except the dashcode is being changed. Note that the dashcode
is in world units,
</code></pre></div>

<h2 id="example_45">EXAMPLE</h2>
<p>Sample program:</p>
<p>program demo_dashcode
   use M_draw
   implicit none
   integer        :: icolor
   integer        :: ikey
   real,parameter :: b=0.5
   real           :: x, y
   real           :: dcode
      call prefsize(1000,200)
      call vinit(&lsquo; &lsquo;)
      call color(D_BLACK)
      call clear()
      call page(-25.0-b, 25.0+b, -5.0-b, 5.0+b)
      call textsize(2.0, 2.4)
      call font(&ldquo;futura.m&rdquo;)
      call ycentertext()
      icolor=7; dcode=0.010/5.0; X=-23.0; Y=3.5  ; call line()
      icolor=1; dcode=0.025/5.0; X=-23.0; Y=-0.0 ; call line()
      icolor=2; dcode=0.030/5.0; X=-23.0; Y=-3.5 ; call line()
      icolor=4; dcode=0.050/5.0; X=0.0;   Y=3.5  ; call line()
      icolor=5; dcode=0.075/5.0; X=0.0;   Y=-0.0 ; call line()
      icolor=6; dcode=0.100/5.0; X=0.0;   Y=-3.5 ; call line()
      call linewidth(200)
      call color(D_BLUE)
      call move2(-25.0, -5.0)
      call draw2(-25.0,  5.0)
      call draw2(25.0,   5.0)
      call draw2(25.0,  -5.0)
      call draw2(-25.0, -5.0)
      ikey=getkey()
      call vexit()
   contains
   subroutine line
   character(len=6) :: string
      call linestyle(&lsquo;11100100&rsquo;)
      call dashcode(dcode)
      call color(icolor)
      call linewidth(70)
      call move2(X,Y)
      call rdraw2(10.0, 0.0)
      call rmove2(3.0, 0.0)
      call linestyle(&lsquo;&rsquo;)
      call linewidth(180)
      call color(D_WHITE)
      write(string,&rsquo;(f6.3)&rsquo;)dcode
      call drawstr (string)
   end subroutine line
   end program demo_dashcode</p>
<h2 id="name_70">NAME</h2>
<div class="codehilite"><pre><span></span><code> linestyle(3f) - [M_draw:LINESTYLE] set the line dash pattern
 (LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_69">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>subroutine linestyle(style)
character *(*) style
</code></pre></div>

<h2 id="description_69">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="w"> </span><span class="k">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">linestyle</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">style</span><span class="p">.</span><span class="w"> </span><span class="n">Linestyles</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">giving</span><span class="w"></span>
<span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">nominal</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">dash</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">character</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">consisting</span><span class="w"></span>
<span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="mi">1</span><span class="s1">&#39;s and 0&#39;</span><span class="n">s</span><span class="w"> </span><span class="p">(</span><span class="n">zeros</span><span class="p">)</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">draw</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">dash</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="ow">not</span><span class="w"></span>
<span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">draw</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">dash</span><span class="p">.</span><span class="w"> </span><span class="ss">&quot;1&quot;</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">dash</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;0&quot;</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">gap</span><span class="p">.</span><span class="w"> </span><span class="n">Linestyles</span><span class="w"> </span><span class="n">will</span><span class="w"></span>
<span class="w"> </span><span class="n">follow</span><span class="w"> </span><span class="n">curves</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ss">&quot;go around&quot;</span><span class="w"> </span><span class="n">corners</span><span class="p">.</span><span class="w"></span>

<span class="w"> </span><span class="k">To</span><span class="w"> </span><span class="n">reset</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">solid</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">style</span><span class="p">,</span><span class="w"> </span><span class="n">enter</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">linestyle</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="ss">&quot; &quot;</span><span class="p">.</span><span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="n">a</span><span class="w"></span>
<span class="w"> </span><span class="n">linestyle</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">reset</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">accumulated</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">where</span><span class="w"></span>
<span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">curve</span><span class="w"> </span><span class="p">(</span><span class="ow">or</span><span class="w"> </span><span class="n">line</span><span class="p">)</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">dash</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">draw</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">reset</span><span class="p">.</span><span class="w"></span>

<span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">sample</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">shows</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">segment</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">drawn</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"></span>
<span class="w"> </span><span class="n">dashcode</span><span class="w"> </span><span class="p">(</span><span class="k">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">dash</span><span class="w"> </span><span class="n">length</span><span class="p">)</span><span class="w"> </span><span class="ow">except</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">linestyle</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">being</span><span class="w"></span>
<span class="w"> </span><span class="n">changed</span><span class="p">.</span><span class="w"> </span><span class="n">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dashcode</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="n">units</span><span class="p">.</span><span class="w"></span>
</code></pre></div>

<h2 id="example_46">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code> <span class="nv">program</span> <span class="nv">demo_linestyle</span>
 <span class="o">!</span> <span class="nv">A</span> <span class="nv">program</span> <span class="nv">showing</span> <span class="nv">basic</span> <span class="nv">line</span> <span class="nv">styles</span>.
 <span class="nv">use</span> <span class="nv">M_draw</span>
 <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">40</span><span class="ss">)</span> :: <span class="nv">device</span>
 <span class="nv">integer</span>           :: <span class="nv">ios</span>

    <span class="nv">print</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">Enter output device: </span><span class="s1">&#39;</span>
    <span class="nv">read</span><span class="ss">(</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">(a)</span><span class="s1">&#39;</span>,<span class="nv">iostat</span><span class="o">=</span><span class="nv">ios</span><span class="ss">)</span><span class="nv">device</span>
    <span class="k">if</span><span class="ss">(</span><span class="nv">ios</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="nv">device</span><span class="o">=</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span>

    <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">1000</span>,<span class="mi">1000</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="nv">device</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">vsetflush</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
    <span class="k">call</span> <span class="nl">up</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">perspective</span><span class="ss">(</span><span class="mi">90</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">3</span>, <span class="mi">3</span>.<span class="mi">0</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">3</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">30</span><span class="ss">)</span>

    <span class="k">call</span> <span class="nl">drawscene</span><span class="ss">()</span>
    <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="o">-</span><span class="mi">30</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">y</span><span class="s1">&#39;</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="o">-</span><span class="mi">30</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">x</span><span class="s1">&#39;</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">drawscene</span><span class="ss">()</span>

    <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
    <span class="nv">contains</span>

    <span class="nv">subroutine</span> <span class="nv">drawscene</span><span class="ss">()</span>

       <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>

       <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">dashcode</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">03</span><span class="ss">)</span>

       <span class="k">call</span> <span class="nl">linestyle</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">xcentertext</span><span class="ss">()</span>
       <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">0</span>.<span class="mi">45</span>, <span class="mi">0</span>.<span class="mi">9</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">Linestyle: &quot;10&quot;</span><span class="s1">&#39;</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">0</span>.<span class="mi">45</span>, <span class="mi">0</span>.<span class="mi">7</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">Linestyle: &quot;110&quot;</span><span class="s1">&#39;</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">0</span>.<span class="mi">45</span>, <span class="mi">0</span>.<span class="mi">5</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">Linestyle: &quot;111010&quot;</span><span class="s1">&#39;</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">0</span>.<span class="mi">45</span>, <span class="mi">0</span>.<span class="mi">3</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">Linestyle: &quot;0001&quot;</span><span class="s1">&#39;</span><span class="ss">)</span>

       <span class="k">call</span> <span class="nl">linestyle</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">10</span><span class="s1">&#39;</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">0</span>.<span class="mi">9</span>, <span class="mi">0</span>.<span class="mi">9</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span> <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">9</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">6</span>, <span class="mi">0</span>.<span class="mi">6</span>, <span class="mi">0</span>.<span class="mi">4</span><span class="ss">)</span>

       <span class="k">call</span> <span class="nl">drawbox</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">9</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">drawsine</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">9</span><span class="ss">)</span>

       <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">linestyle</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">110</span><span class="s1">&#39;</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">0</span>.<span class="mi">9</span>, <span class="mi">0</span>.<span class="mi">7</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span> <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">7</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">6</span>, <span class="mi">0</span>.<span class="mi">6</span>, <span class="mi">0</span>.<span class="mi">3</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">drawbox</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">7</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">drawsine</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">7</span><span class="ss">)</span>

       <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_CYAN</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">linestyle</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">111010</span><span class="s1">&#39;</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">0</span>.<span class="mi">9</span>, <span class="mi">0</span>.<span class="mi">5</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span> <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">5</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">6</span>, <span class="mi">0</span>.<span class="mi">6</span>, <span class="mi">0</span>.<span class="mi">2</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">drawbox</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">5</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">drawsine</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">5</span><span class="ss">)</span>

       <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_YELLOW</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">linestyle</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">0001</span><span class="s1">&#39;</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">0</span>.<span class="mi">9</span>, <span class="mi">0</span>.<span class="mi">3</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span> <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">3</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">6</span>, <span class="mi">0</span>.<span class="mi">6</span>, <span class="mi">0</span>.<span class="mi">1</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">drawbox</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">3</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">drawsine</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">3</span><span class="ss">)</span>

       <span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>

       <span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">drawscene</span>

       <span class="nv">subroutine</span> <span class="nv">drawbox</span><span class="ss">(</span><span class="nv">scl</span><span class="ss">)</span>
       <span class="nv">real</span> :: <span class="nv">scl</span>

       <span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>

       <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">30</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">x</span><span class="s1">&#39;</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">60</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">y</span><span class="s1">&#39;</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="o">-</span><span class="mi">0</span>.<span class="mi">7</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">2</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">scale</span><span class="ss">(</span><span class="nv">scl</span>, <span class="nv">scl</span>, <span class="nv">scl</span><span class="ss">)</span>

       <span class="k">call</span> <span class="nl">move</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>

       <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>

       <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>

       <span class="k">call</span> <span class="nl">move</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>

       <span class="k">call</span> <span class="nl">move</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>

       <span class="k">call</span> <span class="nl">move</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>

       <span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>

       <span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">drawbox</span>

       <span class="nv">subroutine</span> <span class="nv">drawsine</span><span class="ss">(</span><span class="nv">s</span><span class="ss">)</span>
       <span class="nv">real</span>    <span class="nv">s</span>, <span class="nv">RAD</span>, <span class="nv">AMP</span>
       <span class="nv">parameter</span><span class="ss">(</span><span class="nv">RAD</span> <span class="o">=</span> <span class="mi">0</span>.<span class="mi">5</span>, <span class="nv">AMP</span> <span class="o">=</span> <span class="mi">0</span>.<span class="mi">04</span><span class="ss">)</span>
       <span class="nv">real</span>    <span class="nv">a</span>, <span class="nv">x</span>, <span class="nv">y</span>, <span class="nv">z</span>

       <span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>

       <span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="nv">RAD</span> <span class="o">+</span> <span class="mi">0</span>.<span class="mi">2</span>, <span class="o">-</span><span class="mi">0</span>.<span class="mi">5</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">scale</span><span class="ss">(</span><span class="nv">s</span>, <span class="nv">s</span>, <span class="nv">s</span><span class="ss">)</span>

       <span class="k">call</span> <span class="nl">move</span><span class="ss">(</span><span class="nv">RAD</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
       <span class="nv">a</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">0</span>
       <span class="k">do</span> <span class="nv">i10</span> <span class="o">=</span> <span class="mi">0</span>,<span class="mi">2</span><span class="o">*</span><span class="mi">314</span>,<span class="mi">2</span>
          <span class="nv">x</span> <span class="o">=</span> <span class="nv">RAD</span> <span class="o">*</span> <span class="nv">cos</span><span class="ss">(</span><span class="nv">a</span><span class="ss">)</span>
          <span class="nv">z</span> <span class="o">=</span> <span class="nv">RAD</span> <span class="o">*</span> <span class="nv">sin</span><span class="ss">(</span><span class="nv">a</span><span class="ss">)</span>
          <span class="nv">y</span> <span class="o">=</span> <span class="nv">AMP</span> <span class="o">*</span> <span class="nv">sin</span><span class="ss">(</span><span class="nv">a</span> <span class="o">*</span> <span class="mi">6</span>.<span class="mi">0</span><span class="ss">)</span>

          <span class="k">call</span> <span class="nl">draw</span><span class="ss">(</span><span class="nv">x</span>, <span class="nv">y</span>, <span class="nv">z</span><span class="ss">)</span>
          <span class="nv">a</span><span class="o">=</span><span class="nv">a</span><span class="o">+</span><span class="mi">0</span>.<span class="mi">02</span>
       <span class="nv">enddo</span>
       <span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>
       <span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">drawsine</span>
 <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_linestyle</span>
</code></pre></div>

<h2 id="name_71">NAME</h2>
<div class="codehilite"><pre><span></span><code>clear(3f) - [M_draw:COLOR] Clears screen to current color
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_70">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>subroutine clear()
</code></pre></div>

<h2 id="description_70">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Clears</span> <span class="nv">the</span> <span class="nv">screen</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">current</span> <span class="nv">color</span>. <span class="nv">Causes</span> <span class="nv">a</span> <span class="nv">new</span> <span class="nv">page</span> <span class="nv">to</span> <span class="nv">begin</span>
<span class="nv">on</span> <span class="nv">file</span><span class="o">-</span><span class="nv">based</span> <span class="nv">devices</span> <span class="nv">that</span> <span class="nv">support</span> <span class="nv">multiple</span> <span class="nv">pages</span> <span class="ss">(</span><span class="nv">Currently</span>, <span class="nv">the</span>
<span class="nv">pixmap</span> <span class="nv">devices</span> <span class="k">do</span> <span class="nv">not</span> <span class="nv">support</span> <span class="nv">multiple</span> <span class="nv">pages</span><span class="ss">)</span>.
</code></pre></div>

<h2 id="example_47">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code>  <span class="nv">program</span> <span class="nv">demo_clear</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span>  : <span class="nv">prefsize</span>, <span class="nv">vinit</span>, <span class="nv">ortho2</span>, <span class="nv">clear</span>, <span class="nv">getkey</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span>  : <span class="nv">vexit</span>, <span class="nv">color</span>, <span class="nv">circle</span>, <span class="nv">polyfill</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span>  : <span class="nv">D_BLACK</span>,   <span class="nv">D_WHITE</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span>  : <span class="nv">D_RED</span>,     <span class="nv">D_GREEN</span>,    <span class="nv">D_BLUE</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>, <span class="nv">only</span>  : <span class="nv">D_YELLOW</span>,  <span class="nv">D_MAGENTA</span>,  <span class="nv">D_CYAN</span>
  <span class="nv">implicit</span> <span class="nv">none</span>
  <span class="nv">integer</span> :: <span class="nv">ipaws</span>

  <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">300</span>,<span class="mi">300</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
  <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
  <span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">100</span>.<span class="mi">0</span>,<span class="mi">100</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">100</span>.<span class="mi">0</span>,<span class="mi">100</span>.<span class="mi">0</span><span class="ss">)</span>

  <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>               <span class="o">!</span> <span class="nv">set</span> <span class="nv">current</span>  <span class="nv">color</span>
  <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>                <span class="o">!</span> <span class="nv">clear</span> <span class="nv">background</span> <span class="nv">to</span> <span class="nv">current</span> <span class="nv">color</span>
  <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>               <span class="o">!</span> <span class="nv">set</span> <span class="nv">color</span> <span class="nv">to</span> <span class="nv">draw</span> <span class="nv">with</span>
  <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">50</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>              <span class="o">!</span> <span class="k">pause</span> <span class="k">for</span> <span class="nv">a</span> <span class="nv">keypress</span> <span class="nv">on</span> <span class="nv">interactive</span> <span class="nv">devices</span>

  <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>               <span class="o">!</span> <span class="nv">make</span> <span class="nv">a</span> <span class="nv">second</span> <span class="nv">page</span>
  <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
  <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
  <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_YELLOW</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">50</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>

  <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>

  <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_clear</span>
</code></pre></div>

<h2 id="name_72">NAME</h2>
<div class="codehilite"><pre><span></span><code>color(3f) - [M_draw:COLOR] Set current color
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_71">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine color(col)
     integer,intent(in) :: col
</code></pre></div>

<h2 id="description_71">DESCRIPTION</h2>
<p>Set the current color. The standard colors are as follows:</p>
<div class="codehilite"><pre><span></span><code>   d_black  =  0  d_red      =  1  d_green  =  2  d_yellow  =  3
   d_blue   =  4  d_magenta  =  5  d_cyan   =  6  d_white   =  7
</code></pre></div>

<h2 id="option">OPTION</h2>
<div class="codehilite"><pre><span></span><code> COL  A color number from 0 to 255. To define additional
      colors see mapcolor(3f).
</code></pre></div>

<h2 id="example_48">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code> <span class="nv">program</span> <span class="nv">demo_color</span>
 <span class="nv">use</span> <span class="nv">M_draw</span>
 <span class="nv">real</span>    :: <span class="nv">b</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">5</span>
 <span class="nv">real</span>    :: <span class="nv">y1</span>,<span class="nv">y2</span>,<span class="nv">ym</span>,<span class="nv">x1</span>,<span class="nv">x2</span>
 <span class="nv">real</span>    :: <span class="nv">width</span><span class="o">=</span><span class="mi">50</span>.<span class="mi">0</span><span class="o">/</span><span class="mi">8</span>.<span class="mi">0</span>,<span class="nv">width2</span>
 <span class="nv">integer</span> :: <span class="nv">i</span>
 <span class="nv">integer</span> :: <span class="nv">ipaws</span>
    <span class="o">!!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">long</span> <span class="nv">bar</span> <span class="nv">as</span> <span class="nv">plotting</span> <span class="nv">area</span>
    <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">1000</span>,<span class="mi">200</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
    <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="o">-</span><span class="mi">25</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">b</span>, <span class="mi">25</span>.<span class="mi">0</span><span class="o">+</span><span class="nv">b</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">b</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="o">+</span><span class="nv">b</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span> <span class="mi">3</span>.<span class="mi">5</span>, <span class="mi">4</span>.<span class="mi">0</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">futura.m</span><span class="s1">&#39;</span><span class="ss">)</span>
    <span class="k">call</span> <span class="nl">centertext</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
    <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">90</span><span class="ss">)</span>
    <span class="nv">y1</span><span class="o">=-</span><span class="mi">5</span>
    <span class="nv">y2</span><span class="o">=</span><span class="mi">5</span>
    <span class="nv">ym</span><span class="o">=</span><span class="mi">0</span>
    <span class="nv">x1</span><span class="o">=-</span><span class="mi">25</span><span class="o">+</span>.<span class="mi">05</span><span class="o">*</span><span class="nv">width</span>
    <span class="o">!</span> <span class="nv">draw</span> <span class="nv">colored</span> <span class="nv">rectangle</span> <span class="nv">and</span> <span class="nv">a</span> <span class="nv">circle</span> <span class="nv">and</span> <span class="nv">label</span> <span class="nv">center</span> <span class="nv">of</span> <span class="nv">circle</span>
    <span class="o">!</span> <span class="nv">and</span> <span class="nv">repeat</span> <span class="nv">from</span> <span class="nv">colors</span> <span class="mi">0</span> <span class="nv">to</span> <span class="mi">7</span>.
    <span class="nv">width2</span><span class="o">=</span><span class="nv">width</span><span class="o">*</span><span class="mi">0</span>.<span class="mi">95</span>
    <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">40</span><span class="ss">)</span>
    <span class="k">do</span> <span class="nv">i</span><span class="o">=</span><span class="mi">0</span>,<span class="mi">7</span>
       <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">i</span><span class="ss">)</span>
       <span class="nv">x2</span><span class="o">=</span><span class="nv">x1</span><span class="o">+</span><span class="nv">width2</span>
       <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
       <span class="k">call</span> <span class="nl">makepoly</span><span class="ss">()</span>
       <span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="nv">x1</span>,<span class="nv">y1</span>,<span class="nv">x2</span>,<span class="nv">y2</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">closepoly</span><span class="ss">()</span>
       <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">mod</span><span class="ss">(</span><span class="nv">i</span><span class="o">+</span><span class="mi">1</span>,<span class="mi">7</span><span class="ss">)</span><span class="o">+</span><span class="mi">1</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">move2</span><span class="ss">((</span><span class="nv">x1</span><span class="o">+</span><span class="nv">x2</span><span class="ss">)</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">0</span>,<span class="nv">ym</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">print</span><span class="ss">(</span><span class="nv">i</span><span class="ss">)</span>     <span class="o">!</span> <span class="nv">convert</span> <span class="nv">number</span> <span class="nv">to</span> <span class="nv">string</span> <span class="nv">and</span> <span class="nv">draw</span> <span class="nv">it</span>
       <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>
       <span class="k">call</span> <span class="nl">circle</span><span class="ss">((</span><span class="nv">x1</span><span class="o">+</span><span class="nv">x2</span><span class="ss">)</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">0</span>, <span class="nv">ym</span>, <span class="ss">(</span><span class="nv">x2</span><span class="o">-</span><span class="nv">x1</span><span class="ss">)</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">10</span><span class="ss">)</span>
       <span class="nv">x1</span><span class="o">=</span><span class="nv">x1</span><span class="o">+</span><span class="nv">width</span>
    <span class="nv">enddo</span>
    <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
    <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
 <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_color</span>
</code></pre></div>

<h2 id="name_73">NAME</h2>
<div class="codehilite"><pre><span></span><code>mapcolor(3f) - [M_draw:COLOR] set a color index using RGB values
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_72">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine mapcolor(indx, red, green, blue)
     integer,intent(in) :: indx, red, green, blue
</code></pre></div>

<h2 id="description_72">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Set</span> <span class="nv">the</span> <span class="nv">color</span> <span class="nv">map</span> <span class="nv">index</span> <span class="nv">indx</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">color</span> <span class="nv">represented</span> <span class="nv">by</span> <span class="ss">(</span><span class="nv">red</span>, <span class="nv">green</span>,
<span class="nv">blue</span><span class="ss">)</span>. <span class="k">If</span> <span class="nv">the</span> <span class="nv">device</span> <span class="nv">has</span> <span class="nv">no</span> <span class="nv">color</span> <span class="nv">map</span> <span class="nv">this</span> <span class="k">call</span> <span class="nl">does</span> <span class="nv">nothing</span>.

<span class="nv">rgb</span> <span class="nv">values</span> <span class="nv">are</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">range</span> <span class="nv">of</span> <span class="mi">0</span> <span class="nv">to</span> <span class="mi">255</span>.
</code></pre></div>

<h2 id="options_12">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code>INDX    color index number, in range 0 to 255
RED     red component of color being defined, in range 0 to 255
GREEN   green component of color being defined, in range 0 to 255
BLUE    blue component of color being defined, in range 0 to 255
</code></pre></div>

<h2 id="example_49">EXAMPLE</h2>
<p>Color wheel EXAMPLE:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_mapcolor</span>
<span class="o">!</span>   <span class="nv">good</span> <span class="nv">program</span> <span class="nv">to</span> <span class="nv">exercise</span> <span class="nv">color</span> <span class="nv">tables</span>, <span class="nv">and</span> <span class="nv">look</span> <span class="nv">at</span> <span class="nv">differences</span>
<span class="o">!</span>   <span class="nv">when</span> <span class="nv">actual</span> <span class="nv">output</span> <span class="nv">device</span> <span class="nv">has</span> <span class="nv">a</span> <span class="nv">color</span> <span class="nv">table</span> <span class="nv">that</span> <span class="nv">is</span> <span class="nv">dynamic</span>,
<span class="o">!</span>   <span class="nv">or</span> <span class="nv">only</span> <span class="nv">has</span> <span class="nv">a</span> <span class="nv">small</span> <span class="nv">color</span> <span class="nv">table</span> <span class="ss">(</span><span class="nv">a</span> <span class="nv">frame</span> <span class="nv">in</span> <span class="nv">this</span> <span class="nv">program</span> <span class="nv">takes</span>
<span class="o">!</span>   <span class="nv">at</span> <span class="nv">least</span> <span class="nv">SLICES</span><span class="o">*</span><span class="nv">RINGS</span> <span class="nv">colors</span> <span class="nv">to</span> <span class="nv">produce</span> <span class="nv">accurately</span><span class="ss">)</span>.
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">use</span> <span class="nv">m_color</span>, <span class="nv">only</span> : <span class="nv">hue</span>
<span class="nv">use</span> <span class="nv">M_units</span>, <span class="nv">only</span> : <span class="nv">cosd</span>, <span class="nv">sind</span>
<span class="nv">implicit</span> <span class="nv">none</span>
   <span class="nv">real</span>                 :: <span class="nv">lightstep</span>
   <span class="nv">integer</span>              :: <span class="nv">ii</span>,<span class="nv">iframe</span>
   <span class="nv">integer</span>,<span class="nv">parameter</span>    :: <span class="nv">SLICES</span><span class="o">=</span><span class="mi">30</span>
   <span class="nv">integer</span>,<span class="nv">parameter</span>    :: <span class="nv">RINGS</span><span class="o">=</span>  <span class="mi">8</span>
   <span class="nv">real</span>                 :: <span class="nv">LIGHTNESS</span>
   <span class="nv">integer</span>,<span class="nv">parameter</span>    :: <span class="nv">BOX</span><span class="o">=</span><span class="mi">1200</span>
   <span class="nv">integer</span>              :: <span class="nv">ipaws</span>
   <span class="nv">integer</span>              :: <span class="nv">istart</span>, <span class="nv">iend</span>
   <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">20</span><span class="ss">)</span>    :: <span class="nv">device</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="nv">BOX</span>,<span class="nv">BOX</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
   <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">page</span><span class="ss">(</span><span class="o">-</span><span class="mi">110</span>.<span class="o">/</span><span class="mi">2</span>.,<span class="mi">85</span>.<span class="o">/</span><span class="mi">2</span>.,<span class="o">-</span><span class="mi">110</span>.<span class="o">/</span><span class="mi">2</span>.,<span class="mi">110</span>.<span class="o">/</span><span class="mi">2</span>.<span class="ss">)</span>
   <span class="nv">LIGHTNESS</span><span class="o">=</span><span class="mi">100</span>.<span class="mi">0</span>
   <span class="nv">lightstep</span><span class="o">=-</span><span class="mi">5</span>

   <span class="k">call</span> <span class="nl">vgetdev</span><span class="ss">(</span><span class="nv">device</span><span class="ss">)</span>
   <span class="nv">select</span> <span class="nv">case</span><span class="ss">(</span><span class="nv">device</span><span class="ss">)</span>
   <span class="nv">case</span> <span class="ss">(</span><span class="s1">&#39;</span><span class="s">p6</span><span class="s1">&#39;</span>,<span class="s1">&#39;</span><span class="s">p3</span><span class="s1">&#39;</span>,<span class="s1">&#39;</span><span class="s">ppm</span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">just</span> <span class="k">do</span> <span class="nv">one</span> <span class="nv">wheel</span>
      <span class="nv">istart</span><span class="o">=</span><span class="mi">10</span>
      <span class="nv">iend</span><span class="o">=</span><span class="mi">10</span>
      <span class="nv">LIGHTNESS</span><span class="o">=</span><span class="mi">50</span>.<span class="mi">0</span>
   <span class="nv">case</span> <span class="nv">default</span>           <span class="o">!</span> <span class="k">do</span> <span class="nv">many</span> <span class="nv">lightnesses</span>
      <span class="nv">istart</span><span class="o">=</span><span class="mi">1</span>
      <span class="nv">iend</span><span class="o">=</span><span class="mi">19</span>
   <span class="k">end</span> <span class="nv">select</span>

   <span class="k">do</span> <span class="nv">ii</span><span class="o">=</span><span class="nv">istart</span>,<span class="nv">iend</span>
      <span class="nv">iframe</span><span class="o">=</span><span class="nv">ii</span>
      <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
      <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">wheel</span><span class="ss">()</span>
      <span class="nv">LIGHTNESS</span><span class="o">=</span><span class="nv">LIGHTNESS</span><span class="o">+</span><span class="nv">LIGHTSTEP</span>
      <span class="nv">ipaws</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
   <span class="nv">enddo</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="nv">contains</span>
<span class="o">!=======================================================================--------</span>
<span class="nv">subroutine</span> <span class="nv">wheel</span><span class="ss">()</span> <span class="o">!</span> <span class="nv">draw</span> <span class="nv">an</span> <span class="nv">entire</span> <span class="nv">wheel</span>
   <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">40</span><span class="ss">)</span> :: <span class="nv">inline</span>
   <span class="nv">real</span>              :: <span class="nv">hue_val</span>
   <span class="nv">integer</span>           :: <span class="nv">ii</span>
   <span class="k">call</span> <span class="nl">textang</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">5</span>.<span class="mi">0</span>,<span class="mi">6</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">times.r</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">103</span>.<span class="mi">0</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">centertext</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">30</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">COLOR WHEEL</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span> <span class="mi">2</span>.<span class="mi">5</span>,<span class="mi">2</span>.<span class="mi">5</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">futura.l</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">90</span>.<span class="mi">0</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="nv">write</span><span class="ss">(</span><span class="nv">inline</span>,<span class="s1">&#39;</span><span class="s">(&quot;lightness=&quot;,f6.2)</span><span class="s1">&#39;</span><span class="ss">)</span><span class="nv">LIGHTNESS</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">30</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="nv">inline</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">5</span>,<span class="mi">1</span>.<span class="mi">5</span><span class="ss">)</span>
   <span class="nv">hue_val</span><span class="o">=</span><span class="mi">0</span>
   <span class="k">do</span> <span class="nv">ii</span><span class="o">=</span><span class="nv">SLICES</span>, <span class="mi">1</span>,<span class="o">-</span><span class="mi">1</span>
      <span class="k">call</span> <span class="nl">slice</span><span class="ss">(</span><span class="nv">hue_val</span><span class="ss">)</span>
   <span class="nv">enddo</span>
   <span class="k">call</span> <span class="nl">centertext</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>
<span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">wheel</span>
<span class="o">!=======================================================================--------</span>
<span class="nv">subroutine</span> <span class="nv">slice</span><span class="ss">(</span><span class="nv">hue_val</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">draw</span> <span class="nv">a</span> <span class="nv">slice</span>
   <span class="nv">integer</span>           :: <span class="nv">buffer</span>
   <span class="nv">real</span>              :: <span class="nv">hue_val</span>, <span class="nv">ang_inc</span>
   <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">40</span><span class="ss">)</span> :: <span class="nv">inline</span>
   <span class="nv">real</span>              :: <span class="nv">step</span>
   <span class="nv">real</span>              :: <span class="nv">X1</span>, <span class="nv">X2</span>, <span class="nv">X3</span>, <span class="nv">X4</span>
   <span class="nv">real</span>              :: <span class="nv">Y1</span>, <span class="nv">Y2</span>, <span class="nv">Y3</span>, <span class="nv">Y4</span>
   <span class="o">!</span>
   <span class="nv">integer</span>           :: <span class="nv">maxcolors</span>, <span class="nv">current_color</span>
   <span class="nv">integer</span>           :: <span class="nv">ir</span>, <span class="nv">ig</span>, <span class="nv">ib</span>
   <span class="nv">real</span>              :: <span class="nv">r</span>,<span class="nv">g</span>,<span class="nv">b</span>
   <span class="nv">real</span>              :: <span class="nv">saturation</span>
   <span class="o">!</span>
   <span class="nv">integer</span>           :: <span class="nv">status</span>
   <span class="nv">integer</span>           :: <span class="nv">icount</span>
   <span class="nv">real</span>              :: <span class="nv">angle1</span>, <span class="nv">angle2</span>
   <span class="nv">real</span>              :: <span class="nv">radius1</span>, <span class="nv">radius2</span>, <span class="nv">radius3</span>, <span class="nv">radius4</span>
   <span class="o">!</span>
   <span class="nv">integer</span>,<span class="nv">save</span>      :: <span class="nv">color_count</span><span class="o">=</span><span class="mi">0</span>
   <span class="o">!</span>
   <span class="nv">buffer</span><span class="o">=</span><span class="mi">8</span>
   <span class="nv">ANG_INC</span><span class="o">=</span><span class="mi">360</span>.<span class="mi">0</span><span class="o">/</span><span class="nv">SLICES</span>
   <span class="nv">angle1</span><span class="o">=</span><span class="nv">hue_val</span><span class="o">-</span><span class="nv">ANG_INC</span><span class="o">/</span><span class="mi">2</span>
   <span class="nv">angle2</span><span class="o">=</span><span class="nv">angle1</span><span class="o">+</span><span class="nv">ANG_INC</span>
   <span class="nv">saturation</span><span class="o">=</span><span class="mi">100</span>
   <span class="nv">radius1</span><span class="o">=</span><span class="mi">32</span>
   <span class="nv">radius3</span><span class="o">=</span><span class="nv">radius1</span><span class="o">+</span><span class="mi">4</span>
   <span class="nv">radius4</span><span class="o">=</span><span class="nv">radius1</span><span class="o">+</span><span class="mi">7</span>
   <span class="o">!</span> <span class="nv">draw</span> <span class="nv">tic</span> <span class="nv">from</span> <span class="nv">wheel</span> <span class="nv">to</span> <span class="nv">start</span> <span class="nv">of</span> <span class="nv">angle</span> <span class="nv">label</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">40</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span> <span class="nv">radius1</span><span class="o">*</span><span class="nv">cosd</span><span class="ss">(</span><span class="nv">hue_val</span><span class="ss">)</span>, <span class="nv">radius1</span><span class="o">*</span><span class="nv">sind</span><span class="ss">(</span><span class="nv">hue_val</span><span class="ss">)</span> <span class="ss">)</span>
   <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span> <span class="nv">radius3</span><span class="o">*</span><span class="nv">cosd</span><span class="ss">(</span><span class="nv">hue_val</span><span class="ss">)</span>, <span class="nv">radius3</span><span class="o">*</span><span class="nv">sind</span><span class="ss">(</span><span class="nv">hue_val</span><span class="ss">)</span> <span class="ss">)</span>
   <span class="o">!</span> <span class="nv">draw</span> <span class="nv">degree</span> <span class="nv">label</span> <span class="nv">at</span> <span class="nv">tic</span>
   <span class="k">call</span> <span class="nl">textang</span><span class="ss">(</span><span class="nv">hue_val</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span> <span class="nv">radius4</span><span class="o">*</span><span class="nv">cosd</span><span class="ss">(</span><span class="nv">hue_val</span><span class="ss">)</span>, <span class="nv">radius4</span><span class="o">*</span><span class="nv">sind</span><span class="ss">(</span><span class="nv">hue_val</span><span class="ss">)</span> <span class="ss">)</span>
   <span class="nv">write</span><span class="ss">(</span><span class="nv">inline</span>,<span class="s1">&#39;</span><span class="s">(i0)</span><span class="s1">&#39;</span><span class="ss">)</span><span class="nv">nint</span><span class="ss">(</span><span class="nv">hue_val</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">20</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="nv">inline</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">0</span><span class="ss">)</span>
   <span class="nv">step</span><span class="o">=</span><span class="nv">radius1</span><span class="o">/</span><span class="nv">real</span><span class="ss">(</span><span class="nv">RINGS</span><span class="ss">)</span>
   <span class="nv">radius2</span><span class="o">=</span><span class="nv">radius1</span><span class="o">-</span><span class="nv">step</span>
   <span class="o">!</span> <span class="nv">draw</span> <span class="nv">a</span> <span class="nv">chunk</span> <span class="nv">in</span> <span class="nv">a</span> <span class="nv">slice</span>
   <span class="nv">MAXCOLORS</span><span class="o">=</span><span class="ss">(</span><span class="mi">256</span><span class="ss">)</span><span class="o">-</span><span class="nv">buffer</span>
   <span class="k">do</span> <span class="nv">icount</span><span class="o">=</span><span class="nv">RINGS</span><span class="o">+</span><span class="mi">1</span>,<span class="mi">2</span>,<span class="o">-</span><span class="mi">1</span>
      <span class="nv">CURRENT_COLOR</span><span class="o">=</span><span class="nv">MOD</span><span class="ss">(</span><span class="nv">color_count</span>,<span class="nv">MAXCOLORS</span><span class="ss">)</span><span class="o">+</span><span class="nv">buffer</span>  <span class="o">!</span> <span class="nv">add</span> <span class="nv">buffer</span> <span class="nv">to</span> <span class="nv">leave</span> <span class="nv">base</span> <span class="nv">colors</span> <span class="nv">alone</span>
      <span class="nv">color_count</span><span class="o">=</span><span class="nv">color_count</span><span class="o">+</span><span class="mi">1</span>
      <span class="o">!</span> <span class="nv">fancy</span> <span class="nv">mapcolor</span>
      <span class="k">call</span> <span class="nl">hue</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">hls</span><span class="s2">&quot;</span>,<span class="nv">hue_val</span>,<span class="nv">LIGHTNESS</span>,<span class="nv">saturation</span>,<span class="s2">&quot;</span><span class="s">rgb</span><span class="s2">&quot;</span>,<span class="nv">r</span>,<span class="nv">g</span>,<span class="nv">b</span>,<span class="nv">status</span><span class="ss">)</span>
      <span class="nv">ir</span><span class="o">=</span><span class="nv">int</span><span class="ss">(</span><span class="nv">r</span><span class="o">*</span><span class="mi">255</span>.<span class="mi">0</span><span class="o">/</span><span class="mi">100</span>.<span class="mi">0</span><span class="o">+</span><span class="mi">0</span>.<span class="mi">50</span><span class="ss">)</span>
      <span class="nv">ig</span><span class="o">=</span><span class="nv">int</span><span class="ss">(</span><span class="nv">g</span><span class="o">*</span><span class="mi">255</span>.<span class="mi">0</span><span class="o">/</span><span class="mi">100</span>.<span class="mi">0</span><span class="o">+</span><span class="mi">0</span>.<span class="mi">50</span><span class="ss">)</span>
      <span class="nv">ib</span><span class="o">=</span><span class="nv">int</span><span class="ss">(</span><span class="nv">b</span><span class="o">*</span><span class="mi">255</span>.<span class="mi">0</span><span class="o">/</span><span class="mi">100</span>.<span class="mi">0</span><span class="o">+</span><span class="mi">0</span>.<span class="mi">50</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">mapcolor</span><span class="ss">(</span><span class="nv">CURRENT_COLOR</span>,<span class="nv">ir</span>,<span class="nv">ig</span>,<span class="nv">ib</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">CURRENT_COLOR</span><span class="ss">)</span>
      <span class="o">!</span>
      <span class="nv">X1</span><span class="o">=</span><span class="nv">cosd</span><span class="ss">(</span><span class="nv">angle1</span><span class="ss">)</span><span class="o">*</span><span class="nv">radius2</span>
      <span class="nv">Y1</span><span class="o">=</span><span class="nv">sind</span><span class="ss">(</span><span class="nv">angle1</span><span class="ss">)</span><span class="o">*</span><span class="nv">radius2</span>
      <span class="nv">X2</span><span class="o">=</span><span class="nv">cosd</span><span class="ss">(</span><span class="nv">angle1</span><span class="ss">)</span><span class="o">*</span><span class="nv">radius1</span>
      <span class="nv">Y2</span><span class="o">=</span><span class="nv">sind</span><span class="ss">(</span><span class="nv">angle1</span><span class="ss">)</span><span class="o">*</span><span class="nv">radius1</span>
      <span class="o">!</span>
      <span class="nv">X3</span><span class="o">=</span><span class="nv">cosd</span><span class="ss">(</span><span class="nv">angle2</span><span class="ss">)</span><span class="o">*</span><span class="nv">radius2</span>
      <span class="nv">Y3</span><span class="o">=</span><span class="nv">sind</span><span class="ss">(</span><span class="nv">angle2</span><span class="ss">)</span><span class="o">*</span><span class="nv">radius2</span>
      <span class="nv">X4</span><span class="o">=</span><span class="nv">cosd</span><span class="ss">(</span><span class="nv">angle2</span><span class="ss">)</span><span class="o">*</span><span class="nv">radius1</span>
      <span class="nv">Y4</span><span class="o">=</span><span class="nv">sind</span><span class="ss">(</span><span class="nv">angle2</span><span class="ss">)</span><span class="o">*</span><span class="nv">radius1</span>
      <span class="o">!</span>
      <span class="k">call</span> <span class="nl">makepoly</span><span class="ss">()</span>
      <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">X1</span>,<span class="nv">Y1</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">X2</span>,<span class="nv">Y2</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">X4</span>,<span class="nv">Y4</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">X3</span>,<span class="nv">Y3</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">closepoly</span><span class="ss">()</span>
      <span class="o">!</span>
      <span class="nv">saturation</span><span class="o">=</span><span class="nv">saturation</span><span class="o">-</span><span class="mi">100</span>.<span class="mi">0</span><span class="o">/</span><span class="nv">RINGS</span>
      <span class="nv">radius1</span><span class="o">=</span><span class="nv">radius2</span>
      <span class="nv">radius2</span><span class="o">=</span><span class="nv">radius1</span><span class="o">-</span><span class="nv">step</span>
   <span class="nv">enddo</span>
   <span class="nv">hue_val</span><span class="o">=</span><span class="nv">hue_val</span><span class="o">+</span><span class="nv">ANG_INC</span>
<span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">slice</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_mapcolor</span>
</code></pre></div>

<h2 id="name_74">NAME</h2>
<div class="codehilite"><pre><span></span><code>clipping(3f) - [M_draw:CLIPPING] Turn clipping on or off
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_73">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine clipping(onoff)

      logical onoff
</code></pre></div>

<h2 id="description_73">DESCRIPTION</h2>
<p>Turn clipping on or off. Note: on some devices
 turning clipping off may not be a good idea.</p>
<h2 id="name_75">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">getkey</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="o">-</span> [<span class="nv">M_draw</span>:<span class="nv">INTERACTIVE</span>] <span class="k">Return</span> <span class="nv">ASCII</span> <span class="nv">ordinal</span> <span class="nv">of</span> <span class="k">next</span> <span class="nv">key</span> <span class="nv">typed</span>
<span class="ss">(</span><span class="nv">LICENSE</span>:<span class="nv">PD</span><span class="ss">)</span>
</code></pre></div>

<h2 id="synopsis_74">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      integer function getkey()
</code></pre></div>

<h2 id="description_74">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="k">Return</span> <span class="nv">the</span> <span class="nv">ASCII</span> <span class="nv">ordinal</span> <span class="nv">of</span> <span class="nv">the</span> <span class="k">next</span> <span class="nv">key</span> <span class="nv">typed</span> <span class="nv">at</span> <span class="nv">the</span> <span class="nv">keyboard</span>. <span class="k">If</span> <span class="nv">the</span>
<span class="nv">device</span> <span class="nv">has</span> <span class="nv">no</span> <span class="nv">keyboard</span> <span class="nv">getkey</span><span class="ss">(</span><span class="mi">3</span><span class="ss">)</span> <span class="nv">returns</span> <span class="o">-</span><span class="mi">1</span>.
</code></pre></div>

<h2 id="example_50">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code>  <span class="nv">program</span> <span class="nv">demo_getkey</span>
  <span class="nv">use</span> :: <span class="nv">M_draw</span>
  <span class="o">!!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">drawing</span> <span class="nv">environment</span>
  <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">600</span>,<span class="mi">600</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">voutput</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">+</span><span class="s1">&#39;</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
  <span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="mi">300</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="mi">300</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">500</span>.<span class="mi">0</span>,<span class="mi">500</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">130</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">centertext</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
  <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
  <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">press any character to see it displayed in the default font</span><span class="s1">&#39;</span>
  <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">Enter &quot;q&quot; to quit</span><span class="s1">&#39;</span>
  <span class="k">do</span>
    <span class="nv">ichar</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
    <span class="k">if</span><span class="ss">(</span><span class="nv">ichar</span>.<span class="nv">lt</span>.<span class="mi">0</span><span class="ss">)</span><span class="k">then</span>
       <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">this device does not support getkey</span><span class="s1">&#39;</span>
       <span class="k">exit</span>
    <span class="k">elseif</span><span class="ss">(</span><span class="nv">ichar</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="k">then</span>
       <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
       <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
       <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="nv">char</span><span class="ss">(</span><span class="nv">ichar</span><span class="ss">))</span>
    <span class="k">endif</span>
    <span class="k">if</span><span class="ss">(</span><span class="nv">char</span><span class="ss">(</span><span class="nv">ichar</span><span class="ss">)</span>.<span class="nv">eq</span>.<span class="s1">&#39;</span><span class="s">q</span><span class="s1">&#39;</span><span class="ss">)</span><span class="k">then</span>
       <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">press any key to exit</span><span class="s1">&#39;</span>
       <span class="nv">ichar</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
       <span class="k">exit</span>
    <span class="k">endif</span>
  <span class="nv">enddo</span>
  <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
  <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_getkey</span>
</code></pre></div>

<h2 id="name_76">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">checkkey</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="o">-</span> [<span class="nv">M_draw</span>:<span class="nv">INTERACTIVE</span>] <span class="nv">Returns</span> <span class="nv">zero</span> <span class="k">if</span> <span class="nv">no</span> <span class="nv">key</span> <span class="nv">is</span> <span class="nv">pressed</span> <span class="nv">or</span> <span class="nv">ASCII</span> <span class="nv">ordinal</span>
<span class="ss">(</span><span class="nv">LICENSE</span>:<span class="nv">PD</span><span class="ss">)</span>
</code></pre></div>

<h2 id="synopsis_75">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      integer function checkkey()
</code></pre></div>

<h2 id="description_75">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Returns</span> <span class="nv">zero</span> <span class="k">if</span> <span class="nv">no</span> <span class="nv">key</span> <span class="nv">is</span> <span class="nv">pressed</span> <span class="nv">or</span> <span class="nv">the</span> <span class="nv">ASCII</span> <span class="nv">ordinal</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">key</span>
<span class="nv">that</span> <span class="nv">was</span> <span class="nv">pressed</span>.
</code></pre></div>

<h2 id="example_51">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_checkkey</span>
<span class="nv">use</span> :: <span class="nv">M_draw</span>
<span class="nv">use</span> :: <span class="nv">M_time</span>, <span class="nv">only</span> : <span class="nv">system_sleep</span>
<span class="o">!!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">drawing</span> <span class="nv">environment</span>
<span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">600</span>,<span class="mi">600</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
<span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="mi">300</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">300</span>.<span class="mi">0</span>,<span class="mi">300</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">500</span>.<span class="mi">0</span>,<span class="mi">500</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">130</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">centertext</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
<span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">press any character to see it displayed in the default font</span><span class="s1">&#39;</span>
<span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">Enter &quot;q&quot; to quit</span><span class="s1">&#39;</span>
<span class="k">do</span>
  <span class="nv">ichar</span><span class="o">=</span><span class="nv">checkkey</span><span class="ss">()</span>
  <span class="k">if</span><span class="ss">(</span><span class="nv">ichar</span>.<span class="nv">lt</span>.<span class="mi">0</span><span class="ss">)</span><span class="k">then</span>
     <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">this device does not support checkkey</span><span class="s1">&#39;</span>
     <span class="k">exit</span>
  <span class="k">elseif</span><span class="ss">(</span><span class="nv">ichar</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="k">then</span>
     <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
     <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
     <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>
     <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
     <span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="nv">char</span><span class="ss">(</span><span class="nv">ichar</span><span class="ss">))</span>
  <span class="k">endif</span>
  <span class="k">call</span> <span class="nl">system_sleep</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">5</span><span class="ss">)</span>
  <span class="k">if</span><span class="ss">(</span><span class="nv">char</span><span class="ss">(</span><span class="nv">ichar</span><span class="ss">)</span>.<span class="nv">eq</span>.<span class="s1">&#39;</span><span class="s">q</span><span class="s1">&#39;</span><span class="ss">)</span><span class="k">then</span>
     <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">press any key to exit</span><span class="s1">&#39;</span>
     <span class="nv">ichar</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
     <span class="k">exit</span>
  <span class="k">endif</span>
<span class="nv">enddo</span>
<span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_checkkey</span>
</code></pre></div>

<h2 id="name_77">NAME</h2>
<div class="codehilite"><pre><span></span><code>getstring(3f) - [M_draw:INTERACTIVE] Read in a string, echoing it in current font
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_76">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      integer function getstring(bcol, string)
      integer bcol
      character *(*) string
</code></pre></div>

<h2 id="description_76">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Read</span> <span class="nv">in</span> <span class="nv">a</span> <span class="nv">string</span>, <span class="nv">echoing</span> <span class="nv">it</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">current</span> <span class="nv">font</span>, <span class="nv">using</span> <span class="nv">the</span> <span class="nv">current</span>
<span class="nv">color</span> <span class="nv">and</span> <span class="nv">the</span> <span class="nv">current</span> <span class="nv">transformation</span>.

<span class="nv">getstring</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="nv">interprets</span> <span class="nv">the</span> <span class="nv">Backspace</span> <span class="nv">key</span> <span class="ss">(</span><span class="nv">ASCII</span> <span class="mi">8</span><span class="ss">)</span> <span class="nv">and</span> <span class="nv">the</span> <span class="nv">Del</span>
<span class="nv">key</span> <span class="ss">(</span><span class="nv">ASCII</span> <span class="mi">127</span><span class="ss">)</span> <span class="nv">as</span> <span class="nv">erasing</span> <span class="nv">characters</span>. <span class="nv">An</span> <span class="nv">EOT</span> <span class="ss">(</span><span class="nv">ASCII</span> <span class="mi">4</span><span class="ss">)</span> <span class="nv">or</span> <span class="nv">a</span> <span class="nv">Carriage</span>
<span class="k">return</span> <span class="ss">(</span><span class="nv">ASCII</span> <span class="mi">13</span><span class="ss">)</span> <span class="nv">will</span> <span class="nv">terminate</span> <span class="nv">input</span>.
</code></pre></div>

<h2 id="options_13">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">BCOL</span>  <span class="nv">is</span> <span class="nv">the</span> <span class="nv">background</span> <span class="nv">color</span> <span class="nv">which</span> <span class="nv">is</span> <span class="nv">used</span> <span class="k">for</span> <span class="nv">erasing</span> <span class="nv">characters</span>
      <span class="nv">after</span> <span class="nv">a</span> <span class="nv">backspace</span> <span class="nv">or</span> <span class="nv">a</span> <span class="nv">delete</span> <span class="nv">key</span> <span class="nv">is</span> <span class="nv">received</span>.
</code></pre></div>

<h2 id="returns_1">RETURNS</h2>
<div class="codehilite"><pre><span></span><code>      <span class="nv">getstring</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="nv">returns</span> <span class="nv">the</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">characters</span> <span class="nv">read</span>. <span class="nv">Getstring</span>
      <span class="nv">does</span> <span class="nv">not</span> <span class="nv">check</span> <span class="k">for</span> <span class="nv">overflow</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">input</span> <span class="nv">buffer</span> <span class="nv">string</span>.
</code></pre></div>

<h2 id="example_52">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_getstring</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="o">!</span> <span class="nv">reading</span> <span class="nv">a</span> <span class="nv">string</span> <span class="nv">from</span> <span class="nv">graphic</span> <span class="nv">input</span> <span class="nv">with</span> <span class="nv">getstring</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">128</span><span class="ss">)</span> :: <span class="nv">buf</span><span class="ss">(</span><span class="mi">10</span><span class="ss">)</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">20</span><span class="ss">)</span>  :: <span class="nv">dev</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">20</span><span class="ss">)</span>  :: <span class="nv">fname</span>
<span class="nv">integer</span>            :: <span class="nv">ios</span>

<span class="nv">print</span><span class="o">*</span>, <span class="s1">&#39;</span><span class="s">Enter device:</span><span class="s1">&#39;</span>
<span class="nv">read</span> <span class="ss">(</span><span class="o">*</span>, <span class="s1">&#39;</span><span class="s">(a)</span><span class="s1">&#39;</span>,<span class="nv">iostat</span><span class="o">=</span><span class="nv">ios</span><span class="ss">)</span> <span class="nv">dev</span>
<span class="k">if</span><span class="ss">(</span><span class="nv">ios</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="nv">dev</span><span class="o">=</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span>

<span class="nv">print</span><span class="o">*</span>, <span class="s1">&#39;</span><span class="s">Enter a font name:</span><span class="s1">&#39;</span>
<span class="nv">read</span> <span class="ss">(</span><span class="o">*</span>, <span class="s1">&#39;</span><span class="s">(a)</span><span class="s1">&#39;</span>,<span class="nv">iostat</span><span class="o">=</span><span class="nv">ios</span><span class="ss">)</span> <span class="nv">fname</span>
<span class="k">if</span><span class="ss">(</span><span class="nv">ios</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="nv">fname</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">futura.l</span><span class="s1">&#39;</span>
<span class="k">if</span><span class="ss">(</span><span class="nv">fname</span>.<span class="nv">eq</span>.<span class="s1">&#39;&#39;</span><span class="ss">)</span><span class="nv">fname</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">futura.l</span><span class="s1">&#39;</span>

<span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="nv">dev</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="nv">fname</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">clipping</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>

<span class="nv">shft</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">14</span>
<span class="k">call</span> <span class="nl">window</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">shft</span>, <span class="mi">1</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">shft</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">lookat</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">shft</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="o">-</span><span class="nv">shft</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">30</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">x</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">30</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">z</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">60</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">y</span><span class="s1">&#39;</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_YELLOW</span><span class="ss">)</span>

<span class="nv">tsize</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">25</span>
<span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="nv">tsize</span><span class="o">/</span><span class="mi">2</span>.<span class="mi">5</span>, <span class="nv">tsize</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">100</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="o">-</span><span class="mi">0</span>.<span class="mi">5</span>, <span class="o">-</span><span class="mi">0</span>.<span class="mi">5</span>, <span class="mi">0</span>.<span class="mi">5</span>, <span class="mi">0</span>.<span class="mi">5</span><span class="ss">)</span>

<span class="nv">y</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">5</span>

<span class="k">call</span> <span class="nl">linewidth</span><span class="ss">(</span><span class="mi">40</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">0</span>.<span class="mi">5</span>, <span class="nv">y</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">getstring(3f) demo</span><span class="s1">&#39;</span><span class="ss">)</span>

<span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">Enter 10 lines up to 128 characters long.</span><span class="s1">&#39;</span>
<span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">Program ends on blank line.</span><span class="s1">&#39;</span>

<span class="k">do</span> <span class="nv">n</span><span class="o">=</span><span class="mi">1</span>,<span class="mi">10</span>
   <span class="nv">y</span><span class="o">=</span><span class="nv">y</span><span class="o">-</span><span class="nv">tsize</span>
   <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">0</span>.<span class="mi">5</span>, <span class="nv">y</span><span class="ss">)</span>
   <span class="nv">i</span> <span class="o">=</span> <span class="nv">getstring</span><span class="ss">(</span><span class="nv">D_BLACK</span>, <span class="nv">buf</span><span class="ss">(</span><span class="nv">n</span><span class="ss">))</span>
   <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">(/,a,i0,a,i0)</span><span class="s1">&#39;</span>,<span class="nv">advance</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">no</span><span class="s1">&#39;</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">N=</span><span class="s1">&#39;</span>,<span class="nv">n</span>,<span class="s1">&#39;</span><span class="s"> I=</span><span class="s1">&#39;</span>,<span class="nv">i</span>
   <span class="k">if</span><span class="ss">(</span><span class="nv">n</span>.<span class="nv">ge</span>.<span class="mi">1</span> .<span class="nv">and</span>. <span class="nv">n</span>.<span class="nv">le</span>.<span class="nv">size</span><span class="ss">(</span><span class="nv">buf</span><span class="ss">))</span><span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s"> BUF=</span><span class="s1">&#39;</span>,<span class="nv">trim</span><span class="ss">(</span><span class="nv">buf</span><span class="ss">(</span><span class="nv">n</span><span class="ss">)(</span>:<span class="nv">i</span><span class="ss">))</span>
   <span class="nv">buf</span><span class="ss">(</span><span class="nv">n</span><span class="ss">)(</span><span class="nv">min</span><span class="ss">(</span><span class="mi">128</span>,<span class="nv">i</span><span class="o">+</span><span class="mi">1</span><span class="ss">)</span>:<span class="ss">)</span><span class="o">=</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span>
   <span class="k">if</span><span class="ss">(</span><span class="nv">i</span>.<span class="nv">le</span>.<span class="mi">0</span><span class="ss">)</span><span class="k">exit</span> <span class="o">!</span> <span class="k">exit</span> <span class="nv">on</span> <span class="nv">empty</span> <span class="nv">line</span>
<span class="nv">enddo</span>

<span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>

<span class="k">do</span> <span class="nv">i</span> <span class="o">=</span> <span class="mi">1</span>, <span class="nv">n</span><span class="o">-</span><span class="mi">1</span>
   <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>, <span class="s1">&#39;</span><span class="s">(1x, </span><span class="s1">&#39;&#39;</span><span class="s">Line</span><span class="s1">&#39;&#39;</span><span class="s">,i3,</span><span class="s1">&#39;&#39;</span><span class="s"> was: </span><span class="s1">&#39;&#39;</span><span class="s">, a)</span><span class="s1">&#39;</span><span class="ss">)</span> <span class="nv">i</span>, <span class="nv">buf</span><span class="ss">(</span><span class="nv">i</span><span class="ss">)</span>
<span class="nv">enddo</span>

<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_getstring</span>
</code></pre></div>

<h2 id="name_78">NAME</h2>
<div class="codehilite"><pre><span></span><code>locator(3f) - [M_draw:INTERACTIVE] Find out where cursor is
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_77">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      integer function locator(xaddr, yaddr)
      real xaddr, yaddr
</code></pre></div>

<h2 id="description_77">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Find</span> <span class="nv">out</span> <span class="nv">where</span> <span class="nv">the</span> <span class="nv">cursor</span> <span class="nv">is</span>. <span class="nv">XADDR</span> <span class="nv">and</span> <span class="nv">YADDR</span> <span class="nv">are</span> <span class="nv">set</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">current</span>
<span class="nv">location</span> <span class="nv">in</span> <span class="nv">world</span> <span class="nv">coordinates</span>. <span class="nv">The</span> <span class="nv">function</span> <span class="nv">returns</span> <span class="nv">a</span> <span class="nv">bit</span> <span class="nv">pattern</span>
<span class="nv">which</span> <span class="nv">indicates</span> <span class="nv">which</span> <span class="nv">buttons</span> <span class="nv">are</span> <span class="nv">being</span> <span class="nv">held</span> <span class="nv">down</span> <span class="o">--</span> <span class="nv">eg</span>. <span class="k">if</span> <span class="nv">mouse</span>
<span class="nv">buttons</span> <span class="mi">1</span> <span class="nv">and</span> <span class="mi">3</span> <span class="nv">are</span> <span class="nv">down</span> <span class="nv">locator</span> <span class="nv">returns</span> <span class="nv">binary</span> <span class="mi">101</span> <span class="ss">(</span><span class="nv">decimal</span> <span class="mi">7</span><span class="ss">)</span>. <span class="nv">The</span>
<span class="nv">function</span> <span class="nv">returns</span> <span class="o">-</span><span class="mi">1</span> <span class="k">if</span> <span class="nv">the</span> <span class="nv">device</span> <span class="nv">has</span> <span class="nv">no</span> <span class="nv">locator</span> <span class="nv">capability</span>. <span class="nv">Note</span>:
<span class="k">if</span> <span class="nv">doing</span> <span class="mi">3</span><span class="o">-</span><span class="nv">D</span> <span class="nv">transformations</span> <span class="nv">XADDR</span> <span class="nv">and</span> <span class="nv">YADDR</span> <span class="nv">may</span> <span class="nv">not</span> <span class="nv">make</span> <span class="nv">a</span> <span class="nv">lot</span> <span class="nv">of</span>
<span class="nv">sense</span>. <span class="nv">In</span> <span class="nv">that</span> <span class="nv">case</span> <span class="nv">use</span> <span class="nv">slocator</span>.
</code></pre></div>

<h2 id="example_53">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code>   <span class="nv">program</span> <span class="nv">demo_locator</span> <span class="o">!</span>     <span class="nv">track</span> <span class="nv">a</span> <span class="nv">cube</span> <span class="nv">with</span> <span class="nv">the</span> <span class="nv">locator</span>
   <span class="nv">use</span> <span class="nv">M_draw</span>
   <span class="nv">parameter</span><span class="ss">(</span><span class="nv">TRANS</span><span class="o">=</span><span class="mi">20</span>.<span class="mi">0</span>, <span class="nv">SC</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">1</span><span class="ss">)</span>
   <span class="nv">integer</span>, <span class="nv">parameter</span> :: <span class="nv">FACE</span><span class="o">=</span><span class="mi">1</span>, <span class="nv">FILLED</span><span class="o">=</span><span class="mi">2</span>, <span class="nv">OUTLINE</span><span class="o">=</span><span class="mi">3</span>
   <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">10</span><span class="ss">)</span>  :: <span class="nv">device</span>
   <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">1</span><span class="ss">)</span>   :: <span class="nv">but</span>
   <span class="nv">logical</span>            :: <span class="nv">back</span>, <span class="nv">fill</span>, <span class="nv">hatch</span>
   <span class="nv">integer</span>            :: <span class="nv">ios</span>
      <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">x,y,z = translate</span><span class="s1">&#39;</span>
      <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">s     = apply scale</span><span class="s1">&#39;</span>
      <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">+,-   = change scale/translate direction</span><span class="s1">&#39;</span>
      <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">f,h   = fill, hatch</span><span class="s1">&#39;</span>
      <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">b     = toggle backface</span><span class="s1">&#39;</span>
      <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">q     = quit</span><span class="s1">&#39;</span>

      <span class="nv">print</span><span class="o">*</span>, <span class="s1">&#39;</span><span class="s">Enter output device:</span><span class="s1">&#39;</span>
      <span class="nv">read</span><span class="ss">(</span><span class="o">*</span>, <span class="s1">&#39;</span><span class="s">(a)</span><span class="s1">&#39;</span>,<span class="nv">iostat</span><span class="o">=</span><span class="nv">ios</span><span class="ss">)</span> <span class="nv">device</span>
      <span class="k">if</span><span class="ss">(</span><span class="nv">ios</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span> <span class="nv">device</span><span class="o">=</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span>

      <span class="k">call</span> <span class="nl">prefposition</span><span class="ss">(</span><span class="mi">50</span>, <span class="mi">50</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">500</span>, <span class="mi">500</span><span class="ss">)</span>

      <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="nv">device</span><span class="ss">)</span>

      <span class="k">call</span> <span class="nl">window</span><span class="ss">(</span><span class="o">-</span><span class="mi">800</span>.<span class="mi">0</span>, <span class="mi">800</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">800</span>.<span class="mi">0</span>, <span class="mi">800</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">800</span>.<span class="mi">0</span>, <span class="mi">800</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">lookat</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">1500</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>

      <span class="nv">tdir</span> <span class="o">=</span> <span class="nv">TRANS</span>
      <span class="nv">scal</span> <span class="o">=</span> <span class="nv">SC</span>

      <span class="o">!</span>
      <span class="o">!</span> <span class="nv">Start</span> <span class="nv">with</span> <span class="nv">a</span> <span class="nv">very</span> <span class="nv">ordinary</span> <span class="nv">filled</span> <span class="nv">cube</span> <span class="nv">like</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">original</span> <span class="nv">demo</span>...
      <span class="o">!</span>
      <span class="k">call</span> <span class="nl">polyhatch</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>
      <span class="k">call</span> <span class="nl">hatchang</span><span class="ss">(</span><span class="mi">45</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">hatchpitch</span><span class="ss">(</span><span class="mi">40</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>

      <span class="nv">fill</span> <span class="o">=</span> .<span class="nv">true</span>.
      <span class="nv">hatch</span> <span class="o">=</span> .<span class="nv">false</span>.
      <span class="nv">back</span> <span class="o">=</span> .<span class="nv">true</span>.

      <span class="k">call</span> <span class="nl">makeobj</span><span class="ss">(</span><span class="nv">FACE</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">makepoly</span><span class="ss">()</span>
      <span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="o">-</span><span class="mi">200</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">200</span>.<span class="mi">0</span>, <span class="mi">200</span>.<span class="mi">0</span>, <span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">closepoly</span><span class="ss">()</span>
      <span class="k">call</span> <span class="nl">closeobj</span><span class="ss">()</span>

      <span class="k">call</span> <span class="nl">makecube</span><span class="ss">(</span><span class="nv">FILLED</span><span class="ss">)</span>

      <span class="nv">nplanes</span> <span class="o">=</span> <span class="nv">getdepth</span><span class="ss">()</span>
      <span class="k">if</span> <span class="ss">(</span><span class="nv">nplanes</span> .<span class="nv">eq</span>. <span class="mi">1</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">makecube</span><span class="ss">(</span><span class="nv">OUTLINE</span><span class="ss">)</span>

      <span class="k">call</span> <span class="nl">backface</span><span class="ss">(</span><span class="nv">back</span><span class="ss">)</span>
      <span class="o">!</span>
      <span class="o">!</span> <span class="nv">Setup</span> <span class="nv">drawing</span> <span class="nv">into</span> <span class="nv">the</span> <span class="nv">backbuffer</span>....
      <span class="o">!</span>
      <span class="k">if</span> <span class="ss">(</span><span class="nv">backbuffer</span><span class="ss">()</span>.<span class="nv">lt</span>.<span class="mi">0</span><span class="ss">)</span> <span class="k">then</span>
         <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
         <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">Device can</span><span class="s1">&#39;&#39;</span><span class="s">t support doublebuffering</span><span class="s1">&#39;</span>
         <span class="nv">stop</span>
      <span class="k">endif</span>

      <span class="nv">INFINITE</span>: <span class="k">do</span>
         <span class="nv">idum</span> <span class="o">=</span> <span class="nv">slocator</span><span class="ss">(</span><span class="nv">x</span>, <span class="nv">y</span><span class="ss">)</span>
         <span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
         <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">100</span>.<span class="mi">0</span> <span class="o">*</span> <span class="nv">x</span>, <span class="s1">&#39;</span><span class="s">y</span><span class="s1">&#39;</span><span class="ss">)</span>
         <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">100</span>.<span class="mi">0</span> <span class="o">*</span> <span class="nv">y</span>, <span class="s1">&#39;</span><span class="s">x</span><span class="s1">&#39;</span><span class="ss">)</span>
         <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
         <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
         <span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">FILLED</span><span class="ss">)</span>
         <span class="k">if</span> <span class="ss">(</span><span class="nv">nplanes</span> .<span class="nv">eq</span>. <span class="mi">1</span> .<span class="nv">and</span>. <span class="ss">(</span><span class="nv">fill</span> .<span class="nv">or</span>. <span class="nv">hatch</span><span class="ss">))</span> <span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">OUTLINE</span><span class="ss">)</span>
         <span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>
         <span class="k">call</span> <span class="nl">swapbuffers</span><span class="ss">()</span>

         <span class="nv">but</span> <span class="o">=</span> <span class="nv">char</span><span class="ss">(</span><span class="nv">checkkey</span><span class="ss">())</span>
         <span class="nv">select</span> <span class="nv">case</span><span class="ss">(</span><span class="nv">but</span><span class="ss">)</span>
          <span class="nv">case</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">x</span><span class="s1">&#39;</span><span class="ss">)</span>
            <span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="nv">tdir</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
          <span class="nv">case</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">y</span><span class="s1">&#39;</span><span class="ss">)</span>
            <span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="nv">tdir</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
          <span class="nv">case</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">z</span><span class="s1">&#39;</span><span class="ss">)</span>
            <span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="nv">tdir</span><span class="ss">)</span>
          <span class="nv">case</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">s</span><span class="s1">&#39;</span><span class="ss">)</span>
            <span class="k">call</span> <span class="nl">scale</span><span class="ss">(</span><span class="nv">scal</span>, <span class="nv">scal</span>, <span class="nv">scal</span><span class="ss">)</span>
          <span class="nv">case</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">f</span><span class="s1">&#39;</span><span class="ss">)</span>
            <span class="nv">fill</span> <span class="o">=</span> .<span class="nv">not</span>. <span class="nv">fill</span>
            <span class="nv">hatch</span> <span class="o">=</span> .<span class="nv">false</span>.
            <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span><span class="nv">fill</span><span class="ss">)</span>
          <span class="nv">case</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">h</span><span class="s1">&#39;</span><span class="ss">)</span>
            <span class="nv">hatch</span> <span class="o">=</span> .<span class="nv">not</span>. <span class="nv">hatch</span>
            <span class="nv">fill</span> <span class="o">=</span> .<span class="nv">false</span>.
            <span class="k">call</span> <span class="nl">polyhatch</span><span class="ss">(</span><span class="nv">hatch</span><span class="ss">)</span>
          <span class="nv">case</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">b</span><span class="s1">&#39;</span><span class="ss">)</span>
            <span class="nv">back</span> <span class="o">=</span> .<span class="nv">not</span>. <span class="nv">back</span>
            <span class="k">call</span> <span class="nl">backface</span><span class="ss">(</span><span class="nv">back</span><span class="ss">)</span>
          <span class="nv">case</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">-</span><span class="s1">&#39;</span><span class="ss">)</span>
            <span class="nv">tdir</span> <span class="o">=</span> <span class="o">-</span><span class="nv">tdir</span>
            <span class="k">if</span> <span class="ss">(</span><span class="nv">scal</span> .<span class="nv">lt</span>. <span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span> <span class="k">then</span>
               <span class="nv">scal</span> <span class="o">=</span> <span class="mi">1</span>.<span class="mi">0</span> <span class="o">+</span> <span class="nv">SC</span>
            <span class="k">else</span>
               <span class="nv">scal</span> <span class="o">=</span> <span class="mi">1</span>.<span class="mi">0</span> <span class="o">-</span> <span class="nv">SC</span>
            <span class="k">endif</span>
          <span class="nv">case</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">+</span><span class="s1">&#39;</span><span class="ss">)</span>
            <span class="nv">tdir</span> <span class="o">=</span> <span class="nv">TRANS</span>
          <span class="nv">case</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">q</span><span class="s1">&#39;</span>,<span class="nv">char</span><span class="ss">(</span><span class="mi">27</span><span class="ss">))</span>
            <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
            <span class="nv">stop</span>
         <span class="k">end</span> <span class="nv">select</span>
      <span class="nv">enddo</span> <span class="nv">INFINITE</span>
   <span class="nv">contains</span>

   <span class="nv">subroutine</span> <span class="nv">makecube</span><span class="ss">(</span><span class="nv">obj</span><span class="ss">)</span>
   <span class="nv">integer</span> <span class="nv">obj</span>

      <span class="k">call</span> <span class="nl">makeobj</span><span class="ss">(</span><span class="nv">obj</span><span class="ss">)</span>
      <span class="k">if</span> <span class="ss">(</span><span class="nv">obj</span> .<span class="nv">eq</span>. <span class="nv">OUTLINE</span><span class="ss">)</span> <span class="k">then</span>
         <span class="k">call</span> <span class="nl">pushattributes</span><span class="ss">()</span>
         <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
         <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>
         <span class="k">call</span> <span class="nl">polyhatch</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>
      <span class="k">endif</span>

      <span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
      <span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">if</span> <span class="ss">(</span><span class="nv">obj</span> .<span class="nv">eq</span>. <span class="nv">FILLED</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">FACE</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>

      <span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
      <span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">200</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">90</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">y</span><span class="s1">&#39;</span><span class="ss">)</span>
      <span class="k">if</span> <span class="ss">(</span><span class="nv">obj</span> .<span class="nv">eq</span>. <span class="nv">FILLED</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">FACE</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>

      <span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
      <span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">200</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">180</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">y</span><span class="s1">&#39;</span><span class="ss">)</span>
      <span class="k">if</span> <span class="ss">(</span><span class="nv">obj</span> .<span class="nv">eq</span>. <span class="nv">FILLED</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">FACE</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>

      <span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
      <span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="o">-</span><span class="mi">200</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="o">-</span><span class="mi">90</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">y</span><span class="s1">&#39;</span><span class="ss">)</span>
      <span class="k">if</span> <span class="ss">(</span><span class="nv">obj</span> .<span class="nv">eq</span>. <span class="nv">FILLED</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_CYAN</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">FACE</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>

      <span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
      <span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">200</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="o">-</span><span class="mi">90</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">x</span><span class="s1">&#39;</span><span class="ss">)</span>
      <span class="k">if</span> <span class="ss">(</span><span class="nv">obj</span> .<span class="nv">eq</span>. <span class="nv">FILLED</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_MAGENTA</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">FACE</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>

      <span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
      <span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">200</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">90</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">x</span><span class="s1">&#39;</span><span class="ss">)</span>
      <span class="k">if</span> <span class="ss">(</span><span class="nv">obj</span> .<span class="nv">eq</span>. <span class="nv">FILLED</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_YELLOW</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">FACE</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>

      <span class="k">if</span> <span class="ss">(</span><span class="nv">obj</span> .<span class="nv">eq</span>. <span class="nv">OUTLINE</span><span class="ss">)</span> <span class="k">call</span> <span class="nl">popattributes</span><span class="ss">()</span>

      <span class="k">call</span> <span class="nl">closeobj</span><span class="ss">()</span>

   <span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">makecube</span>

   <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_locator</span>
</code></pre></div>

<h2 id="name_79">NAME</h2>
<div class="codehilite"><pre><span></span><code>slocator(3f) - [M_draw:INTERACTIVE] Find out where cursor is in screen coordinates
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_78">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      integer function slocator(xaddr, yaddr)
      real xaddr, yaddr
</code></pre></div>

<h2 id="description_78">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Find</span> <span class="nv">out</span> <span class="nv">where</span> <span class="nv">the</span> <span class="nv">cursor</span> <span class="nv">is</span>. <span class="nv">xaddr</span> <span class="nv">and</span> <span class="nv">yaddr</span> <span class="nv">are</span> <span class="nv">set</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">current</span>
<span class="nv">location</span> <span class="nv">in</span> <span class="nv">screen</span> <span class="nv">coordinates</span>. <span class="nv">The</span> <span class="k">return</span> <span class="nv">value</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">function</span> <span class="nv">is</span>
<span class="nv">set</span> <span class="nv">up</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">same</span> <span class="nv">way</span> <span class="nv">as</span> <span class="nv">with</span> <span class="nv">locator</span>. <span class="k">If</span> <span class="nv">the</span> <span class="nv">device</span> <span class="nv">has</span> <span class="nv">no</span> <span class="nv">locator</span>
<span class="nv">device</span> <span class="nv">slocator</span> <span class="nv">returns</span> <span class="o">-</span><span class="mi">1</span>.
</code></pre></div>

<h2 id="example_54">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code> <span class="o">!</span>
 <span class="o">!</span>      <span class="nv">a</span> <span class="nv">routine</span> <span class="nv">to</span> <span class="nv">demonstrate</span> <span class="nv">using</span> <span class="nv">locator</span>.
 <span class="o">!</span>
 <span class="nv">program</span> <span class="nv">demo_slocator</span>

 <span class="nv">use</span> <span class="nv">M_draw</span>

 <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">20</span><span class="ss">)</span> :: <span class="nv">dev</span>
 <span class="nv">integer</span> <span class="nv">bt</span>
 <span class="nv">real</span> <span class="nv">x</span>, <span class="nv">y</span>, <span class="nv">sx</span>, <span class="nv">sy</span>
 <span class="nv">logical</span> <span class="nv">act</span>, <span class="nv">curpnt</span>
 <span class="nv">integer</span> :: <span class="nv">ios</span>

 <span class="nv">print</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">Enter device name:</span><span class="s1">&#39;</span>
 <span class="nv">read</span><span class="ss">(</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">(a)</span><span class="s1">&#39;</span>,<span class="nv">iostat</span><span class="o">=</span><span class="nv">ios</span><span class="ss">)</span> <span class="nv">dev</span>
 <span class="k">if</span><span class="ss">(</span><span class="nv">ios</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="nv">dev</span><span class="o">=</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span>
 <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="nv">dev</span><span class="ss">)</span>

 <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
 <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>

 <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>
 <span class="o">!</span>
 <span class="o">!</span>       <span class="nv">draw</span> <span class="nv">some</span> <span class="nv">axes</span>
 <span class="o">!</span>
 <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
 <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>

 <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
 <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>

 <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>

 <span class="nv">act</span> <span class="o">=</span> .<span class="nv">false</span>.
 <span class="nv">curpnt</span> <span class="o">=</span> .<span class="nv">false</span>.
 <span class="o">!</span>
 <span class="o">!</span>       <span class="nv">locator</span> <span class="nv">returns</span> <span class="nv">whether</span> <span class="nv">a</span> <span class="nv">mouse</span> <span class="nv">button</span> <span class="nv">has</span> <span class="nv">been</span>
 <span class="o">!</span>       <span class="nv">pressed</span> <span class="nv">or</span> <span class="nv">not</span>. <span class="nv">In</span> <span class="nv">a</span> <span class="nv">device</span> <span class="nv">such</span> <span class="nv">as</span> <span class="nv">the</span> <span class="nv">tektronix</span>
 <span class="o">!</span>       <span class="nv">where</span> <span class="nv">you</span> <span class="nv">have</span> <span class="nv">to</span> <span class="k">wait</span> <span class="k">for</span> <span class="nv">a</span> <span class="nv">keypress</span> <span class="nv">to</span> <span class="nv">get</span> <span class="nv">the</span>
 <span class="o">!</span>       <span class="nv">position</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">crosshairs</span> <span class="nv">locator</span> <span class="nv">returns</span> <span class="mi">0</span>
 <span class="o">!</span>       <span class="nv">automatically</span> <span class="nv">on</span> <span class="nv">every</span> <span class="nv">second</span> <span class="nv">call</span>. <span class="nv">A</span> <span class="k">return</span> <span class="nv">value</span>
 <span class="o">!</span>       <span class="nv">of</span> <span class="mi">2</span> <span class="nv">indicates</span> <span class="nv">the</span> <span class="nv">second</span> <span class="nv">mouse</span> <span class="nv">button</span> <span class="nv">has</span> <span class="nv">been</span> <span class="nv">pressed</span>.
 <span class="o">!</span>       <span class="nv">A</span> <span class="k">return</span> <span class="nv">value</span> <span class="nv">of</span> <span class="mi">1</span> <span class="nv">indicates</span> <span class="nv">the</span> <span class="nv">first</span> <span class="nv">mouse</span> <span class="nv">button</span> <span class="nv">has</span>
 <span class="o">!</span>       <span class="nv">been</span> <span class="nv">pressed</span>. <span class="nv">We</span> <span class="k">wait</span> <span class="k">for</span> <span class="nv">the</span> <span class="nv">locator</span> <span class="nv">to</span> <span class="k">return</span> <span class="nv">zero</span> <span class="nv">so</span>
 <span class="o">!</span>       <span class="nv">that</span> <span class="nv">we</span> <span class="nv">know</span> <span class="nv">the</span> <span class="nv">mouse</span> <span class="nv">button</span> <span class="nv">has</span> <span class="nv">been</span> <span class="nv">released</span>.
 <span class="o">!</span>
 <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s"> click two points to create a line segment</span><span class="s1">&#39;</span>
 <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s"> button 2 exits</span><span class="s1">&#39;</span>

 <span class="nv">INFINITE</span>: <span class="k">do</span>
    <span class="nv">bt</span> <span class="o">=</span> <span class="nv">slocator</span><span class="ss">(</span><span class="nv">x</span>, <span class="nv">y</span><span class="ss">)</span>
    <span class="o">!!</span> <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">slocator returned </span><span class="s1">&#39;</span>,<span class="nv">bt</span>,<span class="s1">&#39;</span><span class="s"> and coordinates </span><span class="s1">&#39;</span>,<span class="nv">x</span>,<span class="nv">y</span>
    <span class="k">if</span> <span class="ss">(</span><span class="nv">bt</span> .<span class="nv">eq</span>. <span class="o">-</span><span class="mi">1</span><span class="ss">)</span> <span class="k">then</span>
       <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
       <span class="nv">print</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">No locator device found</span><span class="s1">&#39;</span>
       <span class="nv">stop</span>
    <span class="k">elseif</span> <span class="ss">(</span><span class="nv">bt</span> .<span class="nv">eq</span>. <span class="mi">2</span><span class="ss">)</span> <span class="k">then</span>
       <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
       <span class="nv">stop</span>
    <span class="k">elseif</span> <span class="ss">(</span><span class="nv">bt</span> .<span class="nv">eq</span>. <span class="mi">0</span><span class="ss">)</span> <span class="k">then</span>
       <span class="nv">act</span> <span class="o">=</span> .<span class="nv">true</span>.
    <span class="k">elseif</span> <span class="ss">(</span><span class="nv">act</span><span class="ss">)</span> <span class="k">then</span>
       <span class="nv">act</span> <span class="o">=</span> .<span class="nv">false</span>.
       <span class="k">if</span> <span class="ss">(</span><span class="nv">bt</span> .<span class="nv">eq</span>. <span class="mi">1</span><span class="ss">)</span> <span class="k">then</span>
          <span class="k">if</span> <span class="ss">(</span><span class="nv">curpnt</span><span class="ss">)</span> <span class="k">then</span>
             <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="nv">sx</span>, <span class="nv">sy</span><span class="ss">)</span>
             <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="nv">x</span>, <span class="nv">y</span><span class="ss">)</span>
             <span class="nv">curpnt</span> <span class="o">=</span> .<span class="nv">false</span>.
          <span class="k">else</span>
             <span class="nv">curpnt</span> <span class="o">=</span> .<span class="nv">true</span>.
          <span class="k">endif</span>

          <span class="nv">sx</span> <span class="o">=</span> <span class="nv">x</span>
          <span class="nv">sy</span> <span class="o">=</span> <span class="nv">y</span>
       <span class="k">endif</span>
    <span class="k">endif</span>
 <span class="nv">enddo</span> <span class="nv">INFINITE</span>

 <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_slocator</span>
</code></pre></div>

<h2 id="name_80">NAME</h2>
<div class="codehilite"><pre><span></span><code>vsetflush(3f) - [M_draw:FLUSHING] Set global flushing status
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_79">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine vsetflush(yesno)
      logical yesno
</code></pre></div>

<h2 id="description_79">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Set</span> <span class="nv">global</span> <span class="nv">flushing</span> <span class="nv">status</span>. <span class="k">If</span> <span class="nv">yesno</span> <span class="o">=</span> <span class="mi">0</span> <span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span> <span class="k">then</span> <span class="nv">don</span><span class="s1">&#39;</span><span class="s">t do any</span>
<span class="nv">flushing</span> <span class="ss">(</span><span class="nv">except</span> <span class="nv">in</span> <span class="nv">swapbuffers</span><span class="ss">()</span>, <span class="nv">or</span> <span class="nv">vflush</span><span class="ss">())</span>. <span class="k">If</span> <span class="nv">yesno</span> <span class="o">=</span> <span class="mi">1</span>
<span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span> <span class="k">then</span> <span class="k">do</span> <span class="nv">the</span> <span class="nv">flushing</span> <span class="nv">as</span> <span class="nv">described</span> <span class="nv">above</span>.
</code></pre></div>

<h2 id="name_81">NAME</h2>
<div class="codehilite"><pre><span></span><code>vflush(3f) - [M_draw:FLUSHING] Call device flush or syncronisation routine
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_80">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine vflush()
</code></pre></div>

<h2 id="description_80">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Call the device flush or syncronisation routine. This forces a flush.
</code></pre></div>

<h2 id="name_82">NAME</h2>
<div class="codehilite"><pre><span></span><code>viewport(3f) - [M_draw:VIEWPORT] Specify which part of screen to draw in
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_81">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine viewport(left, right, bottom, top)
      real,intent(in) :: left, right, bottom, top
</code></pre></div>

<h2 id="description_81">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="n">Specify</span> <span class="nf">which</span> <span class="n">part</span> <span class="kr">of</span> <span class="n">the</span> <span class="n">screen</span> <span class="n">to</span> <span class="n">draw</span> <span class="kr">in</span><span class="p">.</span> <span class="kr">Left</span><span class="p">,</span> <span class="kr">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span>
<span class="kr">and</span> <span class="n">top</span> <span class="n">are</span> <span class="kt">real</span> <span class="n">values</span> <span class="kr">in</span> <span class="n">screen</span> <span class="n">coordinates</span> <span class="p">(</span><span class="mi">0</span><span class="o">:</span><span class="n">n</span><span class="p">,</span><span class="mi">0</span><span class="o">:</span><span class="n">m</span><span class="p">).</span>

<span class="nf">If</span> <span class="n">a</span> <span class="n">device</span> <span class="n">has</span> <span class="n">been</span> <span class="n">declared</span> <span class="n">to</span> <span class="n">be</span> <span class="mi">600</span> <span class="n">x</span> <span class="mi">400</span>

     <span class="n">o</span><span class="o">-----&gt;</span> <span class="n">X</span>                         <span class="p">(</span><span class="kr">right</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span><span class="n">top</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
     <span class="o">|</span> <span class="err">#</span><span class="o">------------------------------------</span><span class="err">#</span>
     <span class="o">|</span> <span class="o">|</span>                                    <span class="o">|</span>
     <span class="o">|</span> <span class="o">|</span>                                    <span class="o">|</span>
     <span class="n">V</span> <span class="o">|</span>                                    <span class="o">|</span>
     <span class="n">Y</span> <span class="o">|</span>                                    <span class="o">|</span>
       <span class="err">#</span><span class="o">------------------------------------</span><span class="err">#</span>
  <span class="p">(</span><span class="kr">left</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">bottom</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
</code></pre></div>

<h2 id="example_55">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_viewport</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">using</span> <span class="nv">non</span><span class="o">-</span><span class="nv">square</span> <span class="nv">viewports</span>, <span class="nv">the</span> <span class="nv">associated</span> <span class="nv">distortion</span> <span class="o">--</span> <span class="nv">and</span> <span class="nv">how</span> <span class="nv">to</span> <span class="nv">fix</span> <span class="nv">it</span>
<span class="o">!</span>
<span class="nv">use</span> <span class="nv">M_draw</span>

<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">50</span><span class="ss">)</span>  :: <span class="nv">device</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">120</span><span class="ss">)</span> :: <span class="nv">buf</span>
<span class="nv">real</span>    <span class="nv">xfact</span>, <span class="nv">yfact</span>
<span class="nv">integer</span> :: <span class="nv">ios</span>

<span class="nv">print</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">Enter output device:</span><span class="s1">&#39;</span>
<span class="nv">read</span><span class="ss">(</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">(a)</span><span class="s1">&#39;</span>,<span class="nv">iostat</span><span class="o">=</span><span class="nv">ios</span><span class="ss">)</span><span class="nv">device</span>
<span class="k">if</span><span class="ss">(</span><span class="nv">ios</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="nv">device</span><span class="o">=</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span>

<span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="nv">device</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">Make</span> <span class="nv">the</span> <span class="nv">viewport</span> <span class="nv">the</span> <span class="nv">same</span> <span class="nv">size</span> <span class="nv">as</span> <span class="nv">the</span> <span class="nv">screen</span><span class="o">/</span><span class="nv">window</span>.
<span class="o">!</span>
<span class="k">call</span> <span class="nl">getfactors</span><span class="ss">(</span><span class="nv">xfact</span>, <span class="nv">yfact</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">viewport</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="nv">xfact</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="nv">yfact</span><span class="ss">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">Draw</span> <span class="nv">a</span> <span class="nv">square</span>. <span class="ss">(</span><span class="nv">Looks</span> <span class="nv">like</span> <span class="nv">a</span> <span class="nv">rectangle</span>, <span class="k">if</span> <span class="nv">the</span> <span class="nv">viewport</span>
<span class="o">!</span> <span class="nv">wasn</span><span class="s1">&#39;</span><span class="s">t &quot;accidentally&quot; square)</span>
<span class="o">!</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="o">-</span><span class="mi">0</span>.<span class="mi">5</span>, <span class="o">-</span><span class="mi">0</span>.<span class="mi">5</span>, <span class="mi">0</span>.<span class="mi">5</span>, <span class="mi">0</span>.<span class="mi">5</span><span class="ss">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">Tell</span> <span class="nv">them</span> <span class="nv">what</span> <span class="nv">it</span> <span class="nv">is</span>.
<span class="o">!</span>
<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">9</span><span class="ss">)</span>
<span class="nv">write</span><span class="ss">(</span><span class="nv">buf</span>,<span class="s1">&#39;</span><span class="s">(</span><span class="s1">&#39;&#39;</span><span class="s">Distorted square (viewport(-1, </span><span class="s1">&#39;&#39;</span><span class="s">, F7.3, </span><span class="s1">&#39;&#39;</span><span class="s">, -1, </span><span class="s1">&#39;&#39;</span><span class="s">, F7.3, </span><span class="s1">&#39;&#39;</span><span class="s">))</span><span class="s1">&#39;&#39;</span><span class="s">)</span><span class="s1">&#39;</span><span class="ss">)</span> <span class="nv">xfact</span>, <span class="nv">yfact</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="nv">buf</span><span class="ss">)</span>

<span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">Fix</span> <span class="nv">up</span> <span class="nv">the</span> <span class="nv">distortion</span> <span class="ss">(</span><span class="nv">The</span> <span class="nv">actual</span> <span class="nv">formula</span> <span class="nv">to</span> <span class="nv">fix</span>
<span class="o">!</span> <span class="nv">the</span> <span class="nv">distortion</span> <span class="nv">is</span> <span class="ss">(</span><span class="nv">viewport</span>.<span class="nv">xmax</span> <span class="o">*</span> <span class="ss">(</span><span class="mi">1</span> <span class="o">+</span> <span class="nv">xfact</span><span class="ss">)</span> <span class="o">/</span> <span class="mi">2</span>.<span class="mi">0</span><span class="ss">)</span>,
<span class="o">!</span> <span class="nv">and</span> <span class="nv">similar</span> <span class="k">for</span> <span class="nv">the</span> <span class="nv">y</span> <span class="nv">axis</span>.
<span class="o">!</span>
<span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="nv">xfact</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="nv">yfact</span><span class="ss">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">Draw</span> <span class="nv">another</span> <span class="nv">square</span> <span class="ss">(</span><span class="nv">Really</span> <span class="nv">is</span> <span class="nv">square</span> <span class="nv">this</span> <span class="nv">time</span><span class="ss">)</span>
<span class="o">!</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_YELLOW</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="o">-</span><span class="mi">0</span>.<span class="mi">5</span>, <span class="o">-</span><span class="mi">0</span>.<span class="mi">5</span>, <span class="mi">0</span>.<span class="mi">5</span>, <span class="mi">0</span>.<span class="mi">5</span><span class="ss">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">Tell</span> <span class="nv">them</span> <span class="nv">what</span> <span class="nv">it</span> <span class="nv">is</span>.
<span class="o">!</span>
<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">0</span>.<span class="mi">9</span><span class="ss">)</span>
<span class="nv">write</span><span class="ss">(</span><span class="nv">buf</span>,<span class="s1">&#39;</span><span class="s">(</span><span class="s1">&#39;&#39;</span><span class="s">Fixed up square with ortho2(-1, </span><span class="s1">&#39;&#39;</span><span class="s">, F7.3, </span><span class="s1">&#39;&#39;</span><span class="s">, -1, </span><span class="s1">&#39;&#39;</span><span class="s">, F7.3, </span><span class="s1">&#39;&#39;</span><span class="s">)</span><span class="s1">&#39;&#39;</span><span class="s">)</span><span class="s1">&#39;</span><span class="ss">)</span> <span class="nv">xfact</span>, <span class="nv">yfact</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="nv">buf</span><span class="ss">)</span>

<span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="k">Do</span> <span class="nv">it</span> <span class="nv">with</span> <span class="nv">world</span> <span class="nv">coords</span> <span class="nv">going</span> <span class="nv">from</span> <span class="mi">0</span> <span class="o">-</span> <span class="mi">5</span>, <span class="mi">0</span> <span class="o">-</span> <span class="mi">5</span>.
<span class="o">!</span> <span class="nv">Reset</span> <span class="nv">square</span> <span class="nv">viewport</span>.
<span class="o">!</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>

<span class="k">call</span> <span class="nl">viewport</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">1</span>, <span class="mi">0</span>.<span class="mi">1</span><span class="ss">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">Square</span> <span class="nv">from</span> <span class="mi">1</span> <span class="nv">to</span> <span class="mi">3</span>. <span class="ss">(</span><span class="nv">Really</span> <span class="nv">is</span> <span class="nv">square</span><span class="ss">)</span>
<span class="o">!</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">3</span>.<span class="mi">0</span>, <span class="mi">3</span>.<span class="mi">0</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">4</span>.<span class="mi">5</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">Square from 0 - 3, 0 - 3</span><span class="s1">&#39;</span><span class="ss">)</span>

<span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">Distort</span> <span class="nv">it</span> <span class="nv">with</span> <span class="nv">a</span> <span class="nv">non</span><span class="o">-</span><span class="nv">square</span> <span class="nv">viewport</span>.
<span class="o">!</span>
<span class="k">call</span> <span class="nl">viewport</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="nv">xfact</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="nv">yfact</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">3</span>.<span class="mi">0</span>, <span class="mi">3</span>.<span class="mi">0</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">5</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">Distorted square from 0 - 3, 0 - 3</span><span class="s1">&#39;</span><span class="ss">)</span>

<span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">Fix</span> <span class="nv">the</span> <span class="nv">distortion</span>.
<span class="o">!</span>
<span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span> <span class="o">*</span> <span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span> <span class="o">+</span> <span class="nv">xfact</span><span class="ss">)</span> <span class="o">/</span> <span class="mi">2</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span> <span class="o">*</span> <span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span> <span class="o">+</span> <span class="nv">yfact</span><span class="ss">)</span> <span class="o">/</span> <span class="mi">2</span>.<span class="mi">0</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_MAGENTA</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">3</span>.<span class="mi">0</span>, <span class="mi">3</span>.<span class="mi">0</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">2</span>.<span class="mi">5</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">Fixed up  square from 0 - 3, 0 - 3</span><span class="s1">&#39;</span><span class="ss">)</span>

<span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>

<span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>

<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_viewport</span>
</code></pre></div>

<h2 id="name_83">NAME</h2>
<div class="codehilite"><pre><span></span><code>pushviewport(3f) - [M_draw:VIEWPORT] Save current viewport
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_82">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine pushviewport()
</code></pre></div>

<h2 id="description_82">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Save current viewport.
</code></pre></div>

<h2 id="name_84">NAME</h2>
<div class="codehilite"><pre><span></span><code>popviewport(3f) - [M_draw:VIEWPORT] Retrieve last viewport
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_83">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine popviewport()
</code></pre></div>

<h2 id="description_83">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Retrieve last viewport.
</code></pre></div>

<h2 id="name_85">NAME</h2>
<div class="codehilite"><pre><span></span><code>getviewport(3f) - [M_draw:VIEWPORT] Returns limits of current viewport in screen coordinates
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_84">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine getviewport(left, right, bottom, top)
      real,intent(out) :: left
      real,intent(out) :: right
      real,intent(out) :: bottom
      real,intent(out) :: top
</code></pre></div>

<h2 id="description_84">DESCRIPTION</h2>
<p>Returns the left, right, bottom and top limits of the current viewport
 in screen coordinates (-1.0 to 1.0).</p>
<div class="codehilite"><pre><span></span><code><span class="nf">If</span> <span class="n">a</span> <span class="n">device</span> <span class="n">has</span> <span class="n">been</span> <span class="n">declared</span> <span class="n">to</span> <span class="n">be</span> <span class="kt">real</span> <span class="o">::</span> <span class="n">array</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span><span class="mi">400</span><span class="p">)</span>

     <span class="n">o</span><span class="o">-----&gt;</span> <span class="n">X</span>                         <span class="p">(</span><span class="kr">right</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span><span class="n">top</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
     <span class="o">|</span> <span class="err">#</span><span class="o">------------------------------------</span><span class="err">#</span>
     <span class="o">|</span> <span class="o">|</span>                                    <span class="o">|</span>
     <span class="o">|</span> <span class="o">|</span>                                    <span class="o">|</span>
     <span class="n">V</span> <span class="o">|</span>                                    <span class="o">|</span>
     <span class="n">Y</span> <span class="o">|</span>                                    <span class="o">|</span>
       <span class="err">#</span><span class="o">------------------------------------</span><span class="err">#</span>
  <span class="p">(</span><span class="kr">left</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">bottom</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
</code></pre></div>

<h2 id="options_14">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">LEFT</span>     <span class="nv">value</span> <span class="k">for</span> <span class="nv">left</span> <span class="nv">side</span>
<span class="nv">RIGHT</span>    <span class="nv">value</span> <span class="k">for</span> <span class="nv">right</span> <span class="nv">side</span>
<span class="nv">BOTTOM</span>   <span class="nv">value</span> <span class="k">for</span> <span class="nv">bottom</span> <span class="nv">side</span>
<span class="nv">TOP</span>      <span class="nv">value</span> <span class="k">for</span> <span class="nv">top</span> <span class="nv">side</span>
</code></pre></div>

<h2 id="name_86">NAME</h2>
<div class="codehilite"><pre><span></span><code>expandviewport(3f) - [M_draw:VIEWPORT] use the entire device viewport
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_85">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine expandviewport()
</code></pre></div>

<h2 id="description_85">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">When</span> <span class="nv">M_draw</span> <span class="nv">does</span> <span class="nv">viewport</span> <span class="nv">calculations</span>, <span class="nv">it</span> <span class="nv">will</span> <span class="nv">normally</span> <span class="nv">begin</span> <span class="nv">by</span> <span class="nv">using</span>
<span class="nv">the</span> <span class="nv">largest</span> <span class="nv">square</span> <span class="nv">it</span> <span class="nv">can</span> <span class="nv">fit</span> <span class="nv">onto</span> <span class="nv">the</span> <span class="nv">actual</span> <span class="nv">display</span> <span class="nv">device</span>. <span class="nv">This</span>
<span class="k">call</span> <span class="nl">says</span> <span class="nv">to</span> <span class="nv">use</span> <span class="nv">the</span> <span class="nv">whole</span> <span class="nv">device</span>... <span class="nv">however</span> <span class="nv">you</span> <span class="nv">must</span> <span class="k">then</span> <span class="nv">take</span>
<span class="nv">into</span> <span class="nv">account</span> <span class="nv">any</span> <span class="nv">distortion</span> <span class="nv">that</span> <span class="nv">will</span> <span class="nv">occur</span> <span class="nv">due</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">non</span><span class="o">-</span><span class="nv">square</span>
<span class="nv">mapping</span>. <span class="nv">Thus</span>, <span class="nv">a</span> <span class="nv">viewport</span> <span class="nv">of</span> <span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span> <span class="nv">will</span> <span class="nv">map</span> <span class="nv">into</span>
<span class="nv">the</span> <span class="nv">whole</span> <span class="nv">display</span> <span class="nv">device</span>.
</code></pre></div>

<h2 id="example_56">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="n">program</span> <span class="n">demo_expandviewport</span>
<span class="n">use</span> <span class="n">M_draw</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="o">:</span> <span class="n">D_BLACK</span><span class="p">,</span>   <span class="n">D_WHITE</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="o">:</span> <span class="n">D_RED</span><span class="p">,</span>     <span class="n">D_GREEN</span><span class="p">,</span>    <span class="n">D_BLUE</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="o">:</span> <span class="n">D_YELLOW</span><span class="p">,</span>  <span class="n">D_MAGENTA</span><span class="p">,</span>  <span class="n">D_CYAN</span>
<span class="n">implicit</span> <span class="n">none</span>
<span class="n">integer</span> <span class="o">::</span> <span class="n">ipaws</span>

<span class="o">!!</span> <span class="n">set</span> <span class="n">up</span> <span class="n">graphics</span> <span class="n">area</span>
<span class="n">call</span> <span class="nf">prefsize</span><span class="p">(</span><span class="m">1000</span><span class="p">,</span><span class="m">200</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">vinit</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">)</span> <span class="o">!</span> <span class="n">start</span> <span class="n">graphics</span> <span class="n">using</span> <span class="n">device</span> <span class="o">$</span><span class="n">M_DRAW_DEVICE</span>

<span class="o">!!</span> <span class="n">draw</span> <span class="n">box</span> <span class="n">that</span> <span class="n">fills</span> <span class="n">default</span> <span class="n">world</span> <span class="n">coordinate</span> <span class="n">window</span>
<span class="n">call</span> <span class="nf">color</span><span class="p">(</span><span class="n">D_RED</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">polyfill</span><span class="p">(</span><span class="n">.true.</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">rect</span><span class="p">(</span><span class="m">-1.0</span><span class="p">,</span> <span class="m">-1.0</span><span class="p">,</span> <span class="m">1.0</span><span class="p">,</span> <span class="m">1.0</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">color</span><span class="p">(</span><span class="n">D_GREEN</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">circle</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span><span class="m">0.0</span><span class="p">,</span><span class="m">1.0</span><span class="p">)</span>

<span class="n">call</span> <span class="nf">expandviewport</span><span class="p">()</span>
<span class="o">!!</span> <span class="n">the</span> <span class="n">meaning</span> <span class="n">of</span> <span class="n">viewport</span> <span class="n">numbers</span> <span class="n">has</span> <span class="n">now</span> <span class="n">changed</span><span class="p">,</span> <span class="n">but</span> <span class="n">the</span>
<span class="o">!!</span> <span class="n">viewport</span> <span class="n">itself</span> <span class="n">has</span> <span class="n">not.</span> <span class="n">Now</span> <span class="o">&lt;-</span><span class="m">1</span><span class="p">,</span><span class="m">-1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="o">&gt;</span> <span class="n">defines</span> <span class="n">the</span>
<span class="o">!!</span> <span class="n">entire</span> <span class="n">display</span> <span class="n">area</span><span class="p">,</span> <span class="n">where</span> <span class="n">before</span> <span class="n">it</span> <span class="n">defined</span> <span class="n">the</span> <span class="n">largest</span> <span class="n">square</span>
<span class="o">!!</span> <span class="n">that</span> <span class="n">would</span> <span class="n">fit</span> <span class="n">on</span> <span class="n">the</span> <span class="n">display</span>
<span class="n">call</span> <span class="nf">viewport</span><span class="p">(</span><span class="m">-1.0</span><span class="p">,</span><span class="m">1.0</span><span class="p">,</span><span class="m">-1.0</span><span class="p">,</span><span class="m">1.0</span><span class="p">)</span>
<span class="o">!!</span> <span class="n">draw</span> <span class="n">box</span> <span class="n">that</span> <span class="n">fills</span> <span class="n">default</span> <span class="n">world</span> <span class="n">coordinate</span> <span class="n">window</span> <span class="n">again</span>

<span class="o">!!</span> <span class="n">instead</span> <span class="n">of</span> <span class="n">a</span> <span class="n">square</span> <span class="n">and</span> <span class="n">circle</span><span class="p">,</span> <span class="n">the</span> <span class="n">mapping</span> <span class="n">now</span>
<span class="o">!!</span> <span class="n">produces</span> <span class="n">an</span> <span class="n">ellipse</span> <span class="n">and</span> <span class="n">rectangle</span> <span class="n">unless</span> <span class="n">this</span>
<span class="o">!!</span> <span class="n">device</span> <span class="n">has</span> <span class="n">a</span> <span class="n">square</span> <span class="n">display</span>
<span class="n">call</span> <span class="nf">polyhatch</span><span class="p">(</span><span class="n">.true.</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">hatchpitch</span><span class="p">(</span><span class="m">0.1</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">hatchang</span><span class="p">(</span><span class="m">30.0</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">linewidth</span><span class="p">(</span><span class="m">20</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">color</span><span class="p">(</span><span class="n">D_CYAN</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">rect</span><span class="p">(</span><span class="m">-1.0</span><span class="p">,</span> <span class="m">-1.0</span><span class="p">,</span> <span class="m">1.0</span><span class="p">,</span> <span class="m">1.0</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">color</span><span class="p">(</span><span class="n">D_YELLOW</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">hatchang</span><span class="p">(</span><span class="m">120.0</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">circle</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span><span class="m">0.0</span><span class="p">,</span><span class="m">1.0</span><span class="p">)</span>

<span class="o">!!</span> <span class="n">border</span>
<span class="n">call</span> <span class="nf">linewidth</span><span class="p">(</span><span class="m">100</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">color</span><span class="p">(</span><span class="n">D_BLUE</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">move2</span><span class="p">(</span><span class="m">-1.0</span><span class="p">,</span> <span class="m">-1.0</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="m">-1.0</span><span class="p">,</span> <span class="m">1.0</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="m">1.0</span><span class="p">,</span> <span class="m">1.0</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="m">1.0</span><span class="p">,</span> <span class="m">-1.0</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="m">-1.0</span><span class="p">,</span> <span class="m">-1.0</span><span class="p">)</span>

<span class="n">call</span> <span class="nf">vflush</span><span class="p">();</span> <span class="n">ipaws</span><span class="o">=</span><span class="nf">getkey</span><span class="p">()</span> <span class="o">!!</span> <span class="n">pause</span>
<span class="n">call</span> <span class="nf">vexit</span><span class="p">()</span>                  <span class="o">!!</span> <span class="n">wrap</span> <span class="n">up</span> <span class="n">graphics</span>

<span class="n">end</span> <span class="n">program</span> <span class="n">demo_expandviewport</span>
</code></pre></div>

<h2 id="name_87">NAME</h2>
<div class="codehilite"><pre><span></span><code>unexpandviewport(3f) - [M_draw:VIEWPORT] undo expandviewport(3f)
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_86">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine unexpandviewport()
</code></pre></div>

<h2 id="description_86">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Does</span> <span class="nv">the</span> <span class="nv">reverse</span> <span class="nv">of</span> <span class="nv">expandviewport</span>. <span class="nv">Basically</span>, <span class="nv">it</span> <span class="nv">returns</span> <span class="nv">M_draw</span> <span class="nv">to</span>
<span class="nv">using</span> <span class="nv">the</span> <span class="nv">largest</span> <span class="nv">square</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">device</span> <span class="k">for</span> <span class="nv">its</span> <span class="nv">viewport</span> <span class="nv">calculations</span>.
</code></pre></div>

<h2 id="example_57">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="n">program</span> <span class="n">demo_unexpandviewport</span>
<span class="n">use</span> <span class="n">M_draw</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="o">:</span> <span class="n">D_BLACK</span><span class="p">,</span>   <span class="n">D_WHITE</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="o">:</span> <span class="n">D_RED</span><span class="p">,</span>     <span class="n">D_GREEN</span><span class="p">,</span>    <span class="n">D_BLUE</span>
<span class="n">use</span> <span class="n">M_draw</span><span class="p">,</span>    <span class="n">only</span>  <span class="o">:</span> <span class="n">D_YELLOW</span><span class="p">,</span>  <span class="n">D_MAGENTA</span><span class="p">,</span>  <span class="n">D_CYAN</span>
<span class="n">implicit</span> <span class="n">none</span>
<span class="n">integer</span> <span class="o">::</span> <span class="n">ipaws</span>

<span class="o">!!</span> <span class="n">set</span> <span class="n">up</span> <span class="n">graphics</span> <span class="n">area</span>
<span class="n">call</span> <span class="nf">prefsize</span><span class="p">(</span><span class="m">1000</span><span class="p">,</span><span class="m">200</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">vinit</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">)</span> <span class="o">!</span> <span class="n">start</span> <span class="n">graphics</span> <span class="n">using</span> <span class="n">device</span> <span class="o">$</span><span class="n">M_DRAW_DEVICE</span>

<span class="o">!!</span> <span class="n">draw</span> <span class="n">circle</span> <span class="n">that</span> <span class="n">fills</span> <span class="n">default</span> <span class="n">world</span> <span class="n">coordinate</span> <span class="n">window</span>
<span class="n">call</span> <span class="nf">polyfill</span><span class="p">(</span><span class="n">.true.</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">color</span><span class="p">(</span><span class="n">D_GREEN</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">circle</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span><span class="m">0.0</span><span class="p">,</span><span class="m">1.0</span><span class="p">)</span>
<span class="n">ipaws</span><span class="o">=</span><span class="nf">getkey</span><span class="p">()</span> <span class="o">!!</span> <span class="n">pause</span>

<span class="o">!!</span> <span class="n">set</span> <span class="n">new</span> <span class="n">scales</span> <span class="n">for</span> <span class="n">viewport</span> <span class="n">so</span> <span class="o">&lt;-</span><span class="m">1</span><span class="p">,</span><span class="m">-1</span><span class="o">&gt;</span> <span class="n">and</span> <span class="o">&lt;</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="o">&gt;</span> <span class="n">are</span> <span class="n">at</span>
<span class="o">!!</span> <span class="n">corners</span> <span class="n">of</span> <span class="n">display</span> <span class="n">instead</span> <span class="n">of</span> <span class="n">corners</span> <span class="n">of</span> <span class="n">largest</span> <span class="n">square</span>
<span class="o">!!</span> <span class="n">that</span> <span class="n">can</span> <span class="n">fit</span> <span class="n">on</span> <span class="n">display</span>
<span class="n">call</span> <span class="nf">expandviewport</span><span class="p">()</span>
<span class="n">call</span> <span class="nf">viewport</span><span class="p">(</span><span class="m">-1.0</span><span class="p">,</span><span class="m">1.0</span><span class="p">,</span><span class="m">-1.0</span><span class="p">,</span><span class="m">1.0</span><span class="p">)</span>

<span class="o">!!</span> <span class="n">draw</span> <span class="n">circle</span> <span class="n">that</span> <span class="n">fills</span> <span class="n">default</span> <span class="n">world</span> <span class="n">coordinate</span> <span class="n">window</span> <span class="n">again</span>
<span class="o">!!</span> <span class="n">instead</span> <span class="n">of</span> <span class="n">a</span> <span class="n">circle</span><span class="p">,</span> <span class="n">the</span> <span class="n">mapping</span> <span class="n">now</span> <span class="n">produces</span> <span class="n">an</span> <span class="n">ellipse</span> <span class="n">unless</span>
<span class="o">!!</span> <span class="n">this</span> <span class="n">device</span> <span class="n">has</span> <span class="n">a</span> <span class="n">square</span> <span class="n">display</span>
<span class="n">call</span> <span class="nf">polyhatch</span><span class="p">(</span><span class="n">.true.</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">hatchpitch</span><span class="p">(</span><span class="m">0.1</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">hatchang</span><span class="p">(</span><span class="m">30.0</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">linewidth</span><span class="p">(</span><span class="m">40</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">color</span><span class="p">(</span><span class="n">D_CYAN</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">circle</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span><span class="m">0.0</span><span class="p">,</span><span class="m">1.0</span><span class="p">)</span>
<span class="n">ipaws</span><span class="o">=</span><span class="nf">getkey</span><span class="p">()</span> <span class="o">!!</span> <span class="n">pause</span>

<span class="o">!!</span> <span class="n">set</span> <span class="n">new</span> <span class="n">scales</span> <span class="n">for</span> <span class="n">viewport</span> <span class="n">so</span> <span class="o">&lt;-</span><span class="m">1</span><span class="p">,</span><span class="m">-1</span><span class="o">&gt;</span> <span class="n">and</span> <span class="o">&lt;</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="o">&gt;</span> <span class="n">are</span> <span class="n">at</span>
<span class="o">!!</span> <span class="n">corners</span> <span class="n">of</span> <span class="n">largest</span> <span class="n">square</span> <span class="n">that</span> <span class="n">fits</span> <span class="n">on</span> <span class="n">display</span>
<span class="n">call</span> <span class="nf">unexpandviewport</span><span class="p">()</span>
<span class="o">!!</span> <span class="n">actually</span> <span class="n">change</span> <span class="n">to</span> <span class="n">the</span> <span class="n">new</span> <span class="n">viewport</span>
<span class="n">call</span> <span class="nf">viewport</span><span class="p">(</span><span class="m">-1.0</span><span class="p">,</span><span class="m">1.0</span><span class="p">,</span><span class="m">-1.0</span><span class="p">,</span><span class="m">1.0</span><span class="p">)</span>

<span class="o">!!</span> <span class="n">now</span> <span class="n">the</span> <span class="n">same</span> <span class="n">circle</span> <span class="n">should</span> <span class="n">draw</span> <span class="n">where</span> <span class="n">the</span> <span class="n">original</span> <span class="n">one</span> <span class="n">did</span>
<span class="n">call</span> <span class="nf">color</span><span class="p">(</span><span class="n">D_BLACK</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">hatchang</span><span class="p">(</span><span class="m">120.0</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">linewidth</span><span class="p">(</span><span class="m">40</span><span class="p">)</span>
<span class="n">call</span> <span class="nf">circle</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span><span class="m">0.0</span><span class="p">,</span><span class="m">1.0</span><span class="p">)</span>
<span class="n">ipaws</span><span class="o">=</span><span class="nf">getkey</span><span class="p">()</span> <span class="o">!!</span> <span class="n">pause</span>

<span class="n">call</span> <span class="nf">vexit</span><span class="p">()</span>                  <span class="o">!!</span> <span class="n">wrap</span> <span class="n">up</span> <span class="n">graphics</span>

<span class="n">end</span> <span class="n">program</span> <span class="n">demo_unexpandviewport</span>
</code></pre></div>

<h2 id="name_88">NAME</h2>
<div class="codehilite"><pre><span></span><code>getaspect(3f) - [M_draw:ASPECT] Returns the ratio height over width of the display device.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_87">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      real function getaspect()
</code></pre></div>

<h2 id="description_87">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Returns the ratio height over width of the display device.
</code></pre></div>

<h2 id="name_89">NAME</h2>
<div class="codehilite"><pre><span></span><code>getfactors(3f) - [M_draw:ASPECT] Returns width over min(width of device, height of device) and height over min(width of device, height of device).
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_88">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine getfactors(w, h)
      real w, h
</code></pre></div>

<h2 id="description_88">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Returns wfact as the width over min(width of device, height of device)
and hfact as the height over min(width of device, height of
device).
</code></pre></div>

<h2 id="name_90">NAME</h2>
<div class="codehilite"><pre><span></span><code>getdisplaysize(3f) - [M_draw:ASPECT] Returns width and height of device in device units
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_89">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine getdisplaysize(w, h)
      real,intent(in) :: w, h
</code></pre></div>

<h2 id="description_89">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Returns the width and height of the device in device units in w and h
respectively.
</code></pre></div>

<h2 id="name_91">NAME</h2>
<div class="codehilite"><pre><span></span><code>pushattributes(3f) - [M_draw:ATTRIBUTE_STACK] Save the current attributes on the attribute stack.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_90">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine pushattributes()
</code></pre></div>

<h2 id="description_90">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Save the current attributes on the attribute stack.
</code></pre></div>

<h2 id="name_92">NAME</h2>
<div class="codehilite"><pre><span></span><code>popattributes(3f) - [M_draw:ATTRIBUTE_STACK] Restore attributes to what they were at last pushattributes().
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_91">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine popattributes()
</code></pre></div>

<h2 id="description_91">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Restore the attributes to what they were at the last pushattributes().
</code></pre></div>

<h2 id="name_93">NAME</h2>
<div class="codehilite"><pre><span></span><code>ortho(3f) - [M_draw:PROJECTION] Define x,y,z clipping planes.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_92">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine ortho(left, right, bottom, top, near_d, far_d)
      real left, right, bottom, top, near_d, far_d
</code></pre></div>

<h2 id="description_92">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Define x (left, right), y (bottom, top), and z (near, far) clipping
planes. The near and far clipping planes are actually specified
as distances along the line of sight. These distances can also be
negative. The actual location of the clipping planes is z = -near_d
and z = -far_d.
</code></pre></div>

<h2 id="name_94">NAME</h2>
<div class="codehilite"><pre><span></span><code>ortho2(3f) - [M_draw:PROJECTION] define the area of the virtual world coordinates to map to the viewport
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_93">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine ortho2(left, right, bottom, top)
      real,intent(in) :: left, right, bottom, top
</code></pre></div>

<h2 id="description_93">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Defines the section of the virtual world coordinates to map to
the viewport. That is, Define x (left, right), and y (bottom, top)
clipping planes.

All the projection routines define a new transformation
matrix, and consequently the world units. Parallel projections are
defined by ortho2.
</code></pre></div>

<h2 id="name_95">NAME</h2>
<div class="codehilite"><pre><span></span><code>perspective(3f) - [M_draw:PROJECTION] Specify perspective viewing pyramid
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_94">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine perspective(fov, aspect, near, far)
      real fov, aspect, near, far
</code></pre></div>

<h2 id="description_94">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Specify a perspective viewing pyramid in world coordinates by giving
a field of view, aspect ratio and the distance from the eye of the
near and far clipping plane.
</code></pre></div>

<h2 id="example_58">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="n">program</span> <span class="n">demo_perspective</span>
<span class="o">!</span>
<span class="o">!</span>     <span class="n">Shows</span> <span class="n">various</span> <span class="n">combinations</span> <span class="n">of</span> <span class="n">viewing</span> <span class="ow">and</span> <span class="n">projection</span> <span class="n">transformations</span>
<span class="n">use</span> <span class="n">M_draw</span>
<span class="o">!</span>
<span class="n">character</span><span class="p">(</span><span class="n">len</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span> <span class="p">::</span> <span class="n">device</span>
<span class="n">integer</span> <span class="p">::</span> <span class="n">ios</span>
<span class="o">!</span>
   <span class="nb">print</span><span class="o">*</span><span class="p">,</span><span class="s1">&#39;Enter output device:&#39;</span>
   <span class="n">read</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="s1">&#39;(a)&#39;</span><span class="p">,</span><span class="n">iostat</span><span class="o">=</span><span class="n">ios</span><span class="p">)</span><span class="n">device</span>
   <span class="k">if</span><span class="p">(</span><span class="n">ios</span><span class="o">.</span><span class="n">ne</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span><span class="n">device</span><span class="o">=</span><span class="s1">&#39; &#39;</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">vinit</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_BLACK</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">clear</span><span class="p">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">we</span> <span class="n">want</span> <span class="n">to</span> <span class="n">draw</span> <span class="n">just</span> <span class="n">within</span> <span class="n">the</span> <span class="n">boundaries</span> <span class="n">of</span> <span class="n">the</span> <span class="n">screen</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">viewport</span><span class="p">(</span><span class="o">-</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">set</span> <span class="n">the</span> <span class="n">world</span> <span class="n">size</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">ortho2</span><span class="p">(</span><span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">draw</span> <span class="n">a</span> <span class="n">boundary</span> <span class="n">frame</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_RED</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">rect</span><span class="p">(</span><span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">set</span> <span class="n">up</span> <span class="n">a</span> <span class="n">perspective</span> <span class="n">projection</span> <span class="n">with</span> <span class="n">a</span> <span class="n">field</span> <span class="n">of</span> <span class="n">view</span> <span class="n">of</span>
<span class="o">!</span> <span class="mf">40.0</span> <span class="n">degrees</span><span class="p">,</span> <span class="n">aspect</span> <span class="n">ratio</span> <span class="n">of</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">near</span> <span class="n">clipping</span> <span class="n">plane</span> <span class="mf">0.1</span><span class="p">,</span>
<span class="o">!</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">far</span> <span class="n">clipping</span> <span class="n">plane</span> <span class="n">at</span> <span class="mf">1000.0</span><span class="o">.</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">perspective</span><span class="p">(</span><span class="mf">40.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">1000.0</span><span class="p">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">we</span> <span class="n">want</span> <span class="n">the</span> <span class="n">drawing</span> <span class="n">to</span> <span class="n">be</span> <span class="n">done</span> <span class="n">with</span> <span class="n">our</span> <span class="n">eye</span> <span class="n">point</span> <span class="n">at</span> <span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">)</span>
<span class="o">!</span> <span class="n">looking</span> <span class="n">towards</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span><span class="o">.</span> <span class="n">The</span> <span class="n">last</span> <span class="n">parameter</span> <span class="n">gives</span> <span class="n">a</span> <span class="n">twist</span>
<span class="o">!</span> <span class="ow">in</span> <span class="n">degrees</span> <span class="n">around</span> <span class="n">the</span> <span class="n">line</span> <span class="n">of</span> <span class="n">sight</span><span class="p">,</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">case</span> <span class="n">zero</span><span class="o">.</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">lookat</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">drawtetra</span><span class="p">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">set</span> <span class="n">the</span> <span class="n">text</span> <span class="n">size</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">textsize</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="o">-</span><span class="mf">4.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="s1">&#39;perspective/lookat&#39;</span><span class="p">)</span>
<span class="o">!</span>
   <span class="n">idum</span><span class="o">=</span><span class="n">getkey</span><span class="p">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">window</span> <span class="n">can</span> <span class="n">also</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">give</span> <span class="n">a</span> <span class="n">perspective</span> <span class="n">projection</span><span class="o">.</span> <span class="n">Its</span>
<span class="o">!</span> <span class="n">arguments</span> <span class="n">are</span> <span class="mi">6</span> <span class="n">clipping</span> <span class="n">planes</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">near</span><span class="p">,</span>
<span class="o">!</span> <span class="ow">and</span> <span class="n">far</span><span class="o">.</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">window</span><span class="p">(</span><span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="k">as</span> <span class="n">window</span> <span class="n">replaces</span> <span class="n">the</span> <span class="n">current</span> <span class="n">transformation</span> <span class="n">matrix</span> <span class="n">we</span> <span class="n">must</span>
<span class="o">!</span> <span class="n">specify</span> <span class="n">our</span> <span class="n">viewpoint</span> <span class="n">again</span><span class="o">.</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">lookat</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_BLACK</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">clear</span><span class="p">()</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_GREEN</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">rect</span><span class="p">(</span><span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">)</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">drawtetra</span><span class="p">()</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">textsize</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="o">-</span><span class="mf">4.5</span><span class="p">,</span><span class="o">-</span><span class="mf">4.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="s1">&#39;window/lookat&#39;</span><span class="p">)</span>
<span class="o">!</span>
   <span class="n">idum</span><span class="o">=</span><span class="n">getkey</span><span class="p">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">set</span> <span class="n">up</span> <span class="n">our</span> <span class="n">original</span> <span class="n">perspective</span> <span class="n">projection</span> <span class="n">again</span><span class="o">.</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">perspective</span><span class="p">(</span><span class="mf">40.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">1000.0</span><span class="p">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">polarview</span> <span class="n">also</span> <span class="n">specifies</span> <span class="n">our</span> <span class="n">viewpoint</span><span class="p">,</span> <span class="n">but</span><span class="p">,</span> <span class="n">unlike</span> <span class="n">lookat</span><span class="p">,</span> <span class="ow">in</span> <span class="n">polar</span>
<span class="o">!</span> <span class="n">coordinates</span><span class="o">.</span> <span class="n">Its</span> <span class="n">arguments</span> <span class="n">are</span> <span class="n">the</span> <span class="n">distance</span> <span class="n">from</span> <span class="n">the</span> <span class="n">world</span> <span class="n">origin</span><span class="p">,</span> <span class="n">an</span>
<span class="o">!</span> <span class="n">azimuthal</span> <span class="n">angle</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">x</span><span class="o">-</span><span class="n">y</span> <span class="n">plane</span> <span class="n">measured</span> <span class="n">from</span> <span class="n">the</span> <span class="n">y</span> <span class="n">axis</span><span class="p">,</span> <span class="n">an</span>
<span class="o">!</span> <span class="n">incidence</span> <span class="n">angle</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">y</span><span class="o">-</span><span class="n">z</span> <span class="n">plane</span> <span class="n">measured</span> <span class="n">from</span> <span class="n">the</span> <span class="n">z</span> <span class="n">axis</span><span class="p">,</span> <span class="ow">and</span> <span class="n">a</span>
<span class="o">!</span> <span class="n">twist</span> <span class="n">around</span> <span class="n">the</span> <span class="n">line</span> <span class="n">of</span> <span class="n">sight</span><span class="o">.</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">polarview</span><span class="p">(</span><span class="mf">15.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">)</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_BLACK</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">clear</span><span class="p">()</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_MAGENTA</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">rect</span><span class="p">(</span><span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">)</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">drawtetra</span><span class="p">()</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="o">-</span><span class="mf">4.5</span><span class="p">,</span><span class="o">-</span><span class="mf">4.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">textsize</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="s1">&#39;perspective/polarview&#39;</span><span class="p">)</span>
<span class="o">!</span>
   <span class="n">idum</span><span class="o">=</span><span class="n">getkey</span><span class="p">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">once</span> <span class="n">more</span> <span class="n">with</span> <span class="n">window</span> <span class="k">for</span> <span class="n">comparison</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">window</span><span class="p">(</span><span class="o">-</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">polarview</span><span class="p">(</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">30.0</span><span class="p">,</span> <span class="mf">70.0</span><span class="p">)</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_BLACK</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">clear</span><span class="p">()</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_YELLOW</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">rect</span><span class="p">(</span><span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">)</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">drawtetra</span><span class="p">()</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="o">-</span><span class="mf">4.5</span><span class="p">,</span><span class="o">-</span><span class="mf">4.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">textsize</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">drawstr</span><span class="p">(</span><span class="s1">&#39;window/polarview&#39;</span><span class="p">)</span>
<span class="o">!</span>
   <span class="n">idum</span><span class="o">=</span><span class="n">getkey</span><span class="p">()</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">vexit</span><span class="p">()</span>
<span class="o">!</span>
<span class="n">contains</span>
<span class="o">!</span>
<span class="n">subroutine</span> <span class="n">drawtetra</span><span class="p">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="n">generate</span> <span class="n">a</span> <span class="n">tetrahedron</span> <span class="k">as</span> <span class="n">a</span> <span class="n">series</span> <span class="n">of</span> <span class="n">move</span> <span class="n">draws</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">move</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>  <span class="mf">0.866</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">draw</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.866</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">draw</span><span class="p">(</span> <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">0.0</span><span class="p">,</span>   <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">draw</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>  <span class="mf">0.866</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">draw</span><span class="p">(</span> <span class="mf">0.0</span><span class="p">,</span>  <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">1.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">draw</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.866</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">move</span><span class="p">(</span> <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">0.0</span><span class="p">,</span>   <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">draw</span><span class="p">(</span> <span class="mf">0.0</span><span class="p">,</span>  <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">1.5</span><span class="p">)</span>
<span class="o">!</span>
<span class="o">!</span>    <span class="n">Label</span> <span class="n">the</span> <span class="n">vertices</span><span class="o">.</span>
<span class="o">!</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_WHITE</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">textsize</span><span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">move</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>  <span class="mf">0.866</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">drawchar</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">move</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.866</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">drawchar</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">move</span><span class="p">(</span> <span class="mf">1.0</span><span class="p">,</span>  <span class="mf">0.0</span><span class="p">,</span>   <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">drawchar</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">move</span><span class="p">(</span> <span class="mf">0.0</span><span class="p">,</span>  <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">1.5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">drawchar</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="o">!</span>
<span class="n">end</span> <span class="n">subroutine</span> <span class="n">drawtetra</span>
<span class="o">!</span>
<span class="n">end</span> <span class="n">program</span> <span class="n">demo_perspective</span>
</code></pre></div>

<h2 id="name_96">NAME</h2>
<div class="codehilite"><pre><span></span><code>window(3f) - [M_draw:PROJECTION] Specify a perspective viewing pyramid
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_95">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine window(left, right, bot, top, near, far)
      real left, right, bot, top, near, far
</code></pre></div>

<h2 id="description_95">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Specify a perspective viewing pyramid in world coordinates by giving
the rectangle closest to the eye (ie. at the near clipping plane)
and the distances to the near and far clipping planes.
</code></pre></div>

<h2 id="example_59">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_windows</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
<span class="nv">integer</span> <span class="nv">CUBE</span>, <span class="nv">TOPLEFT</span>, <span class="nv">TOPRIGHT</span>, <span class="nv">BOTTOMLEFT</span>, <span class="nv">BOTTOMRIGHT</span>
<span class="nv">parameter</span><span class="ss">(</span><span class="nv">CUBE</span> <span class="o">=</span> <span class="mi">1</span>, <span class="nv">TOPLEFT</span> <span class="o">=</span> <span class="mi">2</span>, <span class="nv">TOPRIGHT</span> <span class="o">=</span> <span class="mi">3</span>, <span class="nv">BOTTOMLEFT</span> <span class="o">=</span> <span class="mi">4</span>, <span class="nv">BOTTOMRIGHT</span> <span class="o">=</span> <span class="mi">5</span><span class="ss">)</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">20</span><span class="ss">)</span> :: <span class="nv">device</span>
<span class="nv">print</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">Enter device name:</span><span class="s1">&#39;</span>
<span class="nv">read</span><span class="ss">(</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">(A)</span><span class="s1">&#39;</span>,<span class="nv">iostat</span><span class="o">=</span><span class="nv">ios</span><span class="ss">)</span><span class="nv">device</span>
<span class="k">if</span><span class="ss">(</span><span class="nv">ios</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="nv">device</span><span class="o">=</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span>
<span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="nv">device</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">pushviewport</span>
<span class="k">call</span> <span class="nl">textsize</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">5</span>, <span class="mi">0</span>.<span class="mi">9</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">font</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">futura.m</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">clear</span>
<span class="o">!</span> <span class="nv">make</span> <span class="nv">an</span> <span class="nv">object</span> <span class="nv">that</span> <span class="nv">represents</span> <span class="nv">the</span> <span class="nv">cube</span>
<span class="k">call</span> <span class="nl">makecube</span>
<span class="o">!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">an</span> <span class="nv">object</span> <span class="nv">which</span> <span class="nv">draws</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">top</span> <span class="nv">left</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">screen</span>.
<span class="k">call</span> <span class="nl">makeobj</span><span class="ss">(</span><span class="nv">TOPLEFT</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">viewport</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">perspective</span><span class="ss">(</span><span class="mi">40</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">1</span>, <span class="mi">1000</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">lookat</span><span class="ss">(</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">8</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="o">!</span> <span class="k">Call</span> <span class="nl">an</span> <span class="nv">object</span> <span class="nv">within</span> <span class="nv">another</span> <span class="nv">object</span>
<span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">CUBE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">4</span>.<span class="mi">5</span>, <span class="o">-</span><span class="mi">4</span>.<span class="mi">5</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">perspective/lookat</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">closeobj</span>
<span class="o">!</span> <span class="nv">now</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">one</span> <span class="nv">which</span> <span class="nv">draws</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">top</span> <span class="nv">right</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">screen</span>
<span class="k">call</span> <span class="nl">makeobj</span><span class="ss">(</span><span class="nv">TOPRIGHT</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">viewport</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">window</span><span class="ss">(</span><span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">lookat</span><span class="ss">(</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">8</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">CUBE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">4</span>.<span class="mi">5</span>, <span class="o">-</span><span class="mi">4</span>.<span class="mi">5</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">window/lookat</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">closeobj</span>
<span class="o">!</span> <span class="nv">try</span> <span class="nv">the</span> <span class="nv">bottom</span> <span class="nv">left</span>
<span class="k">call</span> <span class="nl">makeobj</span><span class="ss">(</span><span class="nv">BOTTOMLEFT</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">viewport</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_MAGENTA</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">perspective</span><span class="ss">(</span><span class="mi">40</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">1</span>, <span class="mi">1000</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">polarview</span><span class="ss">(</span><span class="mi">15</span>.<span class="mi">0</span>, <span class="mi">30</span>.<span class="mi">0</span>, <span class="mi">30</span>.<span class="mi">0</span>, <span class="mi">30</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">CUBE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_YELLOW</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">4</span>.<span class="mi">5</span>, <span class="o">-</span><span class="mi">4</span>.<span class="mi">5</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">perspective/polarview</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">closeobj</span>
<span class="o">!</span> <span class="nv">and</span> <span class="nv">the</span> <span class="nv">bottom</span> <span class="nv">right</span>
<span class="k">call</span> <span class="nl">makeobj</span><span class="ss">(</span><span class="nv">BOTTOMRIGHT</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">viewport</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_CYAN</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">window</span><span class="ss">(</span><span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">polarview</span><span class="ss">(</span><span class="mi">8</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">18</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">3</span>.<span class="mi">0</span>, <span class="mi">18</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">CUBE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="o">-</span><span class="mi">4</span>.<span class="mi">5</span>, <span class="o">-</span><span class="mi">4</span>.<span class="mi">5</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">drawstr</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">window/polarview</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">closeobj</span>
<span class="o">!</span> <span class="nv">now</span> <span class="nv">draw</span> <span class="nv">them</span>
<span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">TOPLEFT</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">TOPRIGHT</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">BOTTOMLEFT</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">BOTTOMRIGHT</span><span class="ss">)</span>
<span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">vexit</span>
<span class="o">!=====================================================================</span>
<span class="nv">contains</span>
<span class="o">!=====================================================================</span>
<span class="nv">subroutine</span> <span class="nv">makecube</span>
<span class="o">!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">a</span> <span class="nv">cube</span>
<span class="nv">integer</span> <span class="nv">CUBE</span>
<span class="nv">parameter</span> <span class="ss">(</span><span class="nv">CUBE</span> <span class="o">=</span> <span class="mi">1</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">makeobj</span><span class="ss">(</span><span class="nv">CUBE</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">The</span> <span class="nv">border</span> <span class="nv">around</span> <span class="nv">the</span> <span class="nv">cube</span>
<span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>, <span class="mi">10</span>.<span class="mi">0</span>, <span class="mi">10</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="o">!</span> <span class="nv">Make</span> <span class="nv">the</span> <span class="nv">cube</span> <span class="nv">from</span> <span class="mi">4</span> <span class="nv">squares</span>
<span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">side</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">90</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">x</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">side</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">90</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">x</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">side</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">90</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">x</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">side</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">closeobj</span><span class="ss">()</span>
<span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">makecube</span>
<span class="o">!=====================================================================</span>
<span class="nv">subroutine</span> <span class="nv">side</span>
<span class="o">!</span> <span class="nv">define</span> <span class="nv">a</span> <span class="nv">face</span> <span class="k">for</span> <span class="nv">the</span> <span class="nv">cube</span>
<span class="k">call</span> <span class="nl">pushmatrix</span>
<span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">rect</span><span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">popmatrix</span>
<span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">side</span>
<span class="o">!=====================================================================</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_windows</span>
</code></pre></div>

<h2 id="name_97">NAME</h2>
<div class="codehilite"><pre><span></span><code>pushmatrix(3f) - [M_draw:MATRIX_STACK] Save the current transformation matrix on the matrix stack.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_96">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine pushmatrix()
</code></pre></div>

<h2 id="description_96">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Save the current transformation matrix on the matrix stack.
</code></pre></div>

<h2 id="name_98">NAME</h2>
<div class="codehilite"><pre><span></span><code>popmatrix(3f) - [M_draw:MATRIX_STACK] Reinstall the last matrix pushed
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_97">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine popmatrix()
</code></pre></div>

<h2 id="description_97">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Retrieve the last matrix pushed and make it the current transformation matrix.
</code></pre></div>

<h2 id="name_99">NAME</h2>
<div class="codehilite"><pre><span></span><code>polarview(3f) - [M_draw:VIEWPORT] Specify the viewer&#39;s position in polar coordinates
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_98">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine polarview(dist, azim, inc, twist)
      real dist, azim, inc, twist
</code></pre></div>

<h2 id="description_98">DESCRIPTION</h2>
<p>Specify the viewer&rsquo;s position in polar coordinates by giving the distance
 from the viewpoint to the world origin, the azimuthal angle in the x-y
 plane, measured from the y-axis, the incidence angle in the y-z plane,
 measured from the z-axis, and the twist angle about the line of sight.</p>
<h2 id="name_100">NAME</h2>
<div class="codehilite"><pre><span></span><code>up(3f) - [M_draw:VIEWPORT] Specify the world up.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_99">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine up(x, y, z)
      real x, y, z
</code></pre></div>

<h2 id="description_99">DESCRIPTION</h2>
<p>Specify the world up. This can be used to prevent lookat&rsquo;s sometimes
 annoying habit of turning everything upside down due to the line of
 sight crossing the appropriate axis.</p>
<h2 id="name_101">NAME</h2>
<div class="codehilite"><pre><span></span><code>lookat(3f) - [M_draw:VIEWPORT] Specify the viewer&#39;s position
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_100">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine lookat(vx, vy, vz, px, py, pz, twist)
      real vx, vy, vz, px, py, pz, twist
</code></pre></div>

<h2 id="description_100">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Specify the viewer&#39;s position by giving a viewpoint and a reference
point in world coordinates. A twist about the line of sight may also
be given.
</code></pre></div>

<h2 id="example_60">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="n">program</span><span class="w"> </span><span class="s">demo_lookat</span><span class="w"></span>
<span class="sx">! Demonstrate a rotating translating tetrahedron, and doublebuffering</span><span class="w"></span>
<span class="n">use</span><span class="w"> </span><span class="s">M_draw</span><span class="w"></span>
<span class="n">use</span><span class="w"> </span><span class="s">M_time,</span><span class="w"> </span><span class="s">only</span><span class="w"> </span><span class="s">:</span><span class="w"> </span><span class="s">system_sleep</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="n">integer</span><span class="w"> </span><span class="s">TETRAHEDRON</span><span class="w"></span>
<span class="n">parameter</span><span class="w"> </span><span class="p">(</span><span class="n">TETRAHEDRON</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="nb">real</span><span class="w"> </span><span class="n">R</span><span class="p">,</span><span class="w"> </span><span class="n">tx</span><span class="p">,</span><span class="w"> </span><span class="n">tz</span><span class="p">,</span><span class="w"> </span><span class="n">rotval</span><span class="p">,</span><span class="w"> </span><span class="n">drotval</span><span class="p">,</span><span class="w"> </span><span class="n">zeye</span><span class="w"></span>
<span class="n">integer</span><span class="w"> </span><span class="s">i</span><span class="w"></span>
<span class="nb">logical</span><span class="w"> </span><span class="n">back</span><span class="p">,</span><span class="w"> </span><span class="n">backdir</span><span class="p">,</span><span class="w"> </span><span class="nb">fill</span><span class="w"></span>
<span class="n">character</span><span class="p">(</span><span class="n">len</span><span class="p">=</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="n">device</span><span class="w"></span>
<span class="n">integer</span><span class="w"> </span><span class="s">::</span><span class="w"> </span><span class="s">ios</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="n">call</span><span class="w"> </span><span class="s">prefsize(300,</span><span class="w"> </span><span class="s">300)</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="nb">print</span><span class="o">*</span><span class="p">,</span><span class="s">&#39;Enter output device:&#39;</span><span class="w"></span>
<span class="nb">read</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="s">&#39;(a)&#39;</span><span class="p">,</span><span class="n">iostat</span><span class="p">=</span><span class="n">ios</span><span class="p">)</span><span class="n">device</span><span class="w"></span>
<span class="k">if</span><span class="p">(</span><span class="n">ios</span><span class="p">.</span><span class="n">ne</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span><span class="n">device</span><span class="p">=</span><span class="s">&#39; &#39;</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="n">back</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.</span><span class="w"></span>
<span class="n">backdir</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.</span><span class="w"></span>
<span class="nb">fill</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="n">call</span><span class="w"> </span><span class="s">vinit(device)</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="sx">! Make the tetrahedral object</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="n">call</span><span class="w"> </span><span class="s">maketheobject()</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="n">rotval</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="n">drotval</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">5.0</span><span class="w"></span>
<span class="n">zeye</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">5.0</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="n">R</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">1.6</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="n">tx</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="n">tz</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">R</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="sx">!all polyfill(fill)</span><span class="w"></span>
<span class="n">call</span><span class="w"> </span><span class="s">backface(back)</span><span class="w"></span>
<span class="n">call</span><span class="w"> </span><span class="s">backfacedir(backdir)</span><span class="w"></span>
<span class="n">call</span><span class="w"> </span><span class="s">clipping(.false.)</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="sx">! set up a perspective projection with a field of view of</span><span class="w"></span>
<span class="sx">! 40.0 degrees, aspect ratio of 1.0, near clipping plane 0.1,</span><span class="w"></span>
<span class="sx">! and the far clipping plane at 1000.0.</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="n">call</span><span class="w"> </span><span class="s">perspective(40.0,</span><span class="w"> </span><span class="s">1.0,</span><span class="w"> </span><span class="s">0.001,</span><span class="w"> </span><span class="s">15.0)</span><span class="w"></span>
<span class="n">call</span><span class="w"> </span><span class="s">lookat(0.0,</span><span class="w"> </span><span class="s">0.0,</span><span class="w"> </span><span class="s">zeye,</span><span class="w"> </span><span class="s">0.0,</span><span class="w"> </span><span class="s">0.0,</span><span class="w"> </span><span class="s">0.0,</span><span class="w"> </span><span class="s">0.0)</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="sx">! Setup drawing into the backbuffer....</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">backbuffer</span><span class="p">().</span><span class="n">lt</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">then</span><span class="w"></span>
<span class="w">   </span><span class="n">call</span><span class="w"> </span><span class="n">vexit</span><span class="p">()</span><span class="w"></span>
<span class="w">   </span><span class="nb">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="o">&#39;</span><span class="n">Device</span><span class="w"> </span><span class="n">can</span><span class="o">&#39;&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">doublebuffering</span><span class="o">&#39;</span><span class="w"></span>
<span class="w">   </span><span class="nb">stop</span><span class="w"></span>
<span class="n">endif</span><span class="w"></span>
<span class="s">!</span><span class="w"></span>
<span class="sx">! we loop back here ad-nauseam until someone hits a non-interpreted key</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="n">INFINITE</span><span class="p">:</span><span class="w"> </span><span class="n">do</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="w">   </span><span class="n">rotval</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="w">   </span><span class="n">do</span><span class="w"> </span><span class="nb">i</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">int</span><span class="p">(</span><span class="mf">359.0</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">drotval</span><span class="p">)</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="n">color</span><span class="p">(</span><span class="n">D_BLACK</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="nb">clear</span><span class="p">()</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="sx">!  Rotate the whole scene...(this accumulates - hence</span><span class="w"></span>
<span class="sx">!  drotval)</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="nb">rotate</span><span class="p">(</span><span class="n">drotval</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;x&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="nb">rotate</span><span class="p">(</span><span class="n">drotval</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;z&#39;</span><span class="p">)</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="n">color</span><span class="p">(</span><span class="n">D_RED</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="n">pushmatrix</span><span class="p">()</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="n">polyfill</span><span class="p">(.</span><span class="n">false</span><span class="p">.)</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="nb">rotate</span><span class="p">(</span><span class="mf">90.0</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;x&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="n">circle</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="n">polyfill</span><span class="p">(</span><span class="nb">fill</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="n">popmatrix</span><span class="p">()</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="n">color</span><span class="p">(</span><span class="n">D_BLUE</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="nb">move</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="n">draw</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">tz</span><span class="p">)</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="sx">! Remember! The order of the transformations is</span><span class="w"></span>
<span class="sx">! the reverse of what is specified here in between</span><span class="w"></span>
<span class="sx">! the pushmatrix and the popmatrix. These ones don&#39;t</span><span class="w"></span>
<span class="sx">! accumulate because of the push and pop.</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="n">pushmatrix</span><span class="p">()</span><span class="w"></span>
<span class="w">         </span><span class="n">call</span><span class="w"> </span><span class="nb">translate</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">tz</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="n">call</span><span class="w"> </span><span class="nb">rotate</span><span class="p">(</span><span class="n">rotval</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;x&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="n">call</span><span class="w"> </span><span class="nb">rotate</span><span class="p">(</span><span class="n">rotval</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;y&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="n">call</span><span class="w"> </span><span class="nb">rotate</span><span class="p">(</span><span class="n">rotval</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;z&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="n">call</span><span class="w"> </span><span class="nb">scale</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4</span><span class="p">)</span><span class="w"></span>
<span class="w">         </span><span class="n">call</span><span class="w"> </span><span class="n">callobj</span><span class="p">(</span><span class="n">TETRAHEDRON</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="n">popmatrix</span><span class="p">()</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="w">      </span><span class="n">tz</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">R</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">cos</span><span class="p">(</span><span class="n">rotval</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">3.1415926535</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">180</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="n">tx</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">R</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">sin</span><span class="p">(</span><span class="n">rotval</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">3.1415926535</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">180</span><span class="p">)</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="n">swapbuffers</span><span class="p">()</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="w">      </span><span class="n">select</span><span class="w"> </span><span class="k">case</span><span class="p">(</span><span class="nb">char</span><span class="p">(</span><span class="n">checkkey</span><span class="p">()))</span><span class="w"></span>
<span class="w">      </span><span class="k">case</span><span class="p">(</span><span class="s">&#39;f&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">                </span><span class="nb">fill</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">.</span><span class="n">not</span><span class="p">.</span><span class="w"> </span><span class="nb">fill</span><span class="w"></span>
<span class="w">                </span><span class="n">call</span><span class="w"> </span><span class="n">polyfill</span><span class="p">(</span><span class="nb">fill</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">case</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">                </span><span class="n">back</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">.</span><span class="n">not</span><span class="p">.</span><span class="w"> </span><span class="n">back</span><span class="w"></span>
<span class="w">                </span><span class="n">call</span><span class="w"> </span><span class="n">backface</span><span class="p">(</span><span class="n">back</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">case</span><span class="p">(</span><span class="s">&#39;d&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">                </span><span class="n">backdir</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">.</span><span class="n">not</span><span class="p">.</span><span class="w"> </span><span class="n">backdir</span><span class="w"></span>
<span class="w">                </span><span class="n">call</span><span class="w"> </span><span class="n">backfacedir</span><span class="p">(</span><span class="n">backdir</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">case</span><span class="p">(</span><span class="nb">char</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="w"></span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="n">default</span><span class="w"></span>
<span class="w">                </span><span class="n">call</span><span class="w"> </span><span class="n">vexit</span><span class="p">()</span><span class="w"></span>
<span class="w">                </span><span class="nb">stop</span><span class="w"></span>
<span class="w">       </span><span class="k">end</span><span class="w"> </span><span class="n">select</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="w">      </span><span class="n">rotval</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">rotval</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">drotval</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="n">system_sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="n">enddo</span><span class="w"></span>
<span class="s">!</span><span class="w"></span>
<span class="n">enddo</span><span class="w"> </span><span class="s">INFINITE</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="nb">contains</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="sx">! maketheobject</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="sx">!       generate a tetrahedron object as a series of move draws</span><span class="w"></span>
<span class="sx">!</span><span class="w"></span>
<span class="n">subroutine</span><span class="w"> </span><span class="s">maketheobject()</span><span class="w"></span>

<span class="n">integer</span><span class="w"> </span><span class="s">TETRAHEDRON,</span><span class="w"> </span><span class="s">NSIDES,</span><span class="w"> </span><span class="s">NFACES,</span><span class="w"> </span><span class="s">NPNTS</span><span class="w"></span>
<span class="n">parameter</span><span class="w"> </span><span class="p">(</span><span class="n">TETRAHEDRON</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">NSIDES</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">NFACES</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">NPNTS</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"></span>
<span class="n">integer</span><span class="w"> </span><span class="s">colface(NFACES)</span><span class="w"></span>
<span class="nb">real</span><span class="w"> </span><span class="n">pnts</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">NPNTS</span><span class="p">)</span><span class="w"></span>
<span class="n">integer</span><span class="w"> </span><span class="s">faces(NSIDES,</span><span class="w"> </span><span class="s">NFACES)</span><span class="w"></span>
<span class="n">integer</span><span class="w"> </span><span class="s">i,</span><span class="w"> </span><span class="s">j</span><span class="w"></span>
<span class="nb">real</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="w"></span>

<span class="n">data</span><span class="w"> </span><span class="s">pnts/</span><span class="w">               </span><span class="o">&amp;</span><span class="w"></span>
<span class="w">     </span><span class="o">&amp;</span><span class="w">  </span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.866</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">0.667</span><span class="p">,</span><span class="w">     </span><span class="o">&amp;</span><span class="w"></span>
<span class="w">     </span><span class="o">&amp;</span><span class="w">  </span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">0.866</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">0.667</span><span class="p">,</span><span class="w">    </span><span class="o">&amp;</span><span class="w"></span>
<span class="w">     </span><span class="o">&amp;</span><span class="w">   </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">0.667</span><span class="p">,</span><span class="w">       </span><span class="o">&amp;</span><span class="w"></span>
<span class="w">     </span><span class="o">&amp;</span><span class="w">   </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.334</span><span class="o">/</span><span class="w"></span>

<span class="n">data</span><span class="w"> </span><span class="s">colface/D_GREEN,</span><span class="w"> </span><span class="s">D_YELLOW,</span><span class="w"> </span><span class="s">D_CYAN,</span><span class="w"> </span><span class="s">D_MAGENTA/</span><span class="w"></span>

<span class="n">data</span><span class="w"> </span><span class="s">faces/</span><span class="w">   </span><span class="o">&amp;</span><span class="w"></span>
<span class="w">     </span><span class="o">&amp;</span><span class="w">  </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">      </span><span class="o">&amp;</span><span class="w"></span>
<span class="w">     </span><span class="o">&amp;</span><span class="w">  </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">      </span><span class="o">&amp;</span><span class="w"></span>
<span class="w">     </span><span class="o">&amp;</span><span class="w">  </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">      </span><span class="o">&amp;</span><span class="w"></span>
<span class="w">     </span><span class="o">&amp;</span><span class="w">  </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="o">/</span><span class="w"></span>

<span class="n">call</span><span class="w"> </span><span class="s">makeobj(TETRAHEDRON)</span><span class="w"></span>

<span class="n">do</span><span class="w"> </span><span class="s">i</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">NFACES</span><span class="w"></span>
<span class="w">   </span><span class="n">call</span><span class="w"> </span><span class="n">makepoly</span><span class="p">()</span><span class="w"></span>
<span class="w">   </span><span class="n">call</span><span class="w"> </span><span class="n">color</span><span class="p">(</span><span class="n">colface</span><span class="p">(</span><span class="nb">i</span><span class="p">))</span><span class="w"></span>
<span class="w">   </span><span class="n">x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">pnts</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">faces</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nb">i</span><span class="p">))</span><span class="w"></span>
<span class="w">   </span><span class="n">y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">pnts</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">faces</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nb">i</span><span class="p">))</span><span class="w"></span>
<span class="w">   </span><span class="n">z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">pnts</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">faces</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nb">i</span><span class="p">))</span><span class="w"></span>
<span class="w">   </span><span class="n">call</span><span class="w"> </span><span class="nb">move</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="n">do</span><span class="w"> </span><span class="nb">j</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">NSIDES</span><span class="w"></span>
<span class="w">      </span><span class="n">x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">pnts</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">faces</span><span class="p">(</span><span class="nb">j</span><span class="p">,</span><span class="nb">i</span><span class="p">))</span><span class="w"></span>
<span class="w">      </span><span class="n">y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">pnts</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">faces</span><span class="p">(</span><span class="nb">j</span><span class="p">,</span><span class="nb">i</span><span class="p">))</span><span class="w"></span>
<span class="w">      </span><span class="n">z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">pnts</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">faces</span><span class="p">(</span><span class="nb">j</span><span class="p">,</span><span class="nb">i</span><span class="p">))</span><span class="w"></span>
<span class="w">      </span><span class="n">call</span><span class="w"> </span><span class="n">draw</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="n">enddo</span><span class="w"></span>
<span class="w">   </span><span class="n">call</span><span class="w"> </span><span class="n">closepoly</span><span class="p">()</span><span class="w"></span>
<span class="w"> </span><span class="n">enddo</span><span class="w"></span>

<span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">closeobj</span><span class="p">()</span><span class="w"></span>

<span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="n">subroutine</span><span class="w"> </span><span class="n">maketheobject</span><span class="w"></span>

<span class="k">end</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">demo_lookat</span><span class="w"></span>
</code></pre></div>

<h2 id="name_102">NAME</h2>
<div class="codehilite"><pre><span></span><code>translate(3f) - [M_draw:TRANSFORMATION] Set up a translation.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_101">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>   subroutine translate(x, y, z)
   real x, y, z
</code></pre></div>

<h2 id="description_101">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Set up a translation.
</code></pre></div>

<h2 id="example_61">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_translate</span>
<span class="o">!</span>
<span class="o">!</span>      <span class="nv">a</span> <span class="nv">demonstration</span> <span class="nv">of</span> <span class="nv">objects</span>
<span class="o">!</span>
<span class="nv">use</span> <span class="nv">M_draw</span>

<span class="nv">integer</span> <span class="nv">SPHERE</span>
<span class="nv">real</span> <span class="nv">RADIUS</span>
<span class="nv">parameter</span> <span class="ss">(</span><span class="nv">RADIUS</span> <span class="o">=</span> <span class="mi">10</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="nv">parameter</span><span class="ss">(</span><span class="nv">SPHERE</span> <span class="o">=</span> <span class="mi">1</span><span class="ss">)</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">50</span><span class="ss">)</span> :: <span class="nv">device</span>
<span class="nv">integer</span>           :: <span class="nv">ios</span>

<span class="nv">print</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">Enter output device:</span><span class="s1">&#39;</span>
<span class="nv">read</span><span class="ss">(</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">(a)</span><span class="s1">&#39;</span>,<span class="nv">iostat</span><span class="o">=</span><span class="nv">ios</span><span class="ss">)</span> <span class="nv">device</span>
<span class="k">if</span><span class="ss">(</span><span class="nv">ios</span>.<span class="nv">ne</span>.<span class="mi">0</span><span class="ss">)</span><span class="nv">device</span><span class="o">=</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span>

<span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="nv">device</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">vsetflush</span><span class="ss">(</span>.<span class="nv">false</span>.<span class="ss">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">our</span> <span class="nv">viewing</span> <span class="nv">transformation</span>
<span class="o">!</span>
<span class="k">call</span> <span class="nl">perspective</span><span class="ss">(</span><span class="mi">90</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">001</span>, <span class="mi">500</span>.<span class="mi">0</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">lookat</span><span class="ss">(</span><span class="mi">13</span>.<span class="mi">0</span>, <span class="mi">13</span>.<span class="mi">0</span>, <span class="mi">8</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLACK</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="k">Call</span> <span class="nl">a</span> <span class="nv">routine</span> <span class="nv">to</span> <span class="nv">make</span> <span class="nv">the</span> <span class="nv">sphere</span> <span class="nv">object</span>
<span class="o">!</span>
<span class="k">call</span> <span class="nl">makesphere</span><span class="ss">()</span>

<span class="o">!</span>
<span class="o">!</span> <span class="nv">Now</span> <span class="nv">draw</span> <span class="nv">the</span> <span class="nv">sphere</span> <span class="nv">object</span> <span class="nv">scaled</span> <span class="nv">down</span>. <span class="nv">We</span> <span class="nv">use</span> <span class="nv">the</span> <span class="nv">pushmatrix</span>
<span class="o">!</span> <span class="nv">and</span> <span class="nv">the</span> <span class="nv">popmatrix</span> <span class="nv">to</span> <span class="nv">preserve</span> <span class="nv">the</span> <span class="nv">transformation</span> <span class="nv">matrix</span> <span class="nv">so</span>
<span class="o">!</span> <span class="nv">that</span> <span class="nv">only</span> <span class="nv">this</span> <span class="nv">sphere</span> <span class="nv">is</span> <span class="nv">drawn</span> <span class="nv">scaled</span>. <span class="nv">The</span> <span class="nv">callobj</span> <span class="k">then</span> <span class="nv">enables</span>
<span class="o">!</span> <span class="nv">us</span> <span class="nv">to</span> <span class="nv">draw</span> <span class="nv">the</span> <span class="nv">sphere</span> <span class="nv">we</span> <span class="nv">generated</span> <span class="nv">with</span> <span class="nv">makeobj</span> <span class="nv">in</span> <span class="nv">makesphere</span>.
<span class="o">!</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_CYAN</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">scale</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">5</span>, <span class="mi">0</span>.<span class="mi">5</span>, <span class="mi">0</span>.<span class="mi">5</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">SPHERE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">now</span> <span class="nv">we</span> <span class="nv">draw</span> <span class="nv">the</span> <span class="nv">same</span> <span class="nv">sphere</span> <span class="nv">translated</span>, <span class="nv">with</span> <span class="nv">a</span> <span class="nv">different</span>
<span class="o">!</span> <span class="nv">scale</span> <span class="nv">and</span> <span class="nv">color</span>.
<span class="o">!</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="ss">(</span><span class="o">-</span><span class="mi">1</span>.<span class="mi">4</span><span class="ss">)</span> <span class="o">*</span> <span class="nv">RADIUS</span>, <span class="mi">1</span>.<span class="mi">4</span> <span class="o">*</span> <span class="nv">RADIUS</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">scale</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">3</span>, <span class="mi">0</span>.<span class="mi">3</span>, <span class="mi">0</span>.<span class="mi">3</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">SPHERE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">and</span> <span class="nv">maybe</span> <span class="nv">a</span> <span class="nv">few</span> <span class="nv">more</span> <span class="nv">times</span>....
<span class="o">!</span>
<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_RED</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="nv">RADIUS</span>, <span class="mi">0</span>.<span class="mi">7</span> <span class="o">*</span> <span class="nv">RADIUS</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">scale</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">2</span>, <span class="mi">0</span>.<span class="mi">2</span>, <span class="mi">0</span>.<span class="mi">2</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">SPHERE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>

<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">1</span>.<span class="mi">5</span> <span class="o">*</span> <span class="nv">RADIUS</span>, <span class="o">-</span><span class="nv">RADIUS</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">scale</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">15</span>, <span class="mi">0</span>.<span class="mi">15</span>, <span class="mi">0</span>.<span class="mi">15</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">SPHERE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>

<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_YELLOW</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="o">-</span><span class="nv">RADIUS</span>, <span class="o">-</span><span class="nv">RADIUS</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">scale</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">12</span>, <span class="mi">0</span>.<span class="mi">12</span>, <span class="mi">0</span>.<span class="mi">12</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">SPHERE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>

<span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_BLUE</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="ss">(</span><span class="o">-</span><span class="mi">2</span>.<span class="mi">0</span><span class="ss">)</span><span class="o">*</span><span class="nv">RADIUS</span>, <span class="o">-</span><span class="nv">RADIUS</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">scale</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">3</span>, <span class="mi">0</span>.<span class="mi">3</span>, <span class="mi">0</span>.<span class="mi">3</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="nv">SPHERE</span><span class="ss">)</span>
<span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>

<span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span>

<span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
<span class="nv">contains</span>
<span class="nv">subroutine</span> <span class="nv">makesphere</span>
<span class="o">!</span>
<span class="o">!</span>        <span class="nv">make</span> <span class="nv">a</span> <span class="nv">sphere</span> <span class="nv">object</span>
<span class="o">!</span>
<span class="nv">integer</span> <span class="nv">SPHERE</span>
<span class="nv">integer</span> <span class="nv">ii</span>
<span class="nv">real</span> <span class="nv">i</span>, <span class="nv">r</span>, <span class="nv">z</span>, <span class="nv">a</span>, <span class="nv">RADIUS</span>, <span class="nv">PI</span>
<span class="nv">parameter</span> <span class="ss">(</span><span class="nv">PI</span> <span class="o">=</span> <span class="mi">3</span>.<span class="mi">1415926535</span>, <span class="nv">RADIUS</span> <span class="o">=</span> <span class="mi">10</span>.<span class="mi">0</span>, <span class="nv">SPHERE</span> <span class="o">=</span> <span class="mi">1</span><span class="ss">)</span>

<span class="k">call</span> <span class="nl">makeobj</span><span class="ss">(</span><span class="nv">SPHERE</span><span class="ss">)</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">create</span> <span class="nv">the</span> <span class="nv">latitudinal</span> <span class="nv">rings</span>
<span class="o">!</span>
<span class="k">do</span> <span class="nv">ii</span> <span class="o">=</span> <span class="mi">0</span>, <span class="mi">180</span>, <span class="mi">20</span>
   <span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
   <span class="nv">i</span><span class="o">=</span><span class="nv">real</span><span class="ss">(</span><span class="nv">ii</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="nv">i</span>, <span class="s1">&#39;</span><span class="s">y</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="nv">RADIUS</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>
<span class="nv">enddo</span>
<span class="o">!</span>
<span class="o">!</span> <span class="nv">create</span> <span class="nv">the</span> <span class="nv">longitudinal</span> <span class="nv">rings</span>
<span class="o">!</span>
<span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
<span class="k">call</span> <span class="nl">rotate</span><span class="ss">(</span><span class="mi">90</span>.<span class="mi">0</span>, <span class="s1">&#39;</span><span class="s">x</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">do</span> <span class="nv">ia</span> <span class="o">=</span> <span class="o">-</span><span class="mi">90</span>, <span class="mi">90</span>, <span class="mi">20</span>
   <span class="nv">a</span><span class="o">=</span><span class="nv">ia</span>
   <span class="nv">r</span> <span class="o">=</span> <span class="nv">RADIUS</span> <span class="o">*</span> <span class="nv">cos</span><span class="ss">(</span><span class="nv">a</span> <span class="o">*</span> <span class="nv">PI</span> <span class="o">/</span> <span class="mi">180</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="nv">z</span> <span class="o">=</span> <span class="nv">RADIUS</span> <span class="o">*</span> <span class="nv">sin</span><span class="ss">(</span><span class="nv">a</span> <span class="o">*</span> <span class="nv">PI</span> <span class="o">/</span> <span class="mi">180</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">pushmatrix</span><span class="ss">()</span>
   <span class="k">call</span> <span class="nl">translate</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="o">-</span><span class="nv">z</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>, <span class="mi">0</span>.<span class="mi">0</span>, <span class="nv">r</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>
<span class="nv">enddo</span>
<span class="k">call</span> <span class="nl">popmatrix</span><span class="ss">()</span>

<span class="k">call</span> <span class="nl">closeobj</span><span class="ss">()</span>

<span class="k">end</span> <span class="nv">subroutine</span> <span class="nv">makesphere</span>

<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_translate</span>
</code></pre></div>

<h2 id="name_103">NAME</h2>
<div class="codehilite"><pre><span></span><code>scale(3f) - [M_draw:TRANSFORMATION] Set up scaling factors in x, y, and z axis.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_102">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>subroutine scale(x, y, z)

 real,intent(in) ::  x, y, z
</code></pre></div>

<h2 id="description_102">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Set up scaling factors in x, y, and z axis. The scaling is applied relative
to the current transformation matrix; ie. the scaling is accumulative.
</code></pre></div>

<h2 id="options_15">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code>x  scaling factor to apply in X direction to current transformation matrix
y  scaling factor to apply in Y direction to current transformation matrix
x  scaling factor to apply in Z direction to current transformation matrix
</code></pre></div>

<h2 id="example_62">EXAMPLE</h2>
<p>Sample program</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_scale</span>
<span class="nv">use</span> <span class="nv">M_drawplus</span>, <span class="nv">only</span> : <span class="nv">draw_interpret</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span>:<span class="ss">)</span>,<span class="nv">allocatable</span> :: <span class="nv">draw_cmds</span><span class="ss">(</span>:<span class="ss">)</span>
<span class="nv">draw_cmds</span><span class="o">=</span>[ <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">128</span><span class="ss">)</span> ::                                      <span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s"># set up display                                                    </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">prefsize 300 300;prefposition 200 10;vinit X11;                     </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">set SIZE=1.2                                                        </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">color 3;clear;color 2; ortho2 -SIZE SIZE -SIZE SIZE                 </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">set X=-0.75 Y=0.75                                                  </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s"># create an object to repeatedly draw                               </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">makeobj 1                                                           </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">polyfill .true.;color 1; rect 0 0 X Y                               </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">polyfill .false.;linewidth 200;color 2 ;rect 0 0 X Y                </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">closeobj                                                            </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s"># draw object, rotating coordinate system between instantiations   </span><span class="s1">&#39;</span> ,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">pushmatrix                                                          </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">scale 1.1 2.0                                                       </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">callobj 1                                                           </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">scale 0.5 0.5                                                       </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">callobj 1                                                           </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">circle 0 0 X/3                                                      </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">popmatrix                                                           </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">color 5;circle 0 0 X/3                                              </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">getkey;vexit                                                        </span><span class="s1">&#39;</span>]
<span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">(a)</span><span class="s1">&#39;</span><span class="ss">)</span><span class="nv">draw_cmds</span>
<span class="k">call</span> <span class="nl">draw_interpret</span><span class="ss">(</span><span class="nv">draw_cmds</span>,<span class="nv">delimiters</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">;</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_scale</span>
</code></pre></div>

<h2 id="see-also">SEE ALSO</h2>
<div class="codehilite"><pre><span></span><code> rotate, translate, pushmatrix, popmatrix
</code></pre></div>

<h2 id="name_104">NAME</h2>
<div class="codehilite"><pre><span></span><code>rotate(3f) - [M_draw:TRANSFORMATION] Set up a rotation in axis axis where axis is one of &#39;x&#39;,&#39;y&#39;, or &#39;z&#39;.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_103">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine rotate(angle, axis)
      real angle
      character axis
</code></pre></div>

<h2 id="description_103">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Set up a rotation of coordinate system along specified axis, relative
to current coordinate system.
</code></pre></div>

<h2 id="options_16">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code>angle  Angle in degrees to rotate coordinate system, with clockwise
       angles being positive.

axis   Which axis to perform rotation about. Allowed values are &#39;x&#39;,
       &#39;y&#39;, and &#39;z&#39;.
</code></pre></div>

<h2 id="example_63">EXAMPLE</h2>
<p>Sample usage</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_rotate</span>
<span class="nv">use</span> <span class="nv">M_drawplus</span>, <span class="nv">only</span> : <span class="nv">draw_interpret</span>
<span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span>:<span class="ss">)</span>,<span class="nv">allocatable</span> :: <span class="nv">draw_cmds</span><span class="ss">(</span>:<span class="ss">)</span>
<span class="nv">draw_cmds</span><span class="o">=</span>[ <span class="nv">character</span><span class="ss">(</span><span class="nv">len</span><span class="o">=</span><span class="mi">128</span><span class="ss">)</span> ::                                      <span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s"># set up display                                                    </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">prefsize 300 300;prefposition 200 10;vinit X11;                     </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">set SIZE=1.2                                                        </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">color 3;clear;color 2; ortho2 -SIZE SIZE -SIZE SIZE                 </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">set X=-0.75 Y=0.75                                                  </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s"># create an object to repeatedly draw                               </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">makeobj 1                                                           </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">polyfill .true.;color 1; rect 0 0 X Y                               </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">polyfill .false.;linewidth 200;color 2 ;rect 0 0 X Y                </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">closeobj                                                            </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s"># draw object, rotating coordinate system between instantiations   </span><span class="s1">&#39;</span> ,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">callobj 1                                                           </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">rotate 45 z                                                         </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">callobj 1                                                           </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">rotate 45 z                                                         </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">callobj 1                                                           </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">circle 0 0 X/3                                                      </span><span class="s1">&#39;</span>,<span class="o">&amp;</span>
<span class="s1">&#39;</span><span class="s">getkey;vexit                                                        </span><span class="s1">&#39;</span>]
<span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="s1">&#39;</span><span class="s">(a)</span><span class="s1">&#39;</span><span class="ss">)</span><span class="nv">draw_cmds</span>
<span class="k">call</span> <span class="nl">draw_interpret</span><span class="ss">(</span><span class="nv">draw_cmds</span>,<span class="nv">delimiters</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">;</span><span class="s1">&#39;</span><span class="ss">)</span>
<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_rotate</span>
</code></pre></div>

<h2 id="see-also_1">SEE ALSO</h2>
<div class="codehilite"><pre><span></span><code> translate, pushmatrix, popmatrix, scale
</code></pre></div>

<h2 id="name_105">NAME</h2>
<div class="codehilite"><pre><span></span><code>patchbasis(3f) - [M_draw:PATCH] Define the t and u basis matrices of a patch.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_104">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine patchbasis(tbasis, ubasis)
      real :: tbasis(4,4), ubasis(4,4)
</code></pre></div>

<h2 id="description_104">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Define the t and u basis matrices of a patch.
</code></pre></div>

<h2 id="name_106">NAME</h2>
<div class="codehilite"><pre><span></span><code>patchprecision(3f) - [M_draw:PATCH] Set minimum number of line segments making up curves in a patch.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_105">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine patchprecision(tseg, useg)
      integer,intent(in) :: tseg, useg
</code></pre></div>

<h2 id="description_105">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Set the minimum number of line segments making up curves in a patch.
</code></pre></div>

<h2 id="name_107">NAME</h2>
<div class="codehilite"><pre><span></span><code>patchcurves(3f) - [M_draw:PATCH] Set the number of curves making up a patch.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_106">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine patchcurves(nt, nu)
      integer,intent(in) :: nt, nu
</code></pre></div>

<h2 id="description_106">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Set the number of curves making up a patch.
</code></pre></div>

<h2 id="name_108">NAME</h2>
<div class="codehilite"><pre><span></span><code>rpatch(3f) - [M_draw:PATCH] Draws a rational patch in the current basis, according to the geometry matrices gx, gy, gz, and gw.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_107">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine rpatch(gx, gy, gz, gw)
      real,intent(in) :: gx(4,4), gy(4,4), gz(4,4), gw(4,4)
</code></pre></div>

<h2 id="description_107">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Draws a rational patch in the current basis, according to the geometry
matrices gx, gy, gz, and gw.
</code></pre></div>

<h2 id="name_109">NAME</h2>
<div class="codehilite"><pre><span></span><code>patch(3f) - [M_draw:PATCH] Draws a patch in the current basis, according to the geometry matrices gx, gy, and gz.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_108">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine patch(gx, gy, gz)
      real,intent(in) :: gx(4,4), gy(4,4), gz(4,4)
</code></pre></div>

<h2 id="description_108">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Draws a patch in the current basis, according to the geometry matrices
gx, gy, and gz.
</code></pre></div>

<h2 id="example_64">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="n">program</span> <span class="n">demo_patch</span>
<span class="o">!</span>     <span class="n">Draws</span> <span class="n">patches</span> <span class="n">of</span> <span class="n">various</span> <span class="n">bases</span>
<span class="o">!</span>
   <span class="n">use</span> <span class="n">M_draw</span>
   <span class="n">implicit</span> <span class="n">none</span>
<span class="o">!</span>
   <span class="n">character</span><span class="p">(</span><span class="n">len</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> <span class="p">::</span> <span class="n">dev</span>
   <span class="n">integer</span>           <span class="p">::</span> <span class="n">ios</span>
   <span class="n">integer</span>           <span class="p">::</span> <span class="n">i</span>
   <span class="n">integer</span>           <span class="p">::</span> <span class="n">idum</span>
<span class="o">!</span>
<span class="o">!</span>  <span class="n">patch</span> <span class="n">basis</span> <span class="n">types</span>
<span class="o">!</span>
   <span class="n">real</span> <span class="n">bezier</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">cardinal</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">bspline</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
   <span class="n">real</span> <span class="n">power</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
   <span class="n">real</span> <span class="n">x1</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">y1</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">z1</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
   <span class="n">real</span> <span class="n">x2</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">y2</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">z2</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
  <span class="o">!</span>
   <span class="n">character</span><span class="p">(</span><span class="n">len</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span> <span class="p">::</span> <span class="n">labels</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
  <span class="o">!</span>
   <span class="n">real</span>    <span class="n">basis</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span>
   <span class="n">equivalence</span> <span class="p">(</span><span class="n">basis</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">bezier</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
   <span class="n">equivalence</span> <span class="p">(</span><span class="n">basis</span><span class="p">(</span><span class="mi">17</span><span class="p">),</span> <span class="n">cardinal</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
   <span class="n">equivalence</span> <span class="p">(</span><span class="n">basis</span><span class="p">(</span><span class="mi">33</span><span class="p">),</span> <span class="n">bspline</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
   <span class="n">equivalence</span> <span class="p">(</span><span class="n">basis</span><span class="p">(</span><span class="mi">49</span><span class="p">),</span> <span class="n">power</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
  <span class="o">!</span>
   <span class="n">data</span> <span class="n">bezier</span><span class="o">/</span>                                            <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>   <span class="mf">3.0</span><span class="p">,</span>    <span class="o">-</span><span class="mf">3.0</span><span class="p">,</span>   <span class="mf">1.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">3.0</span><span class="p">,</span>    <span class="o">-</span><span class="mf">6.0</span><span class="p">,</span>   <span class="mf">3.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="o">-</span><span class="mf">3.0</span><span class="p">,</span>   <span class="mf">3.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">1.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="o">/</span>
  <span class="o">!</span>
   <span class="n">data</span> <span class="n">cardinal</span><span class="o">/</span>                                          <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>   <span class="mf">1.5</span><span class="p">,</span>    <span class="o">-</span><span class="mf">1.5</span><span class="p">,</span>   <span class="mf">0.5</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">1.0</span><span class="p">,</span>    <span class="o">-</span><span class="mf">2.5</span><span class="p">,</span>   <span class="mf">2.0</span><span class="p">,</span>    <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>                <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>   <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">0.5</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">1.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="o">/</span>
  <span class="o">!</span>
   <span class="n">data</span> <span class="n">bspline</span><span class="o">/</span>                                           <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="o">-</span><span class="mf">0.166666</span><span class="p">,</span>     <span class="mf">0.5</span><span class="p">,</span>     <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>     <span class="mf">0.166666</span><span class="p">,</span>  <span class="o">&amp;</span>
   <span class="o">&amp;</span>           <span class="mf">0.5</span><span class="p">,</span>         <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>      <span class="mf">0.5</span><span class="p">,</span>     <span class="mf">0.0</span><span class="p">,</span>       <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>          <span class="mf">0.0</span><span class="p">,</span>      <span class="mf">0.5</span><span class="p">,</span>     <span class="mf">0.0</span><span class="p">,</span>       <span class="o">&amp;</span>
   <span class="o">&amp;</span>           <span class="mf">0.166666</span><span class="p">,</span>     <span class="mf">0.666666</span><span class="p">,</span> <span class="mf">0.166666</span><span class="p">,</span> <span class="mf">0.0</span> <span class="o">/</span>
  <span class="o">!</span>
   <span class="n">data</span> <span class="n">power</span><span class="o">/</span>                                             <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>                          <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>                          <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>                          <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="o">/</span>
  <span class="o">!</span>
   <span class="n">data</span>    <span class="n">x1</span> <span class="o">/</span>                                            <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.0</span><span class="p">,</span>   <span class="mf">0.2588</span><span class="p">,</span>   <span class="mf">0.5</span><span class="p">,</span>   <span class="mf">0.7071</span><span class="p">,</span>              <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.0</span><span class="p">,</span>   <span class="mf">0.51764</span><span class="p">,</span>  <span class="mf">1.0</span><span class="p">,</span>   <span class="mf">1.4142</span><span class="p">,</span>              <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.0</span><span class="p">,</span>   <span class="mf">0.51764</span><span class="p">,</span>  <span class="mf">1.0</span><span class="p">,</span>   <span class="mf">1.4142</span><span class="p">,</span>              <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.0</span><span class="p">,</span>   <span class="mf">0.2588</span><span class="p">,</span>   <span class="mf">0.5</span><span class="p">,</span>   <span class="mf">0.7071</span><span class="o">/</span>
  <span class="o">!</span>
   <span class="n">data</span>    <span class="n">y1</span> <span class="o">/</span>                                            <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">1.0</span><span class="p">,</span>   <span class="mf">0.966</span><span class="p">,</span>   <span class="mf">0.866</span><span class="p">,</span>  <span class="mf">0.7071</span><span class="p">,</span>              <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">2.0</span><span class="p">,</span>   <span class="mf">1.9318</span><span class="p">,</span>  <span class="mf">1.732</span><span class="p">,</span>  <span class="mf">1.4142</span><span class="p">,</span>              <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">2.0</span><span class="p">,</span>   <span class="mf">1.9318</span><span class="p">,</span>  <span class="mf">1.732</span><span class="p">,</span>  <span class="mf">1.4142</span><span class="p">,</span>              <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">1.0</span><span class="p">,</span>   <span class="mf">0.966</span><span class="p">,</span>   <span class="mf">0.866</span><span class="p">,</span>  <span class="mf">0.7071</span><span class="o">/</span>
  <span class="o">!</span>
   <span class="n">data</span>    <span class="n">z1</span> <span class="o">/</span>                                            <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">1.0</span><span class="p">,</span>   <span class="mf">1.0</span><span class="p">,</span>     <span class="mf">1.0</span><span class="p">,</span>    <span class="mf">1.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">1.0</span><span class="p">,</span>   <span class="mf">1.0</span><span class="p">,</span>     <span class="mf">1.0</span><span class="p">,</span>    <span class="mf">1.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.0</span><span class="p">,</span>   <span class="mf">0.0</span><span class="p">,</span>     <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.0</span><span class="p">,</span>   <span class="mf">0.0</span><span class="p">,</span>     <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="o">/</span>
  <span class="o">!</span>
   <span class="n">data</span>    <span class="n">x2</span> <span class="o">/</span>                                            <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.7071</span><span class="p">,</span> <span class="mf">0.8660</span><span class="p">,</span> <span class="mf">0.9660</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">1.4142</span><span class="p">,</span> <span class="mf">1.7320</span><span class="p">,</span> <span class="mf">1.932</span><span class="p">,</span>  <span class="mf">2.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">1.4142</span><span class="p">,</span> <span class="mf">1.7320</span><span class="p">,</span> <span class="mf">1.932</span><span class="p">,</span>  <span class="mf">2.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.7071</span><span class="p">,</span> <span class="mf">0.8660</span><span class="p">,</span> <span class="mf">0.9660</span><span class="p">,</span> <span class="mf">1.0</span><span class="o">/</span>
  <span class="o">!</span>
   <span class="n">data</span>    <span class="n">y2</span> <span class="o">/</span>                                            <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.7071</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span>    <span class="mf">0.2588</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">1.4142</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span>    <span class="mf">0.5176</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">1.4142</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span>    <span class="mf">0.5176</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.7071</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span>    <span class="mf">0.2588</span><span class="p">,</span> <span class="mf">0.0</span><span class="o">/</span>
  <span class="o">!</span>
   <span class="n">data</span>    <span class="n">z2</span> <span class="o">/</span>                                            <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">1.0</span><span class="p">,</span>   <span class="mf">1.0</span><span class="p">,</span>     <span class="mf">1.0</span><span class="p">,</span>    <span class="mf">1.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">1.0</span><span class="p">,</span>   <span class="mf">1.0</span><span class="p">,</span>     <span class="mf">1.0</span><span class="p">,</span>    <span class="mf">1.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.0</span><span class="p">,</span>   <span class="mf">0.0</span><span class="p">,</span>     <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="p">,</span>                 <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="mf">0.0</span><span class="p">,</span>   <span class="mf">0.0</span><span class="p">,</span>     <span class="mf">0.0</span><span class="p">,</span>    <span class="mf">0.0</span><span class="o">/</span>
  <span class="o">!</span>
   <span class="n">data</span> <span class="n">labels</span> <span class="o">/</span>                                           <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="s1">&#39;Bezier Patch(es)&#39;</span><span class="p">,</span>                          <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="s1">&#39;Cardinal Patch(es)&#39;</span><span class="p">,</span>                        <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="s1">&#39;B-Spline Patch(es)&#39;</span><span class="p">,</span>                        <span class="o">&amp;</span>
   <span class="o">&amp;</span>          <span class="s1">&#39;&#39;&#39;Power&#39;&#39; Patch(es)&#39; /</span>
<span class="s1">!</span>
<span class="s1">!  demonstrate patches</span>
<span class="s1">!</span>
<span class="s1">   write (*,*)&#39;Enter device:&#39;</span>
<span class="s1">   read(*,&#39;(a)&#39;,iostat=ios) dev</span>
<span class="s1">   if(ios.ne.0)dev=&#39; &#39;</span>
<span class="s1">!</span>
<span class="s1">   call prefsize(1000,1000)</span>
<span class="s1">   call vinit(dev)</span>
<span class="s1">!</span>
<span class="s1">   call vsetflush(.true.)</span>
<span class="s1">!</span>
<span class="s1">   call color(D_BLACK)</span>
<span class="s1">   call clear()</span>
<span class="s1">!</span>
<span class="s1">! Set up two viewports (They actually overlap)</span>
<span class="s1">!</span>
<span class="s1">   call viewport(-1.0, 0.3, -1.0, 0.3)</span>
<span class="s1">   call ortho(-2.0, 5.0, -2.0, 5.0, -2.0, 5.0)</span>
<span class="s1">   call lookat(0.0, 0.0, 0.0, -3.0, 2.0, -4.0, 0.0)</span>
<span class="s1">!</span>
<span class="s1">!       Save it</span>
<span class="s1">!</span>
<span class="s1">   call pushviewport()</span>
<span class="s1">   call pushmatrix()</span>
<span class="s1">!</span>
<span class="s1">   call viewport(-0.3, 1.0, -0.3, 1.0)</span>
<span class="s1">   call ortho(-2.0, 5.0, -2.0, 5.0, -2.0, 5.0)</span>
<span class="s1">   call lookat(0.0, 0.0, 0.0, 3.0, 2.0, -4.0, 0.0)</span>
<span class="s1">!</span>
<span class="s1">   call textsize(0.4, 0.4)</span>
<span class="s1">!</span>
<span class="s1">!  patchcurves provides a number of curves in the t and u</span>
<span class="s1">!  directions. patchprecision gives the minimum number of line</span>
<span class="s1">!  segments making up the curves in the t and u directions. The</span>
<span class="s1">!  actual number of linesegments in t or u is equal to the closest</span>
<span class="s1">!  integer multiple of the number of curves, &gt; nsegs, in t or u,</span>
<span class="s1">!  greater than or equal to the number set by patchprecision in u or</span>
<span class="s1">!  t. eg. curves in t will be made up of 21 line segments so that we</span>
<span class="s1">!  can match up the 7 curves in u; curves in u will have 24 as 4 by 5</span>
<span class="s1">!  gives 20.</span>
<span class="s1">!</span>
<span class="s1">   call patchcurves(4, 7)</span>
<span class="s1">   call patchprecision(20, 20)</span>
<span class="s1">!</span>
<span class="s1">   do 10 i = 0, 3</span>
<span class="s1">!</span>
<span class="s1">      call axes()</span>
<span class="s1">!</span>
<span class="s1">!     patchbasis sets the basis matrices for the t and u</span>
<span class="s1">!     functions</span>
<span class="s1">!</span>
<span class="s1">!</span>
<span class="s1">      call patchbasis(basis(i*16 + 1), basis(i*16 + 1))</span>
<span class="s1">!</span>
<span class="s1">!               Draw with viewport 2</span>
<span class="s1">!</span>
<span class="s1">      call move(0.0, 4.0, 0.0)</span>
<span class="s1">      call drawstr(labels(i+1))</span>
<span class="s1">!</span>
<span class="s1">!     Now draw the patches according to the geometry matrices in</span>
<span class="s1">!     x1, y1, and z1, x2, y2, z2.</span>
<span class="s1">!</span>
<span class="s1">      call drawhull(x1, y1, z1)</span>
<span class="s1">      call patch(x1, y1, z1)</span>
<span class="s1">!</span>
<span class="s1">      call drawhull(x2, y2, z2)</span>
<span class="s1">      call patch(x2, y2, z2)</span>
<span class="s1">!</span>
<span class="s1">!               Now with viewport 1</span>
<span class="s1">!</span>
<span class="s1">      call popviewport()</span>
<span class="s1">      call popmatrix()</span>
<span class="s1">!</span>
<span class="s1">      call axes()</span>
<span class="s1">!</span>
<span class="s1">      call move(0.0, 4.0, 0.0)</span>
<span class="s1">      call drawstr(labels(i + 1))</span>
<span class="s1">!</span>
<span class="s1">!     now draw the patches according to the geometry matrices in</span>
<span class="s1">!     x1, y1, and z1, x2, y2, z2.</span>
<span class="s1">!</span>
<span class="s1">      call drawhull(x1, y1, z1)</span>
<span class="s1">      call patch(x1, y1, z1)</span>
<span class="s1">!</span>
<span class="s1">      call drawhull(x2, y2, z2)</span>
<span class="s1">      call patch(x2, y2, z2)</span>
<span class="s1">!</span>
<span class="s1">      idum=getkey()</span>
<span class="s1">!</span>
<span class="s1">!     Save viewport 1 again and reset to viewport 2</span>
<span class="s1">!</span>
<span class="s1">      call pushviewport()</span>
<span class="s1">      call pushmatrix()</span>
<span class="s1">!</span>
<span class="s1">      call viewport(-0.3, 1.0, -0.3, 1.0)</span>
<span class="s1">      call ortho(-1.5, 5.0, -1.5, 5.0, -1.5, 5.0)</span>
<span class="s1">      call lookat(0.0, 0.0, 0.0, 3.0, 2.0, -4.0, 0.0)</span>
<span class="s1">!</span>
<span class="s1">      call color(D_BLACK)</span>
<span class="s1">      call clear()</span>
<span class="s1">10 continue</span>
<span class="s1">!</span>
<span class="s1">   call vexit()</span>
<span class="s1">!</span>
<span class="s1">contains</span>
<span class="s1">!</span>
<span class="s1">   subroutine drawhull(x, y, z)</span>
<span class="s1">   implicit none</span>
<span class="s1">!</span>
<span class="s1">   real    x(4,4), y(4,4), z(4,4)</span>
<span class="s1">   integer :: i</span>
<span class="s1">   integer :: j</span>
<span class="s1">!</span>
<span class="s1">      call color(D_MAGENTA)</span>
<span class="s1">      do i = 1,4</span>
<span class="s1">         call move(x(i,1), y(i,1), z(i,1))</span>
<span class="s1">         do j = 1,4</span>
<span class="s1">            call draw(x(i,j), y(i,j), z(i,j))</span>
<span class="s1">         enddo</span>
<span class="s1">      enddo</span>
<span class="s1">!</span>
<span class="s1">      do i = 1,4</span>
<span class="s1">         call move(x(1,i), y(1,i), z(1,i))</span>
<span class="s1">         do j = 1,4</span>
<span class="s1">            call draw(x(j,i), y(j,i), z(j,i))</span>
<span class="s1">         enddo</span>
<span class="s1">      enddo</span>
<span class="s1">!</span>
<span class="s1">      call color(D_GREEN)</span>
<span class="s1">   end subroutine drawhull</span>
<span class="s1">!</span>
<span class="s1">   subroutine axes()</span>
<span class="s1">!</span>
<span class="s1">!       draw the axes</span>
<span class="s1">!</span>
<span class="s1">      call color(D_BLUE)</span>
<span class="s1">      call move(0.0, 0.0, 0.0)</span>
<span class="s1">      call draw(4.0, 0.0, 0.0)</span>

<span class="s1">      call move(0.0, 0.0, 0.0)</span>
<span class="s1">      call draw(0.0, 4.0, 0.0)</span>

<span class="s1">      call move(0.0, 0.0, 0.0)</span>
<span class="s1">      call draw(0.0, 0.0, 4.0)</span>
<span class="s1">!</span>
<span class="s1">   end subroutine axes</span>
<span class="s1">!</span>
<span class="s1">end program demo_patch</span>
</code></pre></div>

<h2 id="name_110">NAME</h2>
<div class="codehilite"><pre><span></span><code>makeobj(3f) - [M_draw:OBJECT] Commence the object number n.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_109">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine makeobj(n)
     integer n
</code></pre></div>

<h2 id="description_109">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Commence the object number n.
</code></pre></div>

<h2 id="name_111">NAME</h2>
<div class="codehilite"><pre><span></span><code>closeobj(3f) - [M_draw:OBJECT] Close the current object.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_110">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine closeobj()
</code></pre></div>

<h2 id="description_110">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Close the current object.
</code></pre></div>

<h2 id="name_112">NAME</h2>
<div class="codehilite"><pre><span></span><code>genobj(3f) - [M_draw:OBJECT] Returns a unique object identifier.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_111">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     integer function genobj()
</code></pre></div>

<h2 id="description_111">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Returns a unique object identifier.
</code></pre></div>

<h2 id="name_113">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">getopenobj</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="o">-</span> [<span class="nv">M_draw</span>:<span class="nv">OBJECT</span>] <span class="k">Return</span> <span class="nv">the</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">current</span> <span class="nv">object</span>.
<span class="ss">(</span><span class="nv">LICENSE</span>:<span class="nv">PD</span><span class="ss">)</span>
</code></pre></div>

<h2 id="synopsis_112">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     integer function getopenobj()
</code></pre></div>

<h2 id="description_112">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="k">Return</span> <span class="nv">the</span> <span class="nv">number</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">current</span> <span class="nv">object</span>.
</code></pre></div>

<h2 id="name_114">NAME</h2>
<div class="codehilite"><pre><span></span><code>callobj(3f) - [M_draw:OBJECT] Draw object number n.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_113">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine callobj(n)
     integer n
</code></pre></div>

<h2 id="description_113">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Draw object number n.
</code></pre></div>

<h2 id="example_65">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="n">program</span> <span class="n">demo_callobj</span>
   <span class="n">use</span> <span class="n">M_draw</span>
   <span class="n">implicit</span> <span class="n">none</span>
   <span class="n">integer</span> <span class="p">::</span> <span class="n">ipaws</span>
   <span class="n">integer</span> <span class="p">::</span> <span class="n">ix</span><span class="p">,</span> <span class="n">iy</span>
   <span class="n">real</span>    <span class="p">::</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
   <span class="n">integer</span> <span class="p">::</span> <span class="n">icolor</span>

   <span class="o">!</span> <span class="n">set</span> <span class="n">up</span> <span class="n">graphics</span> <span class="n">area</span>
   <span class="n">call</span> <span class="n">prefsize</span><span class="p">(</span><span class="mi">680</span><span class="p">,</span><span class="mi">680</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">vinit</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="o">!</span> <span class="n">start</span> <span class="n">graphics</span> <span class="n">using</span> <span class="n">device</span> <span class="o">$</span><span class="n">M_DRAW_DEVICE</span>
   <span class="o">!!</span> <span class="n">Background</span> <span class="n">color</span>
   <span class="o">!</span><span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_WHITE</span><span class="p">)</span>
   <span class="o">!!</span> <span class="n">Page</span> <span class="n">setup</span>
   <span class="o">!</span><span class="n">call</span> <span class="n">page</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">2124.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">2124.0</span><span class="p">)</span>
   <span class="o">!</span><span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_BLACK</span><span class="p">)</span>

   <span class="n">call</span> <span class="n">makeobj</span><span class="p">(</span><span class="mi">1111</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">circleprecision</span><span class="p">(</span><span class="mi">300</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">curveprecision</span><span class="p">(</span><span class="mi">300</span><span class="p">)</span>

   <span class="n">icolor</span><span class="o">=</span><span class="mi">0</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">142</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">175</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">209</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">135</span><span class="p">,</span> <span class="mi">206</span><span class="p">,</span> <span class="mi">255</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">142</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">175</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">209</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">142</span><span class="p">,</span> <span class="mi">142</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">175</span><span class="p">,</span> <span class="mi">175</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">209</span><span class="p">,</span> <span class="mi">209</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">142</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">175</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">209</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">142</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">142</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">175</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">175</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">209</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">209</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">127</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">191</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">127</span><span class="p">,</span> <span class="mi">127</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">191</span><span class="p">,</span> <span class="mi">191</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">224</span><span class="p">,</span> <span class="mi">224</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">214</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">192</span><span class="p">,</span> <span class="mi">192</span><span class="p">,</span> <span class="mi">192</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">224</span><span class="p">,</span> <span class="mi">224</span><span class="p">,</span> <span class="mi">224</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>
   <span class="n">call</span> <span class="n">mapcolor</span><span class="p">(</span><span class="n">icolor</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">);</span> <span class="n">icolor</span><span class="o">=</span><span class="n">icolor</span><span class="o">+</span><span class="mi">1</span>

   <span class="n">call</span> <span class="n">polyfill</span><span class="p">(</span><span class="o">.</span><span class="n">true</span><span class="o">.</span><span class="p">)</span>

   <span class="o">!</span> <span class="n">Lower</span> <span class="n">Pedestal</span> <span class="n">Box</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">34</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">rect</span><span class="p">(</span><span class="mf">612.0</span><span class="p">,</span> <span class="mf">537.0</span><span class="p">,</span> <span class="mf">1512.0</span><span class="p">,</span> <span class="mf">462.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">polyfill</span><span class="p">(</span><span class="o">.</span><span class="n">false</span><span class="o">.</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">rasters</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">37</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">rect</span><span class="p">(</span><span class="mf">612.0</span><span class="p">,</span> <span class="mf">537.0</span><span class="p">,</span> <span class="mf">1512.0</span><span class="p">,</span> <span class="mf">462.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">polyfill</span><span class="p">(</span><span class="o">.</span><span class="n">true</span><span class="o">.</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">rasters</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
   <span class="o">!</span> <span class="n">Keyboard</span> <span class="n">Surface</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">36</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">makepoly</span><span class="p">()</span>
   <span class="n">IX</span><span class="o">=</span><span class="mi">237</span>
   <span class="n">IY</span><span class="o">=</span><span class="mi">462</span>
   <span class="n">X</span><span class="o">=</span><span class="n">real</span><span class="p">(</span><span class="n">IX</span><span class="p">)</span>
   <span class="n">Y</span><span class="o">=</span><span class="n">real</span><span class="p">(</span><span class="n">IY</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">([</span><span class="n">IX</span><span class="p">,</span><span class="n">IY</span><span class="p">,</span><span class="mi">1887</span><span class="p">,</span><span class="mi">462</span><span class="p">,</span><span class="mi">2112</span><span class="p">,</span><span class="mi">87</span><span class="p">,</span><span class="mi">2112</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">87</span><span class="p">,</span><span class="n">IX</span><span class="p">,</span><span class="n">IY</span><span class="p">])</span>

   <span class="n">call</span> <span class="n">closepoly</span><span class="p">()</span>
   <span class="o">!</span> <span class="n">Upper</span> <span class="n">Pedestal</span> <span class="n">Box</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">34</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">rect</span><span class="p">(</span><span class="mf">687.0</span><span class="p">,</span> <span class="mf">612.0</span><span class="p">,</span> <span class="mf">1437.0</span><span class="p">,</span> <span class="mf">537.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">polyfill</span><span class="p">(</span><span class="o">.</span><span class="n">false</span><span class="o">.</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">rasters</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">37</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">rect</span><span class="p">(</span><span class="mf">687.0</span><span class="p">,</span> <span class="mf">612.0</span><span class="p">,</span> <span class="mf">1437.0</span><span class="p">,</span> <span class="mf">537.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">polyfill</span><span class="p">(</span><span class="o">.</span><span class="n">true</span><span class="o">.</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">rasters</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

   <span class="o">!</span> <span class="n">Monitor</span> <span class="n">Box</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">36</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">rect</span><span class="p">(</span><span class="mf">162.0</span><span class="p">,</span> <span class="mf">2112.0</span><span class="p">,</span> <span class="mf">1962.0</span><span class="p">,</span> <span class="mf">612.0</span><span class="p">)</span>

   <span class="o">!</span> <span class="n">Main</span> <span class="n">QWERTY</span> <span class="n">area</span>
   <span class="o">!</span><span class="n">edgewidth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">37</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">makepoly</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">([</span><span class="mi">312</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span><span class="mi">1512</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span><span class="mi">1437</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">387</span><span class="p">])</span>
   <span class="n">call</span> <span class="n">closepoly</span><span class="p">()</span>

   <span class="o">!</span> <span class="n">Numeric</span> <span class="n">Keypad</span> <span class="n">Area</span>
   <span class="n">call</span> <span class="n">makepoly</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">([</span><span class="mi">1812</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1512</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1587</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">387</span><span class="p">])</span>
   <span class="n">call</span> <span class="n">closepoly</span><span class="p">()</span>

   <span class="o">!</span> <span class="n">Shade</span> <span class="n">Keyboard</span> <span class="n">Front</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">35</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">makepoly</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span><span class="mi">87</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">2112</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">2112</span><span class="p">,</span><span class="mi">87</span><span class="p">])</span>

   <span class="n">call</span> <span class="n">closepoly</span><span class="p">()</span>
   <span class="o">!</span> <span class="n">U</span><span class="o">-</span><span class="n">Shaped</span> <span class="n">Edge</span> <span class="n">of</span> <span class="n">Keyboard</span> <span class="n">Front</span> <span class="k">for</span> <span class="n">definition</span>
   <span class="n">call</span> <span class="n">rasters</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span><span class="mi">87</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">2112</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">2112</span><span class="p">,</span><span class="mi">87</span><span class="p">])</span>

   <span class="o">!</span> <span class="n">Glass</span> <span class="n">Tube</span><span class="o">/</span><span class="n">Viewing</span> <span class="n">Panel</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">33</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">rect</span><span class="p">(</span><span class="mf">387.0</span><span class="p">,</span> <span class="mf">1962.0</span><span class="p">,</span> <span class="mf">1737.0</span><span class="p">,</span> <span class="mf">762.0</span><span class="p">)</span>
   <span class="o">!</span> <span class="n">Upper</span> <span class="n">Edge</span> <span class="n">of</span> <span class="n">Recess</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">34</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">makepoly</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">([</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">387</span><span class="p">,</span><span class="mi">1887</span><span class="p">,</span><span class="mi">388</span><span class="p">,</span><span class="mi">1887</span><span class="p">,</span><span class="mi">391</span><span class="p">,</span><span class="mi">1887</span><span class="p">,</span><span class="mi">396</span><span class="p">,</span><span class="mi">1888</span><span class="p">,</span><span class="mi">403</span><span class="p">,</span><span class="mi">1888</span><span class="p">,</span><span class="mi">413</span><span class="p">,</span><span class="mi">1889</span><span class="p">,</span><span class="mi">427</span><span class="p">,</span><span class="mi">1890</span><span class="p">,</span><span class="mi">443</span><span class="p">,</span><span class="mi">1892</span><span class="p">,</span><span class="mi">463</span><span class="p">,</span><span class="mi">1893</span><span class="p">,</span><span class="mi">484</span><span class="p">,</span><span class="mi">1895</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">508</span><span class="p">,</span><span class="mi">1896</span><span class="p">,</span><span class="mi">535</span><span class="p">,</span><span class="mi">1898</span><span class="p">,</span><span class="mi">562</span><span class="p">,</span><span class="mi">1900</span><span class="p">,</span><span class="mi">592</span><span class="p">,</span><span class="mi">1902</span><span class="p">,</span><span class="mi">622</span><span class="p">,</span><span class="mi">1904</span><span class="p">,</span><span class="mi">654</span><span class="p">,</span><span class="mi">1906</span><span class="p">,</span><span class="mi">687</span><span class="p">,</span><span class="mi">1907</span><span class="p">,</span><span class="mi">722</span><span class="p">,</span><span class="mi">1909</span><span class="p">,</span><span class="mi">759</span><span class="p">,</span><span class="mi">1911</span><span class="p">,</span><span class="mi">797</span><span class="p">,</span><span class="mi">1912</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">838</span><span class="p">,</span><span class="mi">1913</span><span class="p">,</span><span class="mi">881</span><span class="p">,</span><span class="mi">1915</span><span class="p">,</span><span class="mi">927</span><span class="p">,</span><span class="mi">1916</span><span class="p">,</span><span class="mi">975</span><span class="p">,</span><span class="mi">1916</span><span class="p">,</span><span class="mi">1025</span><span class="p">,</span><span class="mi">1917</span><span class="p">,</span><span class="mi">1077</span><span class="p">,</span><span class="mi">1917</span><span class="p">,</span><span class="mi">1133</span><span class="p">,</span><span class="mi">1917</span><span class="p">,</span><span class="mi">1187</span><span class="p">,</span><span class="mi">1916</span><span class="p">,</span><span class="mi">1238</span><span class="p">,</span><span class="mi">1915</span><span class="p">,</span><span class="mi">1285</span><span class="p">,</span><span class="mi">1914</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1330</span><span class="p">,</span><span class="mi">1913</span><span class="p">,</span><span class="mi">1371</span><span class="p">,</span><span class="mi">1911</span><span class="p">,</span><span class="mi">1410</span><span class="p">,</span><span class="mi">1910</span><span class="p">,</span><span class="mi">1446</span><span class="p">,</span><span class="mi">1908</span><span class="p">,</span><span class="mi">1481</span><span class="p">,</span><span class="mi">1906</span><span class="p">,</span><span class="mi">1514</span><span class="p">,</span><span class="mi">1904</span><span class="p">,</span><span class="mi">1545</span><span class="p">,</span><span class="mi">1902</span><span class="p">,</span><span class="mi">1575</span><span class="p">,</span><span class="mi">1900</span><span class="p">,</span><span class="mi">1603</span><span class="p">,</span><span class="mi">1898</span><span class="p">,</span><span class="mi">1629</span><span class="p">,</span><span class="mi">1896</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1653</span><span class="p">,</span><span class="mi">1894</span><span class="p">,</span><span class="mi">1674</span><span class="p">,</span><span class="mi">1892</span><span class="p">,</span><span class="mi">1692</span><span class="p">,</span><span class="mi">1891</span><span class="p">,</span><span class="mi">1707</span><span class="p">,</span><span class="mi">1890</span><span class="p">,</span><span class="mi">1719</span><span class="p">,</span><span class="mi">1889</span><span class="p">,</span><span class="mi">1727</span><span class="p">,</span><span class="mi">1888</span><span class="p">,</span><span class="mi">1733</span><span class="p">,</span><span class="mi">1887</span><span class="p">,</span><span class="mi">1736</span><span class="p">,</span><span class="mi">1887</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1887</span><span class="p">,</span><span class="mi">1738</span><span class="p">,</span><span class="mi">1888</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1741</span><span class="p">,</span><span class="mi">1891</span><span class="p">,</span><span class="mi">1748</span><span class="p">,</span><span class="mi">1898</span><span class="p">,</span><span class="mi">1760</span><span class="p">,</span><span class="mi">1910</span><span class="p">,</span><span class="mi">1775</span><span class="p">,</span><span class="mi">1925</span><span class="p">,</span><span class="mi">1789</span><span class="p">,</span><span class="mi">1939</span><span class="p">,</span><span class="mi">1801</span><span class="p">,</span><span class="mi">1951</span><span class="p">,</span><span class="mi">1808</span><span class="p">,</span><span class="mi">1958</span><span class="p">,</span><span class="mi">1811</span><span class="p">,</span><span class="mi">1961</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1810</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1807</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1800</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1789</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1773</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1752</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1725</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1692</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1653</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1607</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1555</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1498</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1434</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1366</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1294</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1218</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1141</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1062</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">983</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">906</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">830</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">758</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">690</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">626</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">569</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">517</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">471</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">432</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">399</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">372</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">351</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">335</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">324</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">317</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">314</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">313</span><span class="p">,</span><span class="mi">1961</span><span class="p">,</span><span class="mi">316</span><span class="p">,</span><span class="mi">1958</span><span class="p">,</span><span class="mi">323</span><span class="p">,</span><span class="mi">1951</span><span class="p">,</span><span class="mi">335</span><span class="p">,</span><span class="mi">1939</span><span class="p">,</span><span class="mi">350</span><span class="p">,</span><span class="mi">1924</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">364</span><span class="p">,</span><span class="mi">1910</span><span class="p">,</span><span class="mi">376</span><span class="p">,</span><span class="mi">1898</span><span class="p">,</span><span class="mi">383</span><span class="p">,</span><span class="mi">1891</span><span class="p">,</span><span class="mi">386</span><span class="p">,</span><span class="mi">1888</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1887</span><span class="p">])</span>
   <span class="n">call</span> <span class="n">closepoly</span><span class="p">()</span>

   <span class="o">!</span> <span class="n">Raised</span> <span class="n">front</span> <span class="n">of</span> <span class="n">QWERTY</span> <span class="n">area</span>
   <span class="n">call</span> <span class="n">rect</span><span class="p">(</span><span class="mf">162.0</span><span class="p">,</span> <span class="mf">162.0</span><span class="p">,</span> <span class="mf">1512.0</span><span class="p">,</span> <span class="mf">135.0</span><span class="p">)</span>

   <span class="o">!</span> <span class="n">Left</span> <span class="n">Control</span> <span class="n">Keys</span> <span class="ow">in</span> <span class="n">QWERTY</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">35</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">makepoly</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">([</span><span class="mi">284</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span><span class="mi">418</span><span class="p">,</span><span class="mi">237</span><span class="p">,</span><span class="mi">366</span><span class="p">,</span><span class="mi">237</span><span class="p">,</span><span class="mi">396</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">348</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">284</span><span class="p">,</span><span class="mi">387</span><span class="p">])</span>
   <span class="n">call</span> <span class="n">closepoly</span><span class="p">()</span>

   <span class="o">!</span> <span class="n">Right</span> <span class="n">Control</span> <span class="n">Keys</span> <span class="ow">in</span> <span class="n">QWERTY</span>
   <span class="n">call</span> <span class="n">makepoly</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">([</span><span class="mi">1512</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span><span class="mi">1287</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span><span class="mi">1287</span><span class="p">,</span><span class="mi">238</span><span class="p">,</span><span class="mi">1336</span><span class="p">,</span><span class="mi">237</span><span class="p">,</span><span class="mi">1328</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1362</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1373</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1358</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1451</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1512</span><span class="p">,</span><span class="mi">162</span><span class="p">])</span>
   <span class="n">call</span> <span class="n">closepoly</span><span class="p">()</span>

   <span class="o">!</span> <span class="n">Numeric</span> <span class="n">Keypad</span> <span class="n">Special</span> <span class="n">Keys</span> <span class="o">--</span> <span class="n">Just</span> <span class="n">Top</span><span class="err">?</span>
   <span class="n">call</span> <span class="n">makepoly</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">([</span><span class="mi">1962</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span><span class="mi">1893</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">342</span><span class="p">,</span><span class="mi">1526</span><span class="p">,</span><span class="mi">342</span><span class="p">,</span><span class="mi">1511</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1843</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">162</span><span class="p">])</span>
   <span class="n">call</span> <span class="n">closepoly</span><span class="p">()</span>

   <span class="o">!</span> <span class="n">Raised</span> <span class="n">Front</span> <span class="n">of</span> <span class="n">Numeric</span> <span class="n">Keypad</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">34</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">rect</span><span class="p">(</span><span class="mf">1587.0</span><span class="p">,</span><span class="mf">162.0</span><span class="p">,</span><span class="mf">1962.0</span><span class="p">,</span><span class="mf">136.0</span><span class="p">)</span>

   <span class="o">!</span> <span class="n">Left</span> <span class="n">Raised</span> <span class="n">Edge</span> <span class="n">of</span> <span class="n">Numeric</span> <span class="n">Keypad</span>
   <span class="n">call</span> <span class="n">makepoly</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">([</span><span class="mi">1587</span><span class="p">,</span><span class="mi">161</span><span class="p">,</span><span class="mi">1586</span><span class="p">,</span><span class="mi">134</span><span class="p">,</span><span class="mi">1510</span><span class="p">,</span><span class="mi">365</span><span class="p">,</span><span class="mi">1511</span><span class="p">,</span><span class="mi">386</span><span class="p">,</span><span class="mi">1587</span><span class="p">,</span><span class="mi">161</span><span class="p">])</span>
   <span class="n">call</span> <span class="n">closepoly</span><span class="p">()</span>

   <span class="o">!</span> <span class="n">Right</span> <span class="n">Edge</span> <span class="n">of</span> <span class="n">Tube</span> <span class="n">Recess</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">35</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">makepoly</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">([</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1812</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1811</span><span class="p">,</span><span class="mi">763</span><span class="p">,</span><span class="mi">1808</span><span class="p">,</span><span class="mi">766</span><span class="p">,</span><span class="mi">1801</span><span class="p">,</span><span class="mi">773</span><span class="p">,</span><span class="mi">1789</span><span class="p">,</span><span class="mi">785</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1774</span><span class="p">,</span><span class="mi">800</span><span class="p">,</span><span class="mi">1760</span><span class="p">,</span><span class="mi">814</span><span class="p">,</span><span class="mi">1748</span><span class="p">,</span><span class="mi">826</span><span class="p">,</span><span class="mi">1741</span><span class="p">,</span><span class="mi">833</span><span class="p">,</span><span class="mi">1738</span><span class="p">,</span><span class="mi">836</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1737</span><span class="p">,</span><span class="mi">837</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">839</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">843</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">851</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">863</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1737</span><span class="p">,</span><span class="mi">881</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">905</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">934</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">970</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1012</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1737</span><span class="p">,</span><span class="mi">1060</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1113</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1171</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1232</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1297</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1737</span><span class="p">,</span><span class="mi">1362</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1427</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1492</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1553</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1611</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1737</span><span class="p">,</span><span class="mi">1664</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1712</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1754</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1790</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1819</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1737</span><span class="p">,</span><span class="mi">1843</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1861</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1873</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1881</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">1885</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1737</span><span class="p">,</span><span class="mi">1887</span><span class="p">,</span><span class="mi">1738</span><span class="p">,</span><span class="mi">1888</span><span class="p">,</span><span class="mi">1741</span><span class="p">,</span><span class="mi">1891</span><span class="p">,</span><span class="mi">1748</span><span class="p">,</span><span class="mi">1898</span><span class="p">,</span><span class="mi">1760</span><span class="p">,</span><span class="mi">1910</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1775</span><span class="p">,</span><span class="mi">1925</span><span class="p">,</span><span class="mi">1789</span><span class="p">,</span><span class="mi">1939</span><span class="p">,</span><span class="mi">1801</span><span class="p">,</span><span class="mi">1951</span><span class="p">,</span><span class="mi">1808</span><span class="p">,</span><span class="mi">1958</span><span class="p">,</span><span class="mi">1811</span><span class="p">,</span><span class="mi">1961</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1812</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1960</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1956</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1948</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1937</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1812</span><span class="p">,</span><span class="mi">1919</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1897</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1868</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1833</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1791</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1812</span><span class="p">,</span><span class="mi">1744</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1690</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1631</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1568</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1502</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1812</span><span class="p">,</span><span class="mi">1432</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1362</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1292</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1222</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1156</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1812</span><span class="p">,</span><span class="mi">1093</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">1034</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">980</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">933</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">891</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1812</span><span class="p">,</span><span class="mi">856</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">827</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">805</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">787</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">776</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1812</span><span class="p">,</span><span class="mi">768</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">764</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">762</span><span class="p">])</span>
   <span class="n">call</span> <span class="n">closepoly</span><span class="p">()</span>

   <span class="o">!</span> <span class="n">Left</span> <span class="n">Edge</span> <span class="n">of</span> <span class="n">Tube</span> <span class="n">Recess</span>
   <span class="n">call</span> <span class="n">makepoly</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">([</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">312</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">313</span><span class="p">,</span><span class="mi">763</span><span class="p">,</span><span class="mi">316</span><span class="p">,</span><span class="mi">766</span><span class="p">,</span><span class="mi">323</span><span class="p">,</span><span class="mi">773</span><span class="p">,</span><span class="mi">335</span><span class="p">,</span><span class="mi">785</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">350</span><span class="p">,</span><span class="mi">800</span><span class="p">,</span><span class="mi">364</span><span class="p">,</span><span class="mi">814</span><span class="p">,</span><span class="mi">376</span><span class="p">,</span><span class="mi">826</span><span class="p">,</span><span class="mi">383</span><span class="p">,</span><span class="mi">833</span><span class="p">,</span><span class="mi">386</span><span class="p">,</span><span class="mi">836</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">387</span><span class="p">,</span><span class="mi">837</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">839</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">843</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">851</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">863</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">387</span><span class="p">,</span><span class="mi">881</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">905</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">934</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">970</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1012</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">387</span><span class="p">,</span><span class="mi">1060</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1113</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1171</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1232</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1297</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">387</span><span class="p">,</span><span class="mi">1362</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1427</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1492</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1553</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1611</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">387</span><span class="p">,</span><span class="mi">1664</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1712</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1754</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1790</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1819</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">387</span><span class="p">,</span><span class="mi">1843</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1861</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1873</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1881</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">1885</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">387</span><span class="p">,</span><span class="mi">1887</span><span class="p">,</span><span class="mi">386</span><span class="p">,</span><span class="mi">1888</span><span class="p">,</span><span class="mi">383</span><span class="p">,</span><span class="mi">1891</span><span class="p">,</span><span class="mi">376</span><span class="p">,</span><span class="mi">1898</span><span class="p">,</span><span class="mi">364</span><span class="p">,</span><span class="mi">1910</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">349</span><span class="p">,</span><span class="mi">1925</span><span class="p">,</span><span class="mi">335</span><span class="p">,</span><span class="mi">1939</span><span class="p">,</span><span class="mi">323</span><span class="p">,</span><span class="mi">1951</span><span class="p">,</span><span class="mi">316</span><span class="p">,</span><span class="mi">1958</span><span class="p">,</span><span class="mi">313</span><span class="p">,</span><span class="mi">1961</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">312</span><span class="p">,</span><span class="mi">1962</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1960</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1956</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1948</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1937</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">312</span><span class="p">,</span><span class="mi">1919</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1897</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1868</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1833</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1791</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">312</span><span class="p">,</span><span class="mi">1744</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1690</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1631</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1568</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1502</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">312</span><span class="p">,</span><span class="mi">1432</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1362</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1292</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1222</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1156</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">312</span><span class="p">,</span><span class="mi">1093</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">1034</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">980</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">933</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">891</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">312</span><span class="p">,</span><span class="mi">856</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">827</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">805</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">787</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">776</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">312</span><span class="p">,</span><span class="mi">768</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">764</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">762</span><span class="p">])</span>

   <span class="n">call</span> <span class="n">closepoly</span><span class="p">()</span>

   <span class="o">!</span> <span class="n">Bottom</span> <span class="n">Edge</span> <span class="n">of</span> <span class="n">Tube</span> <span class="n">Recess</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">37</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">makepoly</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">([</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">387</span><span class="p">,</span><span class="mi">837</span><span class="p">,</span><span class="mi">388</span><span class="p">,</span><span class="mi">837</span><span class="p">,</span><span class="mi">391</span><span class="p">,</span><span class="mi">837</span><span class="p">,</span><span class="mi">396</span><span class="p">,</span><span class="mi">836</span><span class="p">,</span><span class="mi">403</span><span class="p">,</span><span class="mi">836</span><span class="p">,</span><span class="mi">413</span><span class="p">,</span><span class="mi">835</span><span class="p">,</span><span class="mi">427</span><span class="p">,</span><span class="mi">834</span><span class="p">,</span><span class="mi">443</span><span class="p">,</span><span class="mi">832</span><span class="p">,</span><span class="mi">463</span><span class="p">,</span><span class="mi">831</span><span class="p">,</span><span class="mi">484</span><span class="p">,</span><span class="mi">829</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">508</span><span class="p">,</span><span class="mi">828</span><span class="p">,</span><span class="mi">535</span><span class="p">,</span><span class="mi">826</span><span class="p">,</span><span class="mi">562</span><span class="p">,</span><span class="mi">824</span><span class="p">,</span><span class="mi">592</span><span class="p">,</span><span class="mi">822</span><span class="p">,</span><span class="mi">622</span><span class="p">,</span><span class="mi">820</span><span class="p">,</span><span class="mi">654</span><span class="p">,</span><span class="mi">818</span><span class="p">,</span><span class="mi">687</span><span class="p">,</span><span class="mi">817</span><span class="p">,</span><span class="mi">722</span><span class="p">,</span><span class="mi">815</span><span class="p">,</span><span class="mi">759</span><span class="p">,</span><span class="mi">813</span><span class="p">,</span><span class="mi">797</span><span class="p">,</span><span class="mi">812</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">838</span><span class="p">,</span><span class="mi">811</span><span class="p">,</span><span class="mi">881</span><span class="p">,</span><span class="mi">809</span><span class="p">,</span><span class="mi">927</span><span class="p">,</span><span class="mi">808</span><span class="p">,</span><span class="mi">975</span><span class="p">,</span><span class="mi">808</span><span class="p">,</span><span class="mi">1025</span><span class="p">,</span><span class="mi">807</span><span class="p">,</span><span class="mi">1077</span><span class="p">,</span><span class="mi">807</span><span class="p">,</span><span class="mi">1133</span><span class="p">,</span><span class="mi">807</span><span class="p">,</span><span class="mi">1187</span><span class="p">,</span><span class="mi">808</span><span class="p">,</span><span class="mi">1238</span><span class="p">,</span><span class="mi">809</span><span class="p">,</span><span class="mi">1285</span><span class="p">,</span><span class="mi">810</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1330</span><span class="p">,</span><span class="mi">811</span><span class="p">,</span><span class="mi">1371</span><span class="p">,</span><span class="mi">813</span><span class="p">,</span><span class="mi">1410</span><span class="p">,</span><span class="mi">814</span><span class="p">,</span><span class="mi">1446</span><span class="p">,</span><span class="mi">816</span><span class="p">,</span><span class="mi">1481</span><span class="p">,</span><span class="mi">818</span><span class="p">,</span><span class="mi">1514</span><span class="p">,</span><span class="mi">820</span><span class="p">,</span><span class="mi">1545</span><span class="p">,</span><span class="mi">822</span><span class="p">,</span><span class="mi">1575</span><span class="p">,</span><span class="mi">824</span><span class="p">,</span><span class="mi">1603</span><span class="p">,</span><span class="mi">826</span><span class="p">,</span><span class="mi">1629</span><span class="p">,</span><span class="mi">828</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1653</span><span class="p">,</span><span class="mi">830</span><span class="p">,</span><span class="mi">1674</span><span class="p">,</span><span class="mi">832</span><span class="p">,</span><span class="mi">1692</span><span class="p">,</span><span class="mi">833</span><span class="p">,</span><span class="mi">1707</span><span class="p">,</span><span class="mi">834</span><span class="p">,</span><span class="mi">1719</span><span class="p">,</span><span class="mi">835</span><span class="p">,</span><span class="mi">1727</span><span class="p">,</span><span class="mi">836</span><span class="p">,</span><span class="mi">1733</span><span class="p">,</span><span class="mi">837</span><span class="p">,</span><span class="mi">1736</span><span class="p">,</span><span class="mi">837</span><span class="p">,</span><span class="mi">1737</span><span class="p">,</span><span class="mi">837</span><span class="p">,</span><span class="mi">1738</span><span class="p">,</span><span class="mi">836</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1741</span><span class="p">,</span><span class="mi">833</span><span class="p">,</span><span class="mi">1748</span><span class="p">,</span><span class="mi">826</span><span class="p">,</span><span class="mi">1760</span><span class="p">,</span><span class="mi">814</span><span class="p">,</span><span class="mi">1775</span><span class="p">,</span><span class="mi">799</span><span class="p">,</span><span class="mi">1789</span><span class="p">,</span><span class="mi">785</span><span class="p">,</span><span class="mi">1801</span><span class="p">,</span><span class="mi">773</span><span class="p">,</span><span class="mi">1808</span><span class="p">,</span><span class="mi">766</span><span class="p">,</span><span class="mi">1811</span><span class="p">,</span><span class="mi">763</span><span class="p">,</span><span class="mi">1812</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1810</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1807</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1800</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1789</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1773</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1752</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1725</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1692</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1653</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1607</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1555</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">1498</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1434</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1366</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1294</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1218</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1141</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">1062</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">983</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">906</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">830</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">758</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">690</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">626</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">569</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">517</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">471</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">432</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">399</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">372</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">351</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">335</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">324</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">317</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">314</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">312</span><span class="p">,</span><span class="mi">762</span><span class="p">,</span><span class="mi">313</span><span class="p">,</span><span class="mi">763</span><span class="p">,</span><span class="mi">316</span><span class="p">,</span><span class="mi">766</span><span class="p">,</span><span class="mi">323</span><span class="p">,</span><span class="mi">773</span><span class="p">,</span><span class="mi">335</span><span class="p">,</span><span class="mi">785</span><span class="p">,</span><span class="mi">350</span><span class="p">,</span><span class="mi">800</span><span class="p">,</span> <span class="o">&amp;</span>
   <span class="o">&amp;</span> <span class="mi">364</span><span class="p">,</span><span class="mi">814</span><span class="p">,</span><span class="mi">376</span><span class="p">,</span><span class="mi">826</span><span class="p">,</span><span class="mi">383</span><span class="p">,</span><span class="mi">833</span><span class="p">,</span><span class="mi">386</span><span class="p">,</span><span class="mi">836</span><span class="p">,</span><span class="mi">387</span><span class="p">,</span><span class="mi">837</span><span class="p">])</span>
   <span class="n">call</span> <span class="n">closepoly</span><span class="p">()</span>

   <span class="o">!</span> <span class="o">&lt;</span> <span class="n">of</span> <span class="n">X11</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">8</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">makepoly</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">([</span><span class="mi">1034</span><span class="p">,</span><span class="mi">1233</span><span class="p">,</span><span class="mi">927</span><span class="p">,</span><span class="mi">1233</span><span class="p">,</span><span class="mi">743</span><span class="p">,</span><span class="mi">1463</span><span class="p">,</span><span class="mi">987</span><span class="p">,</span><span class="mi">1769</span><span class="p">,</span><span class="mi">1034</span><span class="p">,</span><span class="mi">1769</span><span class="p">,</span><span class="mi">819</span><span class="p">,</span><span class="mi">1493</span><span class="p">,</span><span class="mi">1034</span><span class="p">,</span><span class="mi">1233</span><span class="p">])</span>
   <span class="n">call</span> <span class="n">closepoly</span><span class="p">()</span>

   <span class="n">call</span> <span class="n">rasters</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">([</span><span class="mi">1034</span><span class="p">,</span><span class="mi">1233</span><span class="p">,</span><span class="mi">927</span><span class="p">,</span><span class="mi">1233</span><span class="p">,</span><span class="mi">743</span><span class="p">,</span><span class="mi">1463</span><span class="p">,</span><span class="mi">987</span><span class="p">,</span><span class="mi">1769</span><span class="p">,</span><span class="mi">1034</span><span class="p">,</span><span class="mi">1769</span><span class="p">,</span><span class="mi">819</span><span class="p">,</span><span class="mi">1493</span><span class="p">,</span><span class="mi">1034</span><span class="p">,</span><span class="mi">1233</span><span class="p">])</span>
   <span class="n">call</span> <span class="n">rasters</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

   <span class="o">!</span> <span class="o">&gt;</span> <span class="n">of</span> <span class="n">X11</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="mi">8</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">makepoly</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">(</span> <span class="p">[</span><span class="mi">483</span><span class="p">,</span><span class="mi">1769</span><span class="p">,</span><span class="mi">591</span><span class="p">,</span><span class="mi">1769</span><span class="p">,</span><span class="mi">774</span><span class="p">,</span><span class="mi">1540</span><span class="p">,</span><span class="mi">530</span><span class="p">,</span><span class="mi">1233</span><span class="p">,</span><span class="mi">483</span><span class="p">,</span><span class="mi">1233</span><span class="p">,</span> <span class="mi">698</span><span class="p">,</span><span class="mi">1509</span><span class="p">,</span><span class="mi">483</span><span class="p">,</span><span class="mi">1769</span><span class="p">])</span>
   <span class="n">call</span> <span class="n">closepoly</span><span class="p">()</span>

   <span class="n">call</span> <span class="n">rasters</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">pline</span><span class="p">(</span> <span class="p">[</span><span class="mi">483</span><span class="p">,</span><span class="mi">1769</span><span class="p">,</span><span class="mi">591</span><span class="p">,</span><span class="mi">1769</span><span class="p">,</span><span class="mi">774</span><span class="p">,</span><span class="mi">1540</span><span class="p">,</span><span class="mi">530</span><span class="p">,</span><span class="mi">1233</span><span class="p">,</span><span class="mi">483</span><span class="p">,</span><span class="mi">1233</span><span class="p">,</span><span class="mi">698</span><span class="p">,</span><span class="mi">1509</span><span class="p">,</span><span class="mi">483</span><span class="p">,</span><span class="mi">1769</span><span class="p">])</span>
   <span class="n">call</span> <span class="n">rasters</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

   <span class="o">!</span> <span class="n">End</span> <span class="n">of</span> <span class="n">Picture</span> <span class="o">%</span>

   <span class="n">call</span> <span class="n">closeobj</span><span class="p">()</span>

   <span class="n">call</span> <span class="n">makeobj</span><span class="p">(</span><span class="mi">2222</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">1111</span><span class="p">,</span><span class="n">xt</span><span class="o">=-</span><span class="mf">1012.0</span><span class="p">,</span> <span class="n">yt</span><span class="o">=-</span><span class="mf">1012.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">closeobj</span><span class="p">()</span>

   <span class="o">!!</span><span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">2222</span><span class="p">)</span>

   <span class="o">!</span> <span class="n">make</span> <span class="n">a</span> <span class="n">big</span> <span class="n">page</span> <span class="ow">and</span> <span class="n">call</span> <span class="n">object</span> <span class="n">with</span> <span class="n">various</span> <span class="n">transformations</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_WHITE</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">page</span><span class="p">(</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">20000.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">20000.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">clear</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_BLACK</span><span class="p">)</span>

   <span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">1111</span><span class="p">,</span> <span class="n">xs</span><span class="o">=</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">ys</span><span class="o">=</span><span class="mf">4.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">2222</span><span class="p">,</span> <span class="n">xs</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">ys</span><span class="o">=</span><span class="mf">2.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">2222</span><span class="p">,</span> <span class="n">xs</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">ys</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">xt</span><span class="o">=</span><span class="mf">10000.0</span><span class="p">,</span> <span class="n">yt</span><span class="o">=</span><span class="mf">10000.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">2222</span><span class="p">,</span> <span class="n">xs</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">ys</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">xt</span><span class="o">=</span><span class="mf">4000.0</span><span class="p">,</span> <span class="n">yt</span><span class="o">=</span><span class="mf">10000.0</span><span class="p">,</span> <span class="n">zr</span><span class="o">=</span><span class="mf">45.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">2222</span><span class="p">,</span> <span class="n">xs</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">ys</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">yt</span><span class="o">=</span><span class="mf">3000.0</span><span class="p">,</span> <span class="n">xt</span><span class="o">=</span><span class="mf">12000.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">2222</span><span class="p">,</span> <span class="n">xs</span><span class="o">=</span><span class="mf">1.4</span><span class="p">,</span> <span class="n">ys</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">xt</span><span class="o">=</span><span class="mf">13000.0</span><span class="p">,</span> <span class="n">yt</span><span class="o">=</span><span class="mf">16000.0</span><span class="p">,</span> <span class="n">zr</span><span class="o">=</span><span class="mf">180.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">2222</span><span class="p">,</span> <span class="n">xs</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">ys</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">xt</span><span class="o">=</span><span class="mf">16000.0</span><span class="p">,</span> <span class="n">yt</span><span class="o">=</span><span class="mf">16000.0</span><span class="p">,</span> <span class="n">zr</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">2222</span><span class="p">,</span> <span class="n">xs</span><span class="o">=</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">ys</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">xt</span><span class="o">=</span><span class="mf">6000.0</span><span class="p">,</span> <span class="n">yt</span><span class="o">=</span><span class="mf">17000.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">2222</span><span class="p">,</span> <span class="n">xs</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">ys</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">xt</span><span class="o">=</span><span class="mf">16000.0</span><span class="p">,</span> <span class="n">yt</span><span class="o">=</span><span class="mf">4000.0</span><span class="p">,</span> <span class="n">zr</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">2222</span><span class="p">,</span> <span class="n">xs</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">ys</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">xt</span><span class="o">=</span><span class="mf">18000.0</span><span class="p">,</span> <span class="n">yt</span><span class="o">=</span><span class="mf">5500.0</span><span class="p">,</span> <span class="n">zr</span><span class="o">=-</span><span class="mf">30.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">2222</span><span class="p">,</span> <span class="n">xs</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">ys</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">xt</span><span class="o">=</span><span class="mf">16000.0</span><span class="p">,</span> <span class="n">yt</span><span class="o">=</span><span class="mf">7000.0</span><span class="p">,</span> <span class="n">zr</span><span class="o">=</span><span class="mf">30.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">2222</span><span class="p">,</span> <span class="n">xs</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">ys</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">xt</span><span class="o">=</span><span class="mf">18000.0</span><span class="p">,</span> <span class="n">yt</span><span class="o">=</span><span class="mf">9500.0</span><span class="p">,</span> <span class="n">zr</span><span class="o">=-</span><span class="mf">50.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">2222</span><span class="p">,</span> <span class="n">xs</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">ys</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">xt</span><span class="o">=</span><span class="mf">16000.0</span><span class="p">,</span> <span class="n">yt</span><span class="o">=</span><span class="mf">11000.0</span><span class="p">,</span> <span class="n">zr</span><span class="o">=</span><span class="mf">70.0</span><span class="p">)</span>

   <span class="o">!</span> <span class="n">this</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">work</span> <span class="k">as</span> <span class="n">expected</span>
   <span class="o">!</span><span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">2222</span><span class="p">,</span> <span class="n">xs</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,,</span> <span class="n">ys</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,,</span> <span class="n">xt</span><span class="o">=</span><span class="mf">16000.0</span><span class="p">,</span> <span class="n">yt</span><span class="o">=</span><span class="mf">13000.0</span><span class="p">,</span> <span class="n">xr</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">yr</span><span class="o">=</span><span class="mf">10.0</span> <span class="p">)</span>
   <span class="o">!</span><span class="n">call</span> <span class="n">call_obj</span><span class="p">(</span><span class="mi">1111</span><span class="p">,</span> <span class="n">xs</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,,</span> <span class="n">ys</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,,</span> <span class="n">xt</span><span class="o">=</span><span class="mf">16000.0</span><span class="p">,</span> <span class="n">yt</span><span class="o">=</span><span class="mf">13000.0</span><span class="p">,</span> <span class="n">xr</span><span class="o">=</span><span class="mf">0.10</span><span class="p">,</span> <span class="n">yr</span><span class="o">=</span><span class="mf">0.10</span> <span class="p">)</span>

   <span class="o">!</span> <span class="n">pause</span>
   <span class="n">call</span> <span class="n">vflush</span><span class="p">()</span>
   <span class="n">ipaws</span><span class="o">=</span><span class="n">getkey</span><span class="p">()</span>

   <span class="o">!</span> <span class="n">wrap</span> <span class="n">up</span> <span class="n">graphics</span>
   <span class="n">call</span> <span class="n">vexit</span><span class="p">()</span>

   <span class="n">contains</span>
   <span class="n">subroutine</span> <span class="n">pline</span><span class="p">(</span><span class="n">iarr</span><span class="p">)</span>
      <span class="n">integer</span><span class="p">,</span><span class="n">intent</span><span class="p">(</span><span class="ow">in</span><span class="p">)</span> <span class="p">::</span> <span class="n">iarr</span><span class="p">(:)</span>
      <span class="n">integer</span>            <span class="p">::</span> <span class="n">i</span>
      <span class="o">!</span> <span class="n">assuming</span> <span class="n">nice</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="n">pairs</span>
      <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="n">real</span><span class="p">(</span><span class="n">iarr</span><span class="p">(</span><span class="mi">1</span><span class="p">)),</span><span class="n">real</span><span class="p">(</span><span class="n">iarr</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
      <span class="n">do</span> <span class="n">i</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">iarr</span><span class="p">),</span><span class="mi">2</span>
         <span class="n">call</span> <span class="n">draw2</span><span class="p">(</span><span class="n">real</span><span class="p">(</span><span class="n">iarr</span><span class="p">(</span><span class="n">i</span><span class="p">)),</span><span class="n">real</span><span class="p">(</span><span class="n">iarr</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span>
      <span class="n">enddo</span>
   <span class="n">end</span> <span class="n">subroutine</span> <span class="n">pline</span>

   <span class="n">subroutine</span> <span class="n">call_obj</span><span class="p">(</span><span class="n">iobj</span><span class="p">,</span><span class="n">xt</span><span class="p">,</span><span class="n">yt</span><span class="p">,</span><span class="n">zt</span><span class="p">,</span><span class="n">xs</span><span class="p">,</span><span class="n">ys</span><span class="p">,</span><span class="n">zs</span><span class="p">,</span><span class="n">xr</span><span class="p">,</span><span class="n">yr</span><span class="p">,</span><span class="n">zr</span><span class="p">)</span>
      <span class="o">!</span> <span class="n">DEFAULT</span> <span class="n">call_obj</span><span class="p">(</span><span class="n">iobj</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span><span class="p">)</span>
      <span class="n">integer</span><span class="p">,</span><span class="n">intent</span><span class="p">(</span><span class="ow">in</span><span class="p">)</span> <span class="p">::</span> <span class="n">iobj</span>
      <span class="n">real</span><span class="p">,</span><span class="n">optional</span> <span class="p">::</span> <span class="n">xt</span><span class="p">,</span><span class="n">yt</span><span class="p">,</span><span class="n">zt</span>
      <span class="n">real</span><span class="p">,</span><span class="n">optional</span> <span class="p">::</span> <span class="n">xs</span><span class="p">,</span><span class="n">ys</span><span class="p">,</span><span class="n">zs</span>
      <span class="n">real</span><span class="p">,</span><span class="n">optional</span> <span class="p">::</span> <span class="n">xr</span><span class="p">,</span><span class="n">yr</span><span class="p">,</span><span class="n">zr</span>
      <span class="n">real</span>          <span class="p">::</span> <span class="n">xt_l</span><span class="p">,</span><span class="n">yt_l</span><span class="p">,</span><span class="n">zt_l</span>
      <span class="n">real</span>          <span class="p">::</span> <span class="n">xs_l</span><span class="p">,</span><span class="n">ys_l</span><span class="p">,</span><span class="n">zs_l</span>
      <span class="n">real</span>          <span class="p">::</span> <span class="n">xr_l</span><span class="p">,</span><span class="n">yr_l</span><span class="p">,</span><span class="n">zr_l</span>
      <span class="k">if</span><span class="p">(</span><span class="n">present</span><span class="p">(</span><span class="n">xt</span><span class="p">))</span><span class="n">then</span><span class="p">;</span> <span class="n">xt_l</span><span class="o">=</span><span class="n">xt</span><span class="p">;</span> <span class="k">else</span><span class="p">;</span> <span class="n">xt_l</span><span class="o">=</span><span class="mf">0.0</span><span class="p">;</span> <span class="n">endif</span>
      <span class="k">if</span><span class="p">(</span><span class="n">present</span><span class="p">(</span><span class="n">yt</span><span class="p">))</span><span class="n">then</span><span class="p">;</span> <span class="n">yt_l</span><span class="o">=</span><span class="n">yt</span><span class="p">;</span> <span class="k">else</span><span class="p">;</span> <span class="n">yt_l</span><span class="o">=</span><span class="mf">0.0</span><span class="p">;</span> <span class="n">endif</span>
      <span class="k">if</span><span class="p">(</span><span class="n">present</span><span class="p">(</span><span class="n">zt</span><span class="p">))</span><span class="n">then</span><span class="p">;</span> <span class="n">zt_l</span><span class="o">=</span><span class="n">zt</span><span class="p">;</span> <span class="k">else</span><span class="p">;</span> <span class="n">zt_l</span><span class="o">=</span><span class="mf">0.0</span><span class="p">;</span> <span class="n">endif</span>

      <span class="k">if</span><span class="p">(</span><span class="n">present</span><span class="p">(</span><span class="n">xs</span><span class="p">))</span><span class="n">then</span><span class="p">;</span> <span class="n">xs_l</span><span class="o">=</span><span class="n">xs</span><span class="p">;</span> <span class="k">else</span><span class="p">;</span> <span class="n">xs_l</span><span class="o">=</span><span class="mf">1.0</span><span class="p">;</span> <span class="n">endif</span>
      <span class="k">if</span><span class="p">(</span><span class="n">present</span><span class="p">(</span><span class="n">ys</span><span class="p">))</span><span class="n">then</span><span class="p">;</span> <span class="n">ys_l</span><span class="o">=</span><span class="n">ys</span><span class="p">;</span> <span class="k">else</span><span class="p">;</span> <span class="n">ys_l</span><span class="o">=</span><span class="mf">1.0</span><span class="p">;</span> <span class="n">endif</span>
      <span class="k">if</span><span class="p">(</span><span class="n">present</span><span class="p">(</span><span class="n">zs</span><span class="p">))</span><span class="n">then</span><span class="p">;</span> <span class="n">zs_l</span><span class="o">=</span><span class="n">zs</span><span class="p">;</span> <span class="k">else</span><span class="p">;</span> <span class="n">zs_l</span><span class="o">=</span><span class="mf">1.0</span><span class="p">;</span> <span class="n">endif</span>

      <span class="k">if</span><span class="p">(</span><span class="n">present</span><span class="p">(</span><span class="n">xr</span><span class="p">))</span><span class="n">then</span><span class="p">;</span> <span class="n">xr_l</span><span class="o">=</span><span class="n">xr</span><span class="p">;</span> <span class="k">else</span><span class="p">;</span> <span class="n">xr_l</span><span class="o">=</span><span class="mf">0.0</span><span class="p">;</span> <span class="n">endif</span>
      <span class="k">if</span><span class="p">(</span><span class="n">present</span><span class="p">(</span><span class="n">yr</span><span class="p">))</span><span class="n">then</span><span class="p">;</span> <span class="n">yr_l</span><span class="o">=</span><span class="n">yr</span><span class="p">;</span> <span class="k">else</span><span class="p">;</span> <span class="n">yr_l</span><span class="o">=</span><span class="mf">0.0</span><span class="p">;</span> <span class="n">endif</span>
      <span class="k">if</span><span class="p">(</span><span class="n">present</span><span class="p">(</span><span class="n">zr</span><span class="p">))</span><span class="n">then</span><span class="p">;</span> <span class="n">zr_l</span><span class="o">=</span><span class="n">zr</span><span class="p">;</span> <span class="k">else</span><span class="p">;</span> <span class="n">zr_l</span><span class="o">=</span><span class="mf">0.0</span><span class="p">;</span> <span class="n">endif</span>

      <span class="o">!</span> <span class="n">call</span> <span class="n">an</span> <span class="n">object</span> <span class="n">using</span> <span class="n">specified</span> <span class="n">scaling</span><span class="p">,</span> <span class="n">translation</span><span class="p">,</span> <span class="ow">and</span> <span class="n">rotation</span>
      <span class="o">!</span> <span class="ow">and</span> <span class="n">then</span> <span class="n">restore</span> <span class="n">coordinate</span> <span class="n">space</span>
      <span class="n">call</span> <span class="n">pushmatrix</span><span class="p">()</span>
         <span class="n">call</span> <span class="n">translate</span><span class="p">(</span><span class="n">xt_l</span><span class="p">,</span><span class="n">yt_l</span><span class="p">,</span><span class="n">zt_l</span><span class="p">)</span>
         <span class="n">call</span> <span class="n">scale</span><span class="p">(</span><span class="n">xs_l</span><span class="p">,</span><span class="n">ys_l</span><span class="p">,</span><span class="n">zs_l</span><span class="p">)</span>
         <span class="n">call</span> <span class="n">rotate</span><span class="p">(</span><span class="n">xr_l</span><span class="p">,</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
         <span class="n">call</span> <span class="n">rotate</span><span class="p">(</span><span class="n">yr_l</span><span class="p">,</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
         <span class="n">call</span> <span class="n">rotate</span><span class="p">(</span><span class="n">zr_l</span><span class="p">,</span><span class="s2">&quot;z&quot;</span><span class="p">)</span>
         <span class="n">call</span> <span class="n">callobj</span><span class="p">(</span><span class="n">iobj</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">popmatrix</span><span class="p">()</span>
   <span class="n">end</span> <span class="n">subroutine</span> <span class="n">call_obj</span>

   <span class="n">subroutine</span> <span class="n">rasters</span><span class="p">(</span><span class="n">iwidth</span><span class="p">)</span>
      <span class="n">integer</span><span class="p">,</span><span class="n">intent</span><span class="p">(</span><span class="ow">in</span><span class="p">)</span> <span class="p">::</span> <span class="n">iwidth</span>
      <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="n">iwidth</span><span class="o">*</span><span class="mi">5</span><span class="p">)</span>
   <span class="n">end</span> <span class="n">subroutine</span> <span class="n">rasters</span>
<span class="n">end</span> <span class="n">program</span> <span class="n">demo_callobj</span>
</code></pre></div>

<h2 id="name_115">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">isobj</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="o">-</span> [<span class="nv">M_draw</span>:<span class="nv">OBJECT</span>] <span class="nv">Returns</span> .<span class="nv">FALSE</span>. <span class="k">if</span> <span class="nv">there</span> <span class="nv">is</span> <span class="nv">an</span> <span class="nv">object</span> <span class="nv">of</span> <span class="nv">number</span> <span class="nv">n</span>.
<span class="ss">(</span><span class="nv">LICENSE</span>:<span class="nv">PD</span><span class="ss">)</span>
</code></pre></div>

<h2 id="synopsis_114">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     logical function isobj(n)
     integer :: n
</code></pre></div>

<h2 id="description_114">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Returns</span> .<span class="nv">FALSE</span>. <span class="k">if</span> <span class="nv">there</span> <span class="nv">is</span> <span class="nv">an</span> <span class="nv">object</span> <span class="nv">of</span> <span class="nv">number</span> <span class="nv">n</span>.
</code></pre></div>

<h2 id="example_66">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">program</span> <span class="nv">demo_isobj</span>
<span class="nv">use</span> <span class="nv">M_draw</span>
   <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">300</span>, <span class="mi">300</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">prefposition</span><span class="ss">(</span><span class="mi">100</span>, <span class="mi">100</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span>   <span class="o">!</span> <span class="nv">set</span> <span class="nv">up</span> <span class="nv">device</span>
   <span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>,<span class="mi">5</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">5</span>.<span class="mi">0</span>,<span class="mi">5</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_WHITE</span><span class="ss">)</span>  <span class="o">!</span> <span class="nv">set</span> <span class="nv">current</span> <span class="nv">color</span>
   <span class="k">call</span> <span class="nl">clear</span><span class="ss">()</span>   <span class="o">!</span> <span class="nv">clear</span> <span class="nv">screen</span> <span class="nv">to</span> <span class="nv">current</span> <span class="nv">color</span>

   <span class="k">call</span> <span class="nl">makeobj</span><span class="ss">(</span><span class="mi">3</span><span class="ss">)</span>  <span class="o">!</span> <span class="nv">create</span> <span class="nv">a</span> <span class="nv">simple</span> <span class="nv">object</span>
      <span class="k">call</span> <span class="nl">polyfill</span><span class="ss">(</span>.<span class="nv">true</span>.<span class="ss">)</span>
      <span class="k">call</span> <span class="nl">color</span><span class="ss">(</span><span class="nv">D_GREEN</span><span class="ss">)</span>
      <span class="k">call</span> <span class="nl">circle</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">4</span>.<span class="mi">0</span><span class="ss">)</span>
   <span class="k">call</span> <span class="nl">closeobj</span><span class="ss">()</span>

   <span class="k">if</span><span class="ss">(</span><span class="nv">isobj</span><span class="ss">(</span><span class="mi">3</span><span class="ss">))</span><span class="k">then</span>
      <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s"> 3 is an object (CORRECT)</span><span class="s1">&#39;</span>
      <span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="mi">3</span><span class="ss">)</span>
   <span class="k">else</span>
      <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s"> 3 is not an object (ERROR)</span><span class="s1">&#39;</span>
   <span class="k">endif</span>

   <span class="k">if</span><span class="ss">(</span><span class="nv">isobj</span><span class="ss">(</span><span class="mi">4</span><span class="ss">))</span><span class="k">then</span>
      <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s"> 4 is an object (ERROR)</span><span class="s1">&#39;</span>
   <span class="k">else</span>
      <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s"> 4 is not an object (CORRECT)</span><span class="s1">&#39;</span>
   <span class="k">endif</span>

   <span class="k">call</span> <span class="nl">callobj</span><span class="ss">(</span><span class="mi">4</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">note</span>: <span class="nv">calling</span> <span class="nv">a</span> <span class="nv">non</span><span class="o">-</span><span class="nv">existent</span> <span class="nv">object</span> <span class="nv">is</span> <span class="nv">a</span> <span class="nv">no</span><span class="o">-</span><span class="nv">op</span>

   <span class="nv">idum</span><span class="o">=</span><span class="nv">getkey</span><span class="ss">()</span><span class="o">!</span> <span class="k">wait</span> <span class="k">for</span> <span class="nv">some</span> <span class="nv">input</span>
   <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span><span class="o">!</span>  <span class="nv">set</span> <span class="nv">the</span> <span class="nv">screen</span> <span class="nv">back</span> <span class="nv">to</span> <span class="nv">its</span> <span class="nv">original</span> <span class="nv">state</span>

<span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_isobj</span>
</code></pre></div>

<p>Expected output:</p>
<div class="codehilite"><pre><span></span><code>  3 is an object (CORRECT)
  4 is not an object (CORRECT)
</code></pre></div>

<h2 id="name_116">NAME</h2>
<div class="codehilite"><pre><span></span><code>delobj(3f) - [M_draw:OBJECT] Delete the object number n.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_115">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine delobj(n)
     integer n
</code></pre></div>

<h2 id="description_115">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Delete the object number n.
</code></pre></div>

<h2 id="name_117">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="n">loadobj</span><span class="p">(</span><span class="mi">3</span><span class="n">f</span><span class="p">)</span> <span class="o">-</span> <span class="p">[</span><span class="n">M_draw</span><span class="p">:</span><span class="n">OBJECT</span><span class="p">]</span> <span class="n">Load</span> <span class="n">the</span> <span class="n">object</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">file</span> <span class="n">filename</span> <span class="k">as</span> <span class="n">object</span> <span class="n">number</span> <span class="n">n</span><span class="o">.</span>
<span class="p">(</span><span class="n">LICENSE</span><span class="p">:</span><span class="n">PD</span><span class="p">)</span>
</code></pre></div>

<h2 id="synopsis_116">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     <span class="n">subroutine</span> <span class="n">loadobj</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
     <span class="n">integer</span> <span class="n">n</span>
     <span class="n">character</span><span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="n">filename</span>
</code></pre></div>

<h2 id="description_116">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Load the object in the file &quot;filename&quot; as object number n.
</code></pre></div>

<h2 id="example_67">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="n">program</span> <span class="n">demo_loadobj</span>
<span class="o">!</span> <span class="n">test</span> <span class="n">some</span> <span class="n">object</span><span class="o">-</span><span class="n">related</span> <span class="n">procedures</span>
<span class="n">use</span> <span class="n">M_draw</span>
<span class="n">integer</span>                      <span class="p">::</span> <span class="n">env_len</span>
<span class="n">character</span><span class="p">(</span><span class="n">len</span><span class="o">=</span><span class="p">:),</span><span class="n">allocatable</span> <span class="p">::</span> <span class="n">env</span>
   <span class="o">!------------------------------------------------------------</span>
   <span class="o">!</span> <span class="n">make</span> <span class="n">an</span> <span class="n">object</span> <span class="n">file</span><span class="p">,</span> <span class="n">which</span> <span class="n">would</span> <span class="n">normally</span> <span class="n">be</span>
   <span class="o">!</span> <span class="n">made</span> <span class="n">by</span> <span class="n">a</span> <span class="n">separate</span> <span class="n">program</span>
   <span class="n">call</span> <span class="n">voutput</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">vinit</span><span class="p">(</span><span class="s1">&#39;nil&#39;</span><span class="p">)</span>   <span class="o">!</span> <span class="n">set</span> <span class="n">up</span> <span class="n">device</span>
   <span class="n">call</span> <span class="n">makeobj</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">polyfill</span><span class="p">(</span><span class="o">.</span><span class="n">true</span><span class="o">.</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_GREEN</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">circle</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">4.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">closeobj</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">saveobj</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="s2">&quot;circle.obj&quot;</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">vexit</span><span class="p">()</span>
   <span class="o">!------------------------------------------------------------</span>
   <span class="o">!</span> <span class="n">CURRENTLY</span><span class="p">:</span>
   <span class="o">!</span> <span class="n">with</span> <span class="n">multiple</span> <span class="n">vinit</span><span class="p">(</span><span class="mi">3</span><span class="n">f</span><span class="p">)</span> <span class="n">calls</span> <span class="n">the</span> <span class="n">environment</span> <span class="n">variable</span> <span class="k">is</span>
   <span class="o">!</span> <span class="ow">not</span> <span class="n">used</span> <span class="n">without</span> <span class="n">explicitly</span> <span class="n">using</span> <span class="n">it</span>
   <span class="n">call</span> <span class="n">get_environment_variable</span><span class="p">(</span><span class="s1">&#39;M_DRAW_OUTPUT&#39;</span><span class="p">,</span><span class="n">LENGTH</span><span class="o">=</span><span class="n">env_len</span><span class="p">)</span>
   <span class="k">if</span><span class="p">(</span><span class="n">env_len</span><span class="o">.</span><span class="n">ne</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span><span class="n">then</span>
      <span class="n">allocate</span><span class="p">(</span><span class="n">character</span><span class="p">(</span><span class="n">len</span><span class="o">=</span><span class="n">env_len</span><span class="p">)</span> <span class="p">::</span> <span class="n">env</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">get_environment_variable</span><span class="p">(</span><span class="s1">&#39;M_DRAW_OUTPUT&#39;</span><span class="p">,</span><span class="n">env</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">voutput</span><span class="p">(</span><span class="n">env</span><span class="p">)</span>
   <span class="n">endif</span>
   <span class="o">!------------------------------------------------------------</span>
   <span class="n">call</span> <span class="n">prefsize</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">prefposition</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">vinit</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>   <span class="o">!</span> <span class="n">set</span> <span class="n">up</span> <span class="n">device</span>
   <span class="n">call</span> <span class="n">ortho2</span><span class="p">(</span><span class="o">-</span><span class="mf">5.1</span><span class="p">,</span><span class="mf">5.3</span><span class="p">,</span><span class="o">-</span><span class="mf">5.2</span><span class="p">,</span><span class="mf">5.4</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_WHITE</span><span class="p">)</span>  <span class="o">!</span> <span class="n">set</span> <span class="n">current</span> <span class="n">color</span>
   <span class="n">call</span> <span class="n">clear</span><span class="p">()</span>   <span class="o">!</span> <span class="n">clear</span> <span class="n">screen</span> <span class="n">to</span> <span class="n">current</span> <span class="n">color</span>
   <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_BLUE</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="o">-</span><span class="mf">5.0</span><span class="p">,</span><span class="o">-</span><span class="mf">5.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">draw2</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">5.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">move2</span><span class="p">(</span><span class="o">-</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">5.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">draw2</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span><span class="o">-</span><span class="mf">5.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">loadobj</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="s2">&quot;circle.obj&quot;</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">callobj</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">translate</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">translate</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)</span>
   <span class="n">idum</span><span class="o">=</span><span class="n">getkey</span><span class="p">()</span> <span class="o">!</span> <span class="n">wait</span> <span class="k">for</span> <span class="n">some</span> <span class="n">input</span>
   <span class="n">call</span> <span class="n">vexit</span><span class="p">()</span>  <span class="o">!</span>  <span class="n">set</span> <span class="n">the</span> <span class="n">screen</span> <span class="n">back</span> <span class="n">to</span> <span class="n">its</span> <span class="n">original</span> <span class="n">state</span>
   <span class="o">!------------------------------------------------------------</span>
<span class="n">end</span> <span class="n">program</span> <span class="n">demo_loadobj</span>
</code></pre></div>

<h2 id="name_118">NAME</h2>
<div class="codehilite"><pre><span></span><code>saveobj(3f) - [M_draw:OBJECT] Save object number n into file filename. Does NOT save objects called inside object n.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_117">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>     subroutine saveobj(n, filename)
     integer,intent(in) :: n
     character(len=*),intent(in) :: filename
</code></pre></div>

<h2 id="description_117">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Save the object number n into the file filename. This call does not
save objects called inside object n.
</code></pre></div>

<h2 id="example_68">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="n">program</span> <span class="n">demo_saveobj</span>
<span class="o">!</span> <span class="n">create</span> <span class="n">object</span> <span class="ow">in</span> <span class="n">file</span> <span class="s2">&quot;circle.obj&quot;</span> <span class="k">for</span> <span class="n">use</span> <span class="n">with</span> <span class="n">loadobj</span><span class="p">(</span><span class="mi">3</span><span class="n">f</span><span class="p">)</span>
<span class="n">use</span> <span class="n">M_draw</span>
<span class="n">implicit</span> <span class="n">none</span>
<span class="n">character</span><span class="p">(</span><span class="n">len</span><span class="o">=</span><span class="p">:),</span><span class="n">allocatable</span> <span class="p">::</span> <span class="n">env</span>
<span class="n">integer</span> <span class="p">::</span> <span class="n">ipaws</span>
<span class="n">integer</span> <span class="p">::</span> <span class="n">env_len</span>
   <span class="n">call</span> <span class="n">voutput</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">)</span>            <span class="o">!</span> <span class="n">ignore</span> <span class="o">$</span><span class="n">M_DRAW_OUTPUT</span>
   <span class="n">call</span> <span class="n">vinit</span><span class="p">(</span><span class="s1">&#39;nil&#39;</span><span class="p">)</span>            <span class="o">!</span> <span class="n">start</span> <span class="n">graphics</span>
   <span class="n">call</span> <span class="n">push</span><span class="p">()</span>
   <span class="o">!</span>
   <span class="n">call</span> <span class="n">makeobj</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>              <span class="o">!</span> <span class="n">create</span> <span class="n">an</span> <span class="n">object</span>
      <span class="n">call</span> <span class="n">polyfill</span><span class="p">(</span><span class="o">.</span><span class="n">true</span><span class="o">.</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_GREEN</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">circle</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">10.0</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">polyfill</span><span class="p">(</span><span class="o">.</span><span class="n">false</span><span class="o">.</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">color</span><span class="p">(</span><span class="n">D_BLUE</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">linewidth</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">circle</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">4.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">closeobj</span><span class="p">()</span>
   <span class="o">!</span>
   <span class="n">call</span> <span class="n">saveobj</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="s2">&quot;circle.obj&quot;</span><span class="p">)</span> <span class="o">!</span> <span class="n">save</span> <span class="n">object</span> <span class="n">to</span> <span class="n">file</span>
   <span class="n">call</span> <span class="n">pop</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">vexit</span><span class="p">()</span>                 <span class="o">!</span> <span class="n">exit</span> <span class="n">graphics</span>
   <span class="o">!</span>
   <span class="o">!-------</span>  <span class="n">now</span> <span class="n">this</span> <span class="n">could</span> <span class="n">be</span> <span class="n">a</span> <span class="n">separate</span> <span class="n">program</span> <span class="n">to</span> <span class="n">use</span> <span class="n">object</span>
   <span class="o">!</span>
   <span class="o">!------------------------------------------------------------</span>
   <span class="o">!</span> <span class="n">CURRENTLY</span><span class="p">:</span>
   <span class="o">!</span> <span class="n">with</span> <span class="n">multiple</span> <span class="n">vinit</span><span class="p">(</span><span class="mi">3</span><span class="n">f</span><span class="p">)</span> <span class="n">calls</span> <span class="n">the</span> <span class="n">environment</span> <span class="n">variable</span> <span class="k">is</span>
   <span class="o">!</span> <span class="ow">not</span> <span class="n">used</span> <span class="n">without</span> <span class="n">explicitly</span> <span class="n">using</span> <span class="n">it</span>
   <span class="n">call</span> <span class="n">get_environment_variable</span><span class="p">(</span><span class="s1">&#39;M_DRAW_OUTPUT&#39;</span><span class="p">,</span><span class="n">LENGTH</span><span class="o">=</span><span class="n">env_len</span><span class="p">)</span>
   <span class="k">if</span><span class="p">(</span><span class="n">env_len</span><span class="o">.</span><span class="n">ne</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span><span class="n">then</span>
      <span class="n">allocate</span><span class="p">(</span><span class="n">character</span><span class="p">(</span><span class="n">len</span><span class="o">=</span><span class="n">env_len</span><span class="p">)</span> <span class="p">::</span> <span class="n">env</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">get_environment_variable</span><span class="p">(</span><span class="s1">&#39;M_DRAW_OUTPUT&#39;</span><span class="p">,</span><span class="n">env</span><span class="p">)</span>
      <span class="n">call</span> <span class="n">voutput</span><span class="p">(</span><span class="n">env</span><span class="p">)</span>
   <span class="n">endif</span>
   <span class="o">!------------------------------------------------------------</span>
   <span class="n">call</span> <span class="n">vinit</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>  <span class="o">!</span> <span class="n">set</span> <span class="n">up</span> <span class="n">device</span>
   <span class="n">call</span> <span class="n">page</span><span class="p">(</span><span class="o">-</span><span class="mf">100.0</span><span class="p">,</span><span class="mf">100.0</span><span class="p">,</span><span class="o">-</span><span class="mf">100.0</span><span class="p">,</span><span class="mf">100.0</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">loadobj</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="s2">&quot;circle.obj&quot;</span><span class="p">)</span>
   <span class="o">!</span> <span class="n">translate</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="n">scale</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="n">rotate</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="n">object</span>
   <span class="n">call</span> <span class="n">invokeobj</span><span class="p">(</span>   <span class="mf">0.0</span><span class="p">,</span>  <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">invokeobj</span><span class="p">(</span> <span class="o">-</span><span class="mf">20.0</span><span class="p">,</span><span class="o">-</span><span class="mf">20.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
   <span class="n">call</span> <span class="n">invokeobj</span><span class="p">(</span>  <span class="mf">30.0</span><span class="p">,</span> <span class="mf">40.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
   <span class="n">ipaws</span><span class="o">=</span><span class="n">getkey</span><span class="p">()</span>
   <span class="n">call</span> <span class="n">vexit</span><span class="p">()</span> <span class="o">!</span> <span class="n">set</span> <span class="n">the</span> <span class="n">screen</span> <span class="n">back</span> <span class="n">to</span> <span class="n">its</span> <span class="n">original</span> <span class="n">state</span>
   <span class="o">!</span>
<span class="n">end</span> <span class="n">program</span> <span class="n">demo_saveobj</span>
</code></pre></div>

<h2 id="name_119">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">backbuffer</span><span class="ss">(</span><span class="mi">3</span><span class="nv">f</span><span class="ss">)</span> <span class="o">-</span> [<span class="nv">M_draw</span>:<span class="nv">DOUBLE_BUFFERING</span>] <span class="nv">Draw</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">backbuffer</span>. <span class="nv">Returns</span> <span class="o">-</span><span class="mi">1</span> <span class="k">if</span> <span class="nv">the</span> <span class="nv">device</span> <span class="nv">is</span> <span class="nv">not</span> <span class="nv">up</span> <span class="nv">to</span> <span class="nv">it</span>.
<span class="ss">(</span><span class="nv">LICENSE</span>:<span class="nv">PD</span><span class="ss">)</span>
</code></pre></div>

<h2 id="synopsis_118">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      integer function backbuffer()
</code></pre></div>

<h2 id="description_118">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Make</span> <span class="nv">M_draw</span> <span class="nv">draw</span> <span class="nv">in</span> <span class="nv">the</span> <span class="nv">backbuffer</span>. <span class="nv">Returns</span> <span class="o">-</span><span class="mi">1</span> <span class="k">if</span> <span class="nv">the</span> <span class="nv">device</span> <span class="nv">is</span> <span class="nv">not</span> <span class="nv">up</span> <span class="nv">to</span> <span class="nv">it</span>.
</code></pre></div>

<h2 id="name_120">NAME</h2>
<div class="codehilite"><pre><span></span><code>frontbuffer(3f) - [M_draw:DOUBLE_BUFFERING] Draw in the front buffer. This will always work.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_119">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine frontbuffer()
</code></pre></div>

<h2 id="description_119">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Make M_draw draw in the front buffer. This will always work.
</code></pre></div>

<h2 id="name_121">NAME</h2>
<div class="codehilite"><pre><span></span><code>swapbuffers(3f) - [M_draw:DOUBLE_BUFFERING] Swap the front and back buffers.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_120">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine swapbuffers()
</code></pre></div>

<h2 id="description_120">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Swap the front and back buffers.
</code></pre></div>

<h2 id="name_122">NAME</h2>
<div class="codehilite"><pre><span></span><code>getgp(3f) - [M_draw:POSITION] Gets the current graphics position
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_121">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine getgp(x, y, z)
      real x, y, z
</code></pre></div>

<h2 id="description_121">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Gets the current graphics position in world coords.
</code></pre></div>

<h2 id="name_123">NAME</h2>
<div class="codehilite"><pre><span></span><code>getgpt(3f) - [M_draw:POSITION] Gets the current transformed graphics position in world coords.
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_122">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine getgpt(x, y, z, w)
      real x, y, z, w
</code></pre></div>

<h2 id="description_122">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Gets the current transformed graphics position in world coords.
</code></pre></div>

<h2 id="name_124">NAME</h2>
<div class="codehilite"><pre><span></span><code>getgp2(3f) - [M_draw:POSITION] Gets the current graphics position in world coordinates
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_123">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine getgp2(x, y)
      real,intent(out) :: x,y
</code></pre></div>

<h2 id="description_123">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Gets the current graphics position in world coords.
</code></pre></div>

<h2 id="returns_2">RETURNS</h2>
<div class="codehilite"><pre><span></span><code>X  X coordinate of current position
Y  Y coordinate of current position
</code></pre></div>

<h2 id="example_69">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code>  <span class="nv">program</span> <span class="nv">demo_getgp2</span>
  <span class="nv">use</span> <span class="nv">M_draw</span>
  <span class="nv">implicit</span> <span class="nv">none</span>
  <span class="nv">real</span> :: <span class="nv">X</span>,<span class="nv">Y</span>
  <span class="k">call</span> <span class="nl">prefsize</span><span class="ss">(</span><span class="mi">20</span>,<span class="mi">20</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">vinit</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> </span><span class="s1">&#39;</span><span class="ss">)</span> <span class="o">!</span> <span class="nv">start</span> <span class="nv">graphics</span> <span class="nv">using</span> <span class="nv">device</span> $<span class="nv">M_DRAW_DEVICE</span>
  <span class="k">call</span> <span class="nl">ortho2</span><span class="ss">(</span><span class="o">-</span><span class="mi">100</span>.<span class="mi">0</span>,<span class="mi">100</span>.<span class="mi">0</span>,<span class="o">-</span><span class="mi">100</span>.<span class="mi">0</span>,<span class="mi">100</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">move2</span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span>,<span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>
  <span class="k">call</span> <span class="nl">draw2</span><span class="ss">(</span><span class="mi">96</span>.<span class="mi">5</span>,<span class="mi">98</span>.<span class="mi">333</span><span class="ss">)</span>

  <span class="k">call</span> <span class="nl">getgp2</span><span class="ss">(</span><span class="nv">X</span>,<span class="nv">Y</span><span class="ss">)</span>
  <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">CURRENT POSITION (X,Y)=</span><span class="s1">&#39;</span>,<span class="nv">X</span>,<span class="nv">Y</span>

  <span class="k">call</span> <span class="nl">vexit</span><span class="ss">()</span>
  <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_getgp2</span>
</code></pre></div>

<p>Results</p>
<div class="codehilite"><pre><span></span><code>CURRENT POSITION (X,Y)=   96.5000000       98.3330002
</code></pre></div>

<h2 id="name_125">NAME</h2>
<div class="codehilite"><pre><span></span><code>sgetgp2(3f) - [M_draw:POSITION] Gets the current screen graphics position in screen coords (-1 to 1)
(LICENSE:PD)
</code></pre></div>

<h2 id="synopsis_124">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>      subroutine sgetgp2(x, y)
      real x, y
</code></pre></div>

<h2 id="description_124">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Gets the current screen graphics position in screen coords (-1 to 1)
</code></pre></div>

<h2 id="name_126">NAME</h2>
<div class="codehilite"><pre><span></span><code>example_text_justification(7) - [M_draw:EXAMPLE] example program showing text justification
(LICENSE:PD)
</code></pre></div>

<h2 id="description_125">DESCRIPTION</h2>
<div class="codehilite"><pre><span></span><code>Interactive example program to demonstrate text features such as
justification, size, angle, ...
</code></pre></div>

<h2 id="example_70">EXAMPLE</h2>
<p>Sample program:</p>
<div class="codehilite"><pre><span></span><code><span class="s s-Atom">program</span> <span class="s s-Atom">demo_example_text_justification</span>   <span class="p">!</span>      <span class="s s-Atom">demonstrate</span> <span class="s s-Atom">still</span> <span class="s s-Atom">more</span> <span class="s s-Atom">features</span> <span class="s s-Atom">of</span> <span class="s s-Atom">text</span>
<span class="s s-Atom">use</span> <span class="nv">M_draw</span>
<span class="nf">character</span><span class="p">(</span><span class="s s-Atom">len</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> <span class="s s-Atom">::</span> <span class="s s-Atom">dev</span>
<span class="s s-Atom">integer</span>           <span class="s s-Atom">::</span> <span class="s s-Atom">ios</span>

<span class="nf">write</span><span class="p">(</span><span class="s s-Atom">*</span><span class="p">,</span><span class="s s-Atom">&#39;(a)&#39;</span><span class="p">,</span><span class="s s-Atom">advance=&#39;no&#39;</span><span class="p">)</span><span class="s s-Atom">&#39;Enter device: &#39;</span>
<span class="nf">read</span><span class="p">(</span><span class="s s-Atom">*</span><span class="p">,</span> <span class="s s-Atom">&#39;(a)&#39;</span><span class="p">,</span><span class="s s-Atom">iostat</span><span class="o">=</span><span class="s s-Atom">ios</span><span class="p">)</span> <span class="s s-Atom">dev</span>
<span class="nf">if</span><span class="p">(</span><span class="s s-Atom">ios</span><span class="p">.</span><span class="s s-Atom">ne</span><span class="mf">.0</span><span class="p">)</span><span class="s s-Atom">dev=&#39; &#39;</span>
<span class="s s-Atom">call</span> <span class="nf">vinit</span><span class="p">(</span><span class="s s-Atom">dev</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">textsize</span><span class="p">(</span><span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.04</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">ortho2</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_RED</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">clear</span><span class="p">()</span>

<span class="s s-Atom">call</span> <span class="nf">drawstuff</span><span class="p">()</span>
<span class="p">!</span>       <span class="nv">Now</span> <span class="s s-Atom">do</span> <span class="s s-Atom">it</span> <span class="s s-Atom">all</span> <span class="s s-Atom">with</span> <span class="s s-Atom">the</span> <span class="s s-Atom">text</span> <span class="s s-Atom">rotated</span> <span class="p">....</span>
<span class="s s-Atom">call</span> <span class="nf">textang</span><span class="p">(</span><span class="mf">45.0</span><span class="p">);</span> <span class="s s-Atom">call</span> <span class="nf">drawstuff</span><span class="p">()</span>
<span class="s s-Atom">call</span> <span class="nf">textang</span><span class="p">(</span><span class="mf">160.0</span><span class="p">);</span> <span class="s s-Atom">call</span> <span class="nf">drawstuff</span><span class="p">()</span>
<span class="s s-Atom">call</span> <span class="nf">textang</span><span class="p">(</span><span class="mf">270.0</span><span class="p">);</span> <span class="s s-Atom">call</span> <span class="nf">drawstuff</span><span class="p">()</span>
<span class="p">!</span>       <span class="nv">Now</span> <span class="s s-Atom">with</span> <span class="s s-Atom">a</span> <span class="s s-Atom">single</span> <span class="s s-Atom">character</span>
<span class="s s-Atom">call</span> <span class="nf">textjustify</span><span class="p">(</span><span class="nf">achar</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="s s-Atom">call</span> <span class="nf">drawstuff2</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">drawstuff2</span><span class="p">(</span><span class="mf">90.0</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">drawstuff2</span><span class="p">(</span><span class="mf">160.0</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">drawstuff2</span><span class="p">(</span><span class="mf">270.0</span><span class="p">)</span>

<span class="s s-Atom">do</span>
   <span class="s s-Atom">idum</span><span class="o">=</span><span class="nf">getkey</span><span class="p">()</span>
   <span class="s s-Atom">select</span> <span class="nf">case</span><span class="p">(</span><span class="s s-Atom">idum</span><span class="p">)</span>
   <span class="nf">case</span><span class="p">(:-</span><span class="mi">1</span><span class="p">)</span>                  <span class="p">;</span> <span class="s s-Atom">exit</span>
   <span class="nf">case</span><span class="p">(</span><span class="nf">ichar</span><span class="p">(</span><span class="s s-Atom">&#39;q&#39;</span><span class="p">),</span><span class="nf">ichar</span><span class="p">(</span><span class="s s-Atom">&#39;Q&#39;</span><span class="p">));</span> <span class="s s-Atom">exit</span>
   <span class="s s-Atom">end</span> <span class="s s-Atom">select</span>
<span class="s s-Atom">enddo</span>
<span class="s s-Atom">call</span> <span class="nf">vexit</span><span class="p">()</span>
<span class="s s-Atom">contains</span>

<span class="s s-Atom">subroutine</span> <span class="s s-Atom">drawstuff</span>
<span class="s s-Atom">use</span> <span class="nv">M_draw</span>

<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_BLACK</span><span class="p">)</span>
<span class="p">!</span><span class="s s-Atom">call</span> <span class="nf">polyfill</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">polyfill</span><span class="p">(.</span><span class="s s-Atom">true</span><span class="p">.)</span>
<span class="p">!</span>               <span class="nv">So</span> <span class="s s-Atom">rect</span> <span class="s s-Atom">clears</span> <span class="s s-Atom">a</span> <span class="s s-Atom">bit</span> <span class="s s-Atom">for</span> <span class="s s-Atom">us</span>

<span class="s s-Atom">call</span> <span class="nf">rect</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_WHITE</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>

<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_GREEN</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">leftjustify</span><span class="p">()</span>
<span class="s s-Atom">call</span> <span class="nf">drawstr</span><span class="p">(</span><span class="s s-Atom">&#39;This is Left Justified text&#39;</span><span class="p">)</span>

<span class="s s-Atom">idum</span><span class="o">=</span><span class="nf">getkey</span><span class="p">()</span>

<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_BLACK</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">rect</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_WHITE</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>

<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_YELLOW</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">centertext</span><span class="p">(.</span><span class="s s-Atom">true</span><span class="p">.)</span>
<span class="s s-Atom">call</span> <span class="nf">drawstr</span><span class="p">(</span><span class="s s-Atom">&#39;This is Centered text&#39;</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">centertext</span><span class="p">(.</span><span class="s s-Atom">false</span><span class="p">.)</span>

<span class="s s-Atom">idum</span><span class="o">=</span><span class="nf">getkey</span><span class="p">()</span>

<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_BLACK</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">rect</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_WHITE</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>

<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_MAGENTA</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">rightjustify</span><span class="p">()</span>
<span class="s s-Atom">call</span> <span class="nf">drawstr</span><span class="p">(</span><span class="s s-Atom">&#39;This is Right Justified text&#39;</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">textjustify</span><span class="p">(</span><span class="nf">achar</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="s s-Atom">idum</span><span class="o">=</span><span class="nf">getkey</span><span class="p">()</span>
<span class="s s-Atom">end</span> <span class="s s-Atom">subroutine</span> <span class="s s-Atom">drawstuff</span>

<span class="s s-Atom">subroutine</span> <span class="nf">drawstuff2</span><span class="p">(</span><span class="s s-Atom">ang</span><span class="p">)</span>
<span class="s s-Atom">use</span> <span class="nv">M_draw</span>

<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_BLACK</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">rect</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_WHITE</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>


<span class="s s-Atom">call</span> <span class="nf">textang</span><span class="p">(</span><span class="s s-Atom">ang</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_GREEN</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">leftjustify</span><span class="p">()</span>
<span class="s s-Atom">call</span> <span class="nf">drawchar</span><span class="p">(</span><span class="s s-Atom">&#39;B&#39;</span><span class="p">)</span>

<span class="s s-Atom">call</span> <span class="nf">textang</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">textjustify</span><span class="p">(</span><span class="nf">achar</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="s s-Atom">call</span> <span class="nf">boxtext</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="s s-Atom">&#39;The &#39;&#39;B&#39;&#39; should be leftjustified&#39;</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">pushattributes</span><span class="p">()</span>
<span class="s s-Atom">idum</span><span class="o">=</span><span class="nf">getkey</span><span class="p">()</span>

<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_BLACK</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">rect</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_WHITE</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>

<span class="s s-Atom">call</span> <span class="nf">textang</span><span class="p">(</span><span class="s s-Atom">ang</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_YELLOW</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">centertext</span><span class="p">(.</span><span class="s s-Atom">true</span><span class="p">.)</span>
<span class="s s-Atom">call</span> <span class="nf">drawchar</span><span class="p">(</span><span class="s s-Atom">&#39;B&#39;</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">centertext</span><span class="p">(.</span><span class="s s-Atom">false</span><span class="p">.)</span>
<span class="s s-Atom">call</span> <span class="nf">textang</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">textjustify</span><span class="p">(</span><span class="nf">achar</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="s s-Atom">call</span> <span class="nf">boxtext</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="s s-Atom">&#39;The &#39;&#39;B&#39;&#39; should be centered&#39;</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">pushattributes</span><span class="p">()</span>

<span class="s s-Atom">idum</span><span class="o">=</span><span class="nf">getkey</span><span class="p">()</span>

<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_BLACK</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">rect</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_WHITE</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>

<span class="s s-Atom">call</span> <span class="nf">textang</span><span class="p">(</span><span class="s s-Atom">ang</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_MAGENTA</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">rightjustify</span><span class="p">()</span>
<span class="s s-Atom">call</span> <span class="nf">drawchar</span><span class="p">(</span><span class="s s-Atom">&#39;B&#39;</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">textang</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">textjustify</span><span class="p">(</span><span class="nf">achar</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="s s-Atom">call</span> <span class="nf">boxtext</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="s s-Atom">&#39;The &#39;&#39;B&#39;&#39; should be rightjustified&#39;</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">pushattributes</span><span class="p">()</span>

<span class="s s-Atom">idum</span><span class="o">=</span><span class="nf">getkey</span><span class="p">()</span>

<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_BLACK</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">rect</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_WHITE</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>

<span class="s s-Atom">call</span> <span class="nf">textang</span><span class="p">(</span><span class="s s-Atom">ang</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_MAGENTA</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">topjustify</span><span class="p">()</span>
<span class="s s-Atom">call</span> <span class="nf">drawchar</span><span class="p">(</span><span class="s s-Atom">&#39;B&#39;</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">textang</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">textjustify</span><span class="p">(</span><span class="nf">achar</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="s s-Atom">call</span> <span class="nf">boxtext</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="s s-Atom">&#39;The &#39;&#39;B&#39;&#39; should be topjustified&#39;</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">pushattributes</span><span class="p">()</span>

<span class="s s-Atom">idum</span><span class="o">=</span><span class="nf">getkey</span><span class="p">()</span>

<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_BLACK</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">rect</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_WHITE</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">draw2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>

<span class="s s-Atom">call</span> <span class="nf">textang</span><span class="p">(</span><span class="s s-Atom">ang</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">color</span><span class="p">(</span><span class="nv">D_MAGENTA</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">move2</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">topjustify</span><span class="p">()</span>
<span class="s s-Atom">call</span> <span class="nf">rightjustify</span><span class="p">()</span>
<span class="s s-Atom">call</span> <span class="nf">drawchar</span><span class="p">(</span><span class="s s-Atom">&#39;B&#39;</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">textang</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="s s-Atom">call</span> <span class="nf">textjustify</span><span class="p">(</span><span class="nf">achar</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="s s-Atom">call</span> <span class="nf">boxtext</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="s s-Atom">&#39;The &#39;&#39;B&#39;&#39; should be right/topjustified&#39;</span><span class="p">)</span>

<span class="s s-Atom">idum</span><span class="o">=</span><span class="nf">getkey</span><span class="p">()</span>

<span class="s s-Atom">end</span> <span class="s s-Atom">subroutine</span> <span class="s s-Atom">drawstuff2</span>

<span class="s s-Atom">end</span> <span class="s s-Atom">program</span> <span class="s s-Atom">demo_example_text_justification</span>
</code></pre></div>

<p>call polyfill(.false.)
call backface(.false.)
call backfacedir(.false.)
call centertext(.false.)
call clipping(.false.)
call fixedwidth(.false.)
call polyhatch(.false.)
vsetflush(.false.)</p>
      <br>
    
  
    <div class="panel panel-default">
      <div class="panel-heading">
  <h3 class="panel-title">Uses</h3>
      </div>
      <ul class="list-group">
      
      <li class="list-group-item">
  <ul class="list-inline">
    
    <li><a href="http://fortranwiki.org/fortran/show/ISO_C_BINDING">iso_c_binding</a></li>
    
  </ul>
      </li>
      
      
      
      </ul>
    </div>
    

    
    

    <br>

    <section class="visible-xs visible-sm hidden-md">
      
<h3>Contents</h3>
 



<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#vars-1">Variables</a></h3></div>
  <div id="vars-1" class="panel-collapse collapse">
    <div class="list-group">
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_black">D_BLACK</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_blue">D_BLUE</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_bold">D_BOLD</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_bottom">D_BOTTOM</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_cyan">D_CYAN</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_green">D_GREEN</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_left">D_LEFT</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_magenta">D_MAGENTA</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_normal">D_NORMAL</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_red">D_RED</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_right">D_RIGHT</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_thick">D_THICK</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_thin">D_THIN</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_top">D_TOP</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_white">D_WHITE</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_xcentered">D_XCENTERED</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_ycentered">D_YCENTERED</a>
      
      <a class="list-group-item" href="../module/m_draw.html#variable-d_yellow">D_YELLOW</a>
      
    </div>
  </div>
</div>









<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#inters-1">Interfaces</a></h3></div>
  <div id="inters-1" class="panel-collapse collapse">
    <div class="list-group">
      
      <a class="list-group-item" href="../module/m_draw.html#interface-calcw2vcoeffs">CalcW2Vcoeffs</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-vtowxy">VtoWxy</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-arc">arc</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-arcprecision">arcprecision</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-backbuffer">backbuffer</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-bottomjustify">bottomjustify</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-boxfit">boxfit</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-callobj">callobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-checkkey">checkkey</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-circle">circle</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-circleprecision">circleprecision</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-clear">clear</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-closeobj">closeobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-closepoly">closepoly</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-color">color</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-curve">curve</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-curven">curven</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-curveprecision">curveprecision</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-dashcode">dashcode</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-delobj">delobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-draw">draw</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-draw2">draw2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-expandviewport">expandviewport</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-frontbuffer">frontbuffer</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-genobj">genobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getaspect">getaspect</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getcharsize">getcharsize</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getdepth">getdepth</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getdisplaysize">getdisplaysize</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getfactors">getfactors</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getfontasc">getfontasc</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getfontdec">getfontdec</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getfontheight">getfontheight</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getfontsize">getfontsize</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getfontwidth">getfontwidth</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getgp">getgp</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getgp2">getgp2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getgpt">getgpt</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getkey">getkey</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getopenobj">getopenobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getplanes">getplanes</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getprefposandsize">getprefposandsize</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getstring">getstring</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-getviewport">getviewport</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-hatchang">hatchang</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-hatchpitch">hatchpitch</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-isobj_f">isobj_F</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-leftjustify">leftjustify</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-linewidth">linewidth</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-locator">locator</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-lookat">lookat</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-makeobj">makeobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-makepoly">makepoly</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-mapcolor">mapcolor</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-move">move</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-move2">move2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-numchars">numchars</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-ortho">ortho</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-ortho2">ortho2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-page">page</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-patchcurves">patchcurves</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-patchprecision">patchprecision</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-pdraw">pdraw</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-perspective">perspective</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-pmove">pmove</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-point">point</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-point2">point2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-polarview">polarview</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-poly">poly</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-poly2">poly2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-popattributes">popattributes</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-popdev">popdev</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-popmatrix">popmatrix</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-popviewport">popviewport</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-prefposition">prefposition</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-prefsize">prefsize</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-pushattributes">pushattributes</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-pushmatrix">pushmatrix</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-pushviewport">pushviewport</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rdraw">rdraw</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rdraw2">rdraw2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rect">rect</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rightjustify">rightjustify</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rmove">rmove</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rmove2">rmove2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rotate">rotate</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rsdraw2">rsdraw2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-rsmove2">rsmove2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-scale">scale</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-sdraw2">sdraw2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-sector">sector</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-sgetgp2">sgetgp2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-slocator">slocator</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-smove2">smove2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-spoint2">spoint2</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-srect">srect</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-strlength_f">strlength_F</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-swapbuffers">swapbuffers</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-textang">textang</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-textjustify">textjustify</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-textsize">textsize</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-textslant">textslant</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-textweight">textweight</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-topjustify">topjustify</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-translate">translate</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-unexpandviewport">unexpandviewport</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-up">up</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-vexit">vexit</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-vflush">vflush</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-viewport">viewport</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-window">window</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-xcentertext">xcentertext</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-ycentertext">ycentertext</a>
      
      <a class="list-group-item" href="../module/m_draw.html#interface-yobbarays">yobbarays</a>
      
    </div>
  </div>
</div>




<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#types-1">Derived Types</a></h3></div>
  <div id="types-1" class="panel-collapse collapse">
    <div class="list-group">
      
      <a class="list-group-item" href="../module/m_draw.html#type-matrix">MATRIX</a>
      
    </div>
  </div>
</div>



<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#funcs-1">Functions</a></h3></div>
  <div id="funcs-1" class="panel-collapse collapse">
    <div class="list-group">
      
      <a class="list-group-item" href="../module/m_draw.html#proc-isobj">isobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-strlength">strlength</a>
      
    </div>
  </div>
</div>



<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#subs-1">Subroutines</a></h3></div>
  <div class="list-group">
    <div id="subs-1" class="panel-collapse collapse">
      
      <a class="list-group-item" href="../module/m_draw.html#proc-backface">backface</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-backfacedir">backfacedir</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-boxtext">boxtext</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-centertext">centertext</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-clipping">clipping</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-curvebasis">curvebasis</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-drawchar">drawchar</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-drawstr">drawstr</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-fixedwidth">fixedwidth</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-font">font</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-getmatrix">getmatrix</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-invokeobj">invokeobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-linestyle">linestyle</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-loadmatrix">loadmatrix</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-loadobj">loadobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-multmatrix">multmatrix</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-patch">patch</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-patchbasis">patchbasis</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-polyfill">polyfill</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-polyhatch">polyhatch</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-pop">pop</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-print">print</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-printattribs">printattribs</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-printvdevice">printvdevice</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-push">push</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-pushdev">pushdev</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-rcurve">rcurve</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-saveobj">saveobj</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-vgetdev">vgetdev</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-vinit">vinit</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-vnewdev">vnewdev</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-voutput">voutput</a>
      
      <a class="list-group-item" href="../module/m_draw.html#proc-vsetflush">vsetflush</a>
      
    </div>
  </div>
</div>










    </section>
    <br class="visible-xs visible-sm hidden-md">

    

    
    <section>
    <h2>Variables</h2>
    
<table class="table table-striped varlist">
<thead><tr><th>Type</th><th>Visibility</th>

<th>Attributes</th><th></th><th>Name</th><th></th><th>Initial</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_black"></span>integer(kind=c_int),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_BLACK</strong></td><td> =</td><td>0_C_INT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_blue"></span>integer(kind=c_int),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_BLUE</strong></td><td> =</td><td>4_C_INT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_bold"></span>integer(kind=c_short),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_BOLD</strong></td><td> =</td><td>1_C_SHORT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_bottom"></span>integer(kind=c_short),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_BOTTOM</strong></td><td> =</td><td>32_C_SHORT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_cyan"></span>integer(kind=c_int),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_CYAN</strong></td><td> =</td><td>6_C_INT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_green"></span>integer(kind=c_int),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_GREEN</strong></td><td> =</td><td>2_C_INT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_left"></span>integer(kind=c_short),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_LEFT</strong></td><td> =</td><td>4_C_SHORT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_magenta"></span>integer(kind=c_int),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_MAGENTA</strong></td><td> =</td><td>5_C_INT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_normal"></span>integer(kind=c_short),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_NORMAL</strong></td><td> =</td><td>0_C_SHORT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_red"></span>integer(kind=c_int),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_RED</strong></td><td> =</td><td>1_C_INT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_right"></span>integer(kind=c_short),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_RIGHT</strong></td><td> =</td><td>8_C_SHORT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_thick"></span>integer(kind=c_short),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_THICK</strong></td><td> =</td><td>1_C_SHORT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_thin"></span>integer(kind=c_short),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_THIN</strong></td><td> =</td><td>0_C_SHORT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_top"></span>integer(kind=c_short),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_TOP</strong></td><td> =</td><td>16_C_SHORT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_white"></span>integer(kind=c_int),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_WHITE</strong></td><td> =</td><td>7_C_INT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_xcentered"></span>integer(kind=c_short),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_XCENTERED</strong></td><td> =</td><td>1_C_SHORT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_ycentered"></span>integer(kind=c_short),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_YCENTERED</strong></td><td> =</td><td>2_C_SHORT</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_yellow"></span>integer(kind=c_int),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>D_YELLOW</strong></td><td> =</td><td>3_C_INT</td><td></td>
  
</tr>

</tbody>
</table>

    </section>
    <br>
    
    
    
    
    
    <section>
   <h2>Interfaces</h2>
   
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-calcw2vcoeffs"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine CalcW2Vcoeffs() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-vtowxy"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine VtoWxy(XS, YS, XW, YW) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>XS</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>YS</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>XW</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>YW</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-arc"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine arc(X, Y, RADIUS, STARTANG, ENDANG) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>RADIUS</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>STARTANG</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>ENDANG</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-arcprecision"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine arcprecision(N) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>N</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-backbuffer"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function backbuffer() bind(C,NAME='draw_backbuffer')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  
  
  
  
     <h4>Return Value <small>integer(kind=C_INT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-bottomjustify"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine bottomjustify() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-boxfit"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine boxfit(L, H, NCHARS) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>L</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>H</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>NCHARS</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-callobj"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine callobj(N) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>N</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-checkkey"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function checkkey() bind(C,NAME='draw_checkkey')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  
  
  
  
     <h4>Return Value <small>integer(kind=C_INT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-circle"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine circle(X, Y, RADIUS) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>RADIUS</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-circleprecision"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine circleprecision(N) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>N</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-clear"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine clear() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-closeobj"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine closeobj() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-closepoly"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine closepoly() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-color"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine color(N) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>N</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-curve"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine curve(GEOM) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>dimension(3,4)</td><td>::</td>
  <td><strong>GEOM</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-curven"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine curven(N, GEOM) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>N</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>dimension(3,*)</td><td>::</td>
  <td><strong>GEOM</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-curveprecision"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine curveprecision(NSEGMENTS) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>NSEGMENTS</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-dashcode"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine dashcode(D) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_float),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>D</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-delobj"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine delobj(N) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>N</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-draw"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine draw(X, Y, Z) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Z</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-draw2"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine draw2(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-expandviewport"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine expandviewport() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-frontbuffer"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine frontbuffer() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-genobj"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function genobj() bind(C,NAME='draw_genobj')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  
  
  
  
     <h4>Return Value <small>integer(kind=C_INT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getaspect"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function getaspect() bind(C,NAME='draw_getaspect')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  
  
  
  
     <h4>Return Value <small>real(kind=C_FLOAT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getcharsize"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine getcharsize(C, WIDTH, HEIGHT) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(kind=C_CHAR),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>C</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>WIDTH</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>HEIGHT</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getdepth"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function getdepth() bind(C,NAME='draw_getdepth')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  
  
  
  
     <h4>Return Value <small>integer(kind=C_INT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getdisplaysize"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine getdisplaysize(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getfactors"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine getfactors(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getfontasc"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function getfontasc() bind(C,NAME='draw_getfontasc')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  
  
  
  
     <h4>Return Value <small>real(kind=C_FLOAT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getfontdec"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function getfontdec() bind(C,NAME='draw_getfontdec')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  
  
  
  
     <h4>Return Value <small>real(kind=C_FLOAT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getfontheight"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function getfontheight() bind(C,NAME='draw_getfontheight')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  
  
  
  
     <h4>Return Value <small>real(kind=C_FLOAT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getfontsize"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine getfontsize(CW, CH) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>CW</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>CH</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getfontwidth"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function getfontwidth() bind(C,NAME='draw_getfontwidth')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  
  
  
  
     <h4>Return Value <small>real(kind=C_FLOAT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getgp"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine getgp(X, Y, Z) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>Z</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getgp2"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine getgp2(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getgpt"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine getgpt(X, Y, Z, W) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>Z</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>W</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getkey"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function getkey() bind(C,NAME='draw_getkey')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  
  
  
  
     <h4>Return Value <small>integer(kind=C_INT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getopenobj"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function getopenobj() bind(C,NAME='draw_getopenobj')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  
  
  
  
     <h4>Return Value <small>integer(kind=C_INT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getplanes"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function getplanes() bind(C,NAME='draw_getplanes')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  
  
  
  
     <h4>Return Value <small>integer(kind=C_INT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getprefposandsize"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine getprefposandsize(X, Y, XS, YS) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>XS</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>YS</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getstring"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function getstring(BCOL, S) result(GETSTRING) bind(C,NAME='draw_getstring')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>BCOL</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(kind=C_CHAR)</td>
  <td></td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>S</strong>(*)</td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  
  
  
  
     <h4>Return Value <small>integer(kind=C_INT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-getviewport"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine getviewport(XLOW, XHIGH, YLOW, YHIGH) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>XLOW</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>XHIGH</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>YLOW</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>YHIGH</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-hatchang"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine hatchang(A) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>A</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-hatchpitch"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine hatchpitch(A) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>A</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-isobj_f"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function isobj_F(N) result(ISOBJ_F) bind(C,NAME='draw_isobj')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>N</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  
  
  
  
     <h4>Return Value <small>integer(kind=C_INT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-leftjustify"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine leftjustify() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-linewidth"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine linewidth(W) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>W</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-locator"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function locator(WX, WY) bind(C,NAME='draw_locator')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>WX</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>WY</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  
  
  
  
     <h4>Return Value <small>integer(kind=C_INT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-lookat"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine lookat(VX, VY, VZ, PX, PY, PZ, TWIST) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>VX</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>VY</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>VZ</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>PX</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>PY</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>PZ</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>TWIST</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-makeobj"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine makeobj(N) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>N</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-makepoly"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine makepoly() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-mapcolor"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine mapcolor(I, R, G, B) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>I</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>R</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>G</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>B</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-move"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine move(X, Y, Z) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Z</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-move2"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine move2(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-numchars"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function numchars() bind(C,NAME='draw_numchars')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  
  
  
  
     <h4>Return Value <small>integer(kind=C_INT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-ortho"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine ortho(LEFT, RIGHT, BOTTOM, TOP, HITHER, YON) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>LEFT</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>RIGHT</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>BOTTOM</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>TOP</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>HITHER</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>YON</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-ortho2"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine ortho2(LEFT, RIGHT, BOTTOM, TOP) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>LEFT</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>RIGHT</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>BOTTOM</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>TOP</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-page"></span><h3>public interface <a href='../interface/page.html'>page</a>
    
  </h3></div>
  
  <ul class="list-group">
  
  
  
    <li class="list-group-item">
    
    
    <h3>
private subroutine biggest_ortho2(xsmall, xlarge, ysmall, ylarge)
    
    
   
</h3>
    



<p>Sample program:</p><a href="../proc/biggest_ortho2.html" class="pull-right"><emph>Read more&hellip;</emph></a>
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>xsmall</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>xlarge</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>ysmall</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>ylarge</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
    <li class="list-group-item">
    
    
    <h3>
private subroutine page_rri(xsize, ysize, icolor)
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>xsize</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>ysize</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer</td>
  <td></td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>icolor</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-patchcurves"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine patchcurves(NT, NU) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>NT</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>NU</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-patchprecision"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine patchprecision(TSEG, USEG) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>TSEG</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>USEG</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-pdraw"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine pdraw(X, Y, Z) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Z</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-perspective"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine perspective(FOV, ASPECT, HITHER, YON) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>FOV</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>ASPECT</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>HITHER</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>YON</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-pmove"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine pmove(X, Y, Z) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Z</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-point"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine point(X, Y, Z) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Z</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-point2"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine point2(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-polarview"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine polarview(DIST, AZIM, INC, TWIST) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>DIST</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>AZIM</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>INC</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>TWIST</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-poly"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine poly(N, DP) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>N</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>dimension(3,*)</td><td>::</td>
  <td><strong>DP</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-poly2"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine poly2(N, DP) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>N</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>dimension(2,*)</td><td>::</td>
  <td><strong>DP</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-popattributes"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine popattributes() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-popdev"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine popdev() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-popmatrix"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine popmatrix() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-popviewport"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine popviewport() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-prefposition"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine prefposition(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-prefsize"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine prefsize(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-pushattributes"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine pushattributes() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-pushmatrix"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine pushmatrix() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-pushviewport"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine pushviewport() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-rdraw"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine rdraw(X, Y, Z) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Z</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-rdraw2"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine rdraw2(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-rect"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine rect(X, Y, X2, Y2) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X2</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y2</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-rightjustify"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine rightjustify() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-rmove"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine rmove(X, Y, Z) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Z</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-rmove2"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine rmove2(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-rotate"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine rotate(R, AXIS) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>R</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(kind=C_CHAR),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>AXIS</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-rsdraw2"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine rsdraw2(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-rsmove2"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine rsmove2(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-scale"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine scale(X, Y, Z) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Z</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-sdraw2"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine sdraw2(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-sector"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine sector(X, Y, RADIUS, STARTANG, ENDANG) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>RADIUS</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>STARTANG</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>ENDANG</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-sgetgp2"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine sgetgp2(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-slocator"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function slocator(WX, WY) result(SLOCATOR) bind(C,NAME='draw_slocator')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>WX</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>WY</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  
  
  
  
     <h4>Return Value <small>integer(kind=C_INT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-smove2"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine smove2(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-spoint2"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine spoint2(X, Y) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-srect"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine srect(X, Y, X2, Y2) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X2</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y2</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-strlength_f"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public function strlength_F(S) bind(C,NAME='draw_strlength')
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(kind=C_CHAR),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>S</strong>(*)</td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  
  
  
  
     <h4>Return Value <small>real(kind=C_FLOAT)
  </small></h4>
  
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-swapbuffers"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine swapbuffers() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-textang"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine textang(ANG) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>ANG</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-textjustify"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine textjustify(VAL) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(kind=C_CHAR),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>VAL</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-textsize"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine textsize(WIDTH, HEIGHT) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>WIDTH</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>HEIGHT</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-textslant"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine textslant(VAL) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>VAL</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-textweight"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine textweight(VAL) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>VAL</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-topjustify"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine topjustify() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-translate"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine translate(X, Y, Z) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Z</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-unexpandviewport"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine unexpandviewport() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-up"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine up(X, Y, Z) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>Z</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-vexit"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine vexit() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-vflush"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine vflush() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-viewport"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine viewport(XLOW, XHIGH, YLOW, YHIGH) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>XLOW</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>XHIGH</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>YLOW</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>YHIGH</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-window"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine window(LEFT, RIGHT, BOTTOM, TOP, HITHER, YON) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>LEFT</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>RIGHT</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>BOTTOM</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>TOP</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>HITHER</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>YON</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-xcentertext"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine xcentertext() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-ycentertext"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine ycentertext() bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

    </li>
  
  </ul>
</div>

    
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="interface-yobbarays"></span><h3>interface 
    
  </h3></div>
  
  <ul class="list-group">
  
    <li class="list-group-item">
    
    
    <h3>
public subroutine yobbarays(ONOFF) bind(C,NAME="0")
    
    
   
</h3>
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>value</td><td>::</td>
  <td><strong>ONOFF</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

    </li>
  
  </ul>
</div>

    
    </section>
  <br>
    

    
    
    
    <section>
     <h2>Derived Types</h2>
   
     
<div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="type-matrix"></span><h3>type, public, bind(C) :: <a href='../type/matrix.html'>MATRIX</a>
    
  </h3></div>
  <div class="panel-body">
    
     
     <h4>Components</h4>
    
<table class="table table-striped varlist">
<thead><tr><th>Type</th><th>Visibility</th>

<th>Attributes</th><th></th><th>Name</th><th></th><th>Initial</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-array"></span>real(kind=C_FLOAT),</td>
  
  <td>public,</td>
  <td>dimension(4,4)</td><td>::</td>
  <td><strong>ARRAY</strong></td><td></td><td></td><td></td>
  
</tr>

</tbody>
</table>

     
     
          
     
  </div>
</div>

     
    </section>
  <br>
    
    
     
    <section>
    <h2>Functions</h2>
    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-isobj"></span><h3>
public function <a href='../proc/isobj.html'>isobj</a>(N)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>N</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  
  
  
  
     <h4>Return Value <small>logical
  </small></h4>
  
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-strlength"></span><h3>
public function <a href='../proc/strlength.html'>strlength</a>(NAME)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(len=*),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>NAME</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  
  
  
  
     <h4>Return Value <small>real(kind=C_FLOAT)
  </small></h4>
  
    

  </div>
  </div>

    
    </section>
    <br>
    

    
    <section>
    <h2>Subroutines</h2>
    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-backface"></span><h3>
public subroutine <a href='../proc/backface.html'>backface</a>(ONOFF)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>logical,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>ONOFF</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-backfacedir"></span><h3>
public subroutine <a href='../proc/backfacedir.html'>backfacedir</a>(CDIR)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>logical,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>CDIR</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-boxtext"></span><h3>
public subroutine <a href='../proc/boxtext.html'>boxtext</a>(X, Y, L, H, S)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>X</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>Y</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>L</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>H</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(len=*),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>S</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-centertext"></span><h3>
public subroutine <a href='../proc/centertext.html'>centertext</a>(ONOFF)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>logical,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>ONOFF</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-clipping"></span><h3>
public subroutine <a href='../proc/clipping.html'>clipping</a>(ONOFF)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>logical,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>ONOFF</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-curvebasis"></span><h3>
public subroutine <a href='../proc/curvebasis.html'>curvebasis</a>(BASIS)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>dimension(4,4)</td><td>::</td>
  <td><strong>BASIS</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-drawchar"></span><h3>
public subroutine <a href='../proc/drawchar.html'>drawchar</a>(NAME)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(len=1),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>NAME</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-drawstr"></span><h3>
public subroutine <a href='../proc/drawstr.html'>drawstr</a>(NAME)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(len=*),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>NAME</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-fixedwidth"></span><h3>
public subroutine <a href='../proc/fixedwidth.html'>fixedwidth</a>(ONOFF)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>logical,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>ONOFF</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-font"></span><h3>
public subroutine <a href='../proc/font.html'>font</a>(NAME)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(len=*),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>NAME</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-getmatrix"></span><h3>
public subroutine <a href='../proc/getmatrix.html'>getmatrix</a>(M)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(out),</td>
  <td></td>
  
  <td>dimension(4,4)</td><td>::</td>
  <td><strong>M</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-invokeobj"></span><h3>
public subroutine <a href='../proc/invokeobj.html'>invokeobj</a>(xt, yt, zt, xs, ys, zs, xr, yr, zr, iobject)
    
    
   
</h3></div>
  <div class="panel-body">
       
    







<p>Sample program</p><a href="../proc/invokeobj.html" class="pull-right"><emph>Read more&hellip;</emph></a>
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>xt</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>yt</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>zt</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>xs</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>ys</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>zs</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>xr</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>yr</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>zr</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>iobject</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-linestyle"></span><h3>
public subroutine <a href='../proc/linestyle.html'>linestyle</a>(NAME)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(len=*),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>NAME</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-loadmatrix"></span><h3>
public subroutine <a href='../proc/loadmatrix.html'>loadmatrix</a>(M)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>dimension(4,4)</td><td>::</td>
  <td><strong>M</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-loadobj"></span><h3>
public subroutine <a href='../proc/loadobj.html'>loadobj</a>(N, FILE)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT)</td>
  <td></td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>N</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(len=*),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>FILE</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-multmatrix"></span><h3>
public subroutine <a href='../proc/multmatrix.html'>multmatrix</a>(M)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(inout),</td>
  <td></td>
  
  <td>dimension(4,4)</td><td>::</td>
  <td><strong>M</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-patch"></span><h3>
public subroutine <a href='../proc/patch.html'>patch</a>(GEOMX, GEOMY, GEOMZ)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>dimension(4,4)</td><td>::</td>
  <td><strong>GEOMX</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>dimension(4,4)</td><td>::</td>
  <td><strong>GEOMY</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>dimension(4,4)</td><td>::</td>
  <td><strong>GEOMZ</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-patchbasis"></span><h3>
public subroutine <a href='../proc/patchbasis.html'>patchbasis</a>(TB, UB)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(inout),</td>
  <td></td>
  
  <td>dimension(4,4)</td><td>::</td>
  <td><strong>TB</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(inout),</td>
  <td></td>
  
  <td>dimension(4,4)</td><td>::</td>
  <td><strong>UB</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-polyfill"></span><h3>
public subroutine <a href='../proc/polyfill.html'>polyfill</a>(ONOFF)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>logical,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>ONOFF</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-polyhatch"></span><h3>
public subroutine <a href='../proc/polyhatch.html'>polyhatch</a>(ONOFF)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>logical,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>ONOFF</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-pop"></span><h3>
public subroutine <a href='../proc/pop.html'>pop</a>()
    
    
   
</h3></div>
  <div class="panel-body">
       
    







<a href="../proc/pop.html" class="pull-right"><emph>Read more&hellip;</emph></a>
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-print"></span><h3>
public subroutine <a href='../proc/print.html'>print</a>(g1, g2, g3, g4, g5, g6, g7, g8, g9)
    
    
   
</h3></div>
  <div class="panel-body">
       
    







<p>Sample program:</p><a href="../proc/print.html" class="pull-right"><emph>Read more&hellip;</emph></a>
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>class(*),</td>
  <td>intent(in),</td>
  <td>optional</td>
  
  <td></td><td>::</td>
  <td><strong>g1</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>class(*),</td>
  <td>intent(in),</td>
  <td>optional</td>
  
  <td></td><td>::</td>
  <td><strong>g2</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>class(*),</td>
  <td>intent(in),</td>
  <td>optional</td>
  
  <td></td><td>::</td>
  <td><strong>g3</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>class(*),</td>
  <td>intent(in),</td>
  <td>optional</td>
  
  <td></td><td>::</td>
  <td><strong>g4</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>class(*),</td>
  <td>intent(in),</td>
  <td>optional</td>
  
  <td></td><td>::</td>
  <td><strong>g5</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>class(*),</td>
  <td>intent(in),</td>
  <td>optional</td>
  
  <td></td><td>::</td>
  <td><strong>g6</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>class(*),</td>
  <td>intent(in),</td>
  <td>optional</td>
  
  <td></td><td>::</td>
  <td><strong>g7</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>class(*),</td>
  <td>intent(in),</td>
  <td>optional</td>
  
  <td></td><td>::</td>
  <td><strong>g8</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>class(*),</td>
  <td>intent(in),</td>
  <td>optional</td>
  
  <td></td><td>::</td>
  <td><strong>g9</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-printattribs"></span><h3>
public subroutine <a href='../proc/printattribs.html'>printattribs</a>(S)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(len=*),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>S</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-printvdevice"></span><h3>
public subroutine <a href='../proc/printvdevice.html'>printvdevice</a>(S)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(len=*),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>S</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-push"></span><h3>
public subroutine <a href='../proc/push.html'>push</a>()
    
    
   
</h3></div>
  <div class="panel-body">
       
    







<a href="../proc/push.html" class="pull-right"><emph>Read more&hellip;</emph></a>
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-pushdev"></span><h3>
public subroutine <a href='../proc/pushdev.html'>pushdev</a>(NAME)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(len=*),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>NAME</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-rcurve"></span><h3>
public subroutine <a href='../proc/rcurve.html'>rcurve</a>(GEOM)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=C_FLOAT),</td>
  <td>intent(in),</td>
  <td></td>
  
  <td>dimension(4,4)</td><td>::</td>
  <td><strong>GEOM</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-saveobj"></span><h3>
public subroutine <a href='../proc/saveobj.html'>saveobj</a>(N, FILE)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>integer(kind=C_INT)</td>
  <td></td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>N</strong></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(len=*),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>FILE</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-vgetdev"></span><h3>
public subroutine <a href='../proc/vgetdev.html'>vgetdev</a>(NAME)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(len=*)</td>
  <td></td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>NAME</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-vinit"></span><h3>
public subroutine <a href='../proc/vinit.html'>vinit</a>(NAME)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(len=*),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>NAME</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-vnewdev"></span><h3>
public subroutine <a href='../proc/vnewdev.html'>vnewdev</a>(NAME)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(len=*),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>NAME</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-voutput"></span><h3>
public subroutine <a href='../proc/voutput.html'>voutput</a>(NAME)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>character(len=*),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>NAME</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-vsetflush"></span><h3>
public subroutine <a href='../proc/vsetflush.html'>vsetflush</a>(ONOFF)
    
    
   
</h3></div>
  <div class="panel-body">
       
    
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>logical,</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>ONOFF</strong></td><td></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    </section>    
    <br>
    
    
    
    </div>
  </div>

  
    <hr>    
    </div> <!-- /container -->
    <footer>
      <div class="container">
      <div class="row">
        <div class="col-xs-6 col-md-4"><p>&copy; 2022 
                                          </p></div>
        <div class="col-xs-6 col-md-4 col-md-push-4">
          <p class="text-right">
            Documentation generated by 
            <a href="https://github.com/cmacmackin/ford">FORD</a>
             on 2022-05-04 21:44  
          </p>
        </div>
        <div class="col-xs-12 col-md-4 col-md-pull-4"><p class="text-center"> M_draw was developed by John S. Urban</p></div>
      </div>
      <br>
      </div> <!-- /container -->    
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
<!--
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
-->
    <script src="../js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../js/ie10-viewport-bug-workaround.js"></script>

    <!-- MathJax JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
        jax: ['input/TeX','input/MathML','output/HTML-CSS'],
        extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
      });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    
    <script src="../tipuesearch/tipuesearch_content.js"></script>
    <script src="../tipuesearch/tipuesearch_set.js"></script>
    <script src="../tipuesearch/tipuesearch.js"></script>
    
    
  </body>
</html>